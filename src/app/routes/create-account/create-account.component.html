<ws-header></ws-header>
<!-- Create Account Form -->
<ng-container *ngIf="createAccount">
  <div class="login-page-content">
    <div class="login-card">
      <div>
        <div class="lang-subtitle">
          <h1 class="display-3 mb-1" i18n>Create your account</h1>
        </div>
        <!-- <div class="flex gap-2">
          <h3 class="mb-2"><span i18n>Language for Learning </span>: <span
              class="display-language">{{preferedLanguage.lang}}</span></h3>
          <img src="/fusion-assets/icons/lang-icon.png" class="lang-img cursor-pointer" (click)="changeLanguage()" />
        </div> -->
        <div class="input-content">
          <div class="input-content-wrapper">
            <form [formGroup]="createAccountForm" id="form-login" action="" method="post">
              <div class="form-group">
                <input id="firstname-field" i18n class="form-control" formControlName="firstname" type="text"
                  i18n-placeholder placeholder="First Name" autocomplete="off">
                <mat-error class="text-danger" i18n
                  *ngIf="createAccountForm.controls['firstname'].hasError('required') &&
                          (createAccountForm.controls['firstname'].dirty || createAccountForm.controls['firstname'].touched)">This field is required
                </mat-error>
                <mat-error class="text-danger" i18n
                  *ngIf="createAccountForm.controls['firstname'].hasError('pattern') &&
                          (createAccountForm.controls['firstname'].dirty || createAccountForm.controls['firstname'].touched)">Invalid name Format
                </mat-error>
              </div>


              <div class="form-group">
                <input id="lastname-field" class="form-control" i18n-placeholder formControlName="lastname" type="text"
                  placeholder="Last Name" autocomplete="off">
                <mat-error class="text-danger" i18n
                  *ngIf="createAccountForm.controls['lastname'].hasError('required') &&
                                    (createAccountForm.controls['lastname'].dirty || createAccountForm.controls['lastname'].touched)">
                  This field is required</mat-error>
                <mat-error class="text-danger" i18n
                  *ngIf="createAccountForm.controls['lastname'].hasError('pattern') &&
                                    (createAccountForm.controls['lastname'].dirty || createAccountForm.controls['lastname'].touched)">
                  Invalid name Format</mat-error>
                <label class="label-text">(<span i18n>This is the name that will show up on your
                    certificate</span>)</label>
              </div>

              <div class="form-group">
                <input id="email-field" class="form-control" i18n formControlName="emailOrMobile" type="text"
                  i18n-placeholder placeholder="Phone Number/Email ID" autocomplete="off">
                <mat-error class="text-danger" i18n *ngIf="emailOrMobileErrorStatus === 'required'">This field is
                  required</mat-error>
                <mat-error class="text-danger" i18n *ngIf="emailOrMobileErrorStatus === 'pattern'">Invalid email or
                  number</mat-error>
              </div>
              <div class="form-group">
                <mat-selection-list #selected>
                  <mat-radio-group style="display: contents;flex-direction: column;" class="radio my-auto"
                    [(ngModel)]="loginSelected" [ngModelOptions]="{ standalone: true }">
                    <mat-radio-button class="radioButton" [value]="'otp'" i18n (change)="loginSelected = 'otp'">
                      With OTP
                    </mat-radio-button>
                    <mat-radio-button class="radioButton" [value]="'password'" i18n
                      (change)="loginSelected = 'password'">
                      With a password
                    </mat-radio-button>
                  </mat-radio-group>
                </mat-selection-list>
              </div>
              <div class="next-btn-div">
                <button class="btn next-button" name="login" type="submit" id="next-btn" i18n
                  [disabled]="!createAccountForm?.valid" (click)="optionSelected()">Next</button>
              </div>
              <div class="rel">
                <span class="whatsApp">
                  <img alt="Logo" src="/fusion-assets/icons/whatsapp.png" width="30">
                </span>
                <a href="https://wa.me/919632013414?text=Hi" target="_blank" class="greenButton" mat-button i18n
                  id="whatsApp-createaccount-page"
                  (click)="eventTrigger('WhatsApp-Help-Create', 'whatsApp-createaccount-page')">Get
                  help on WhatsApp</a>
              </div>
            </form>

          </div>
        </div>

      </div>
    </div>
  </div>

</ng-container>

<ng-container *ngIf="confirmPassword">
  <div class="login-page-content">
    <div class="login-card">
      <div>
        <div class="lang-subtitle">
          <h1 class="display-3 mb-1" i18n>Set your password</h1>
        </div>
        <form [formGroup]="createAccountWithPasswordForm" id="form-login" action="" method="post">
          <div class="form-group">
            <div class="input-group pwd" id="show_hide_password_1">
              <input class="form-control" i18n formControlName="password" placeholder="Password" id="password-field"
                i18n-placeholder [type]="hide1 ? 'password' : 'text'">
              <div class="input-group-addon iconPosition1">
                <a href="javascript:void(0)" (click)="toggle1()">
                  <i [ngClass]="iconChange1" aria-hidden="true"></i>
                </a>
              </div>
            </div>
            <label class="label-text"><span i18n>(Password must contain a minimum of 8 characters including
                numerals, lower and upper case alphabets and special characters without space)</span></label>
            <mat-error class="text-danger" i18n
              *ngIf="createAccountWithPasswordForm.controls['password'].hasError('required') &&
                                  (createAccountWithPasswordForm.controls['password'].dirty || createAccountWithPasswordForm.controls['password'].touched)">
              This field is required</mat-error>
            <mat-error class="text-danger" i18n
              *ngIf="createAccountWithPasswordForm.controls['password'].hasError('pattern') &&
                                (createAccountWithPasswordForm.controls['password'].dirty || createAccountWithPasswordForm.controls['password'].touched)">Invalid
              Password
              Format</mat-error>
          </div>
          <div class="form-group">
            <div class="input-group pwd">
              <input class="form-control" formControlName="confirmPassword" [type]="hide2 ? 'password' : 'text'"
                i18n-placeholder placeholder="Confirm Password" id="confpassword-field">
              <div class="input-group-addon iconPosition1">
                <a href="javascript:void(0)" (click)="toggle2()">
                  <i [ngClass]="iconChange2" aria-hidden="true"></i>
                </a>
              </div>
            </div>
            <mat-error class="text-danger" i18n
              *ngIf="createAccountWithPasswordForm.controls['confirmPassword'].hasError('required') &&
                                  (createAccountWithPasswordForm.controls['confirmPassword'].dirty || createAccountWithPasswordForm.controls['confirmPassword'].touched)">This
              field is required.
            </mat-error>
            <mat-error class="text-danger" i18n
              *ngIf="createAccountWithPasswordForm.controls['confirmPassword'].hasError('mustMatch') &&
                                (createAccountWithPasswordForm.controls['confirmPassword'].dirty || createAccountWithPasswordForm.controls['confirmPassword'].touched)">Password
              does not match
            </mat-error>
          </div>
          <div class="next-btn-div">
            <button class="btn next-button" name="login" type="submit" id="next-btn" i18n
              [disabled]="!createAccountWithPasswordForm?.valid"
              (click)="onSubmit(createAccountWithPasswordForm,createAccountForm);eventTrigger('Create Account Page', 'next-btn', createAccountForm)">Next</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-container>
<!-- Create Account Form -->
<ng-container *ngIf="langPage">
  <div class="login-page-content">
    <div class="login-card">
      <div>
        <div class="lang-subtitle">
          <h1 class="display-3 mb-1" i18n>Select Language</h1>
          <h4 class="display-3 mb-1" i18n>The Application will appear in this language</h4>
        </div>
        <div class="input-content">
          <div class="input-content-wrapper">
            <mat-selection-list #language>
              <mat-radio-group style="display: contents;flex-direction: column;" [(ngModel)]="preferredLanguage"
                [ngModelOptions]="{ standalone: true }">
                <mat-radio-button class="line-bottom radioButton" [value]="'en'" i18n
                  [ngClass]="{ 'checked mat-radio-checked': preferredLanguage === 'en' }"
                  (change)="preferredLanguageChange('en')">
                  English
                </mat-radio-button>
                <mat-radio-button class="line-bottom radioButton" [value]="'hi'" i18n
                  [ngClass]="{ 'checked mat-radio-checked': preferredLanguage === 'hi' }"
                  (change)="preferredLanguageChange('hi')">
                  हिंदी
                </mat-radio-button>
              </mat-radio-group>
            </mat-selection-list>
            <div class="next-btn-div">
              <button class="btn next-button" name="login" type="submit" id="next-btn" i18n
                [disabled]="!preferredLanguage" (click)="langChanged();">Next</button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

</ng-container>

<!-- Create Account Form Close-->
<input type="hidden" i18-value i18-aria-value aria-value="Signup successful" value="Thanks for Signing up"
  #toastSuccess />
<input type="hidden" i18-value i18-aria-value aria-value="unable to signup" value="Error Signing up!" #toastError />

<ng-container *ngIf="otpPage">
  <!-- OTP Form -->
  <div class="otp-page">
    <ws-login-otp [signUpdata]="createAccountForm" (redirectToParent)="showParentForm($event)"></ws-login-otp>
  </div>
  <!-- OTP Form Close-->
</ng-container>