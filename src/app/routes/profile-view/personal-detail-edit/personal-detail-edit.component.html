<div class="content">
  <ws-mobile-profile-nav></ws-mobile-profile-nav>
  <p class="text-2xl mt-3">Personal Details</p>

  <form [formGroup]="personalDetailForm" class="mt-3 mb-5">

    <div class="form-group">
      <input type="text" formControlName="userName" class="form-control" (change)="fieldChange()"
        placeholder="User's Name*" autocomplete="off">
    </div>

    <div class="form-group mt-4 relative">
      <input [matDatepicker]="picker" [min]="minDate" [max]="maxDate" formControlName="dob" autocomplete="off"
        (dateInput)="onDateChange($event.value)" placeholder="Date of Birth*" name="dob" id="dob-inputfield"
        class="form-control" (click)="picker.open()">
      <mat-datepicker-toggle [for]="picker" id="datepicker-icon" class="date-picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </div>
    <div>
      <pre *ngIf="invalidDob" class="text-danger">You must be at least 18 years old</pre>
    </div>

    <mat-form-field appearance="outline" class="field-fullwidth">
      <mat-select formControlName="profession" i18n-placeholder placeholder="Profession"
        (selectionChange)="professionalChange($event.value)">
        <mat-option [value]="profession" *ngFor="let profession of professions">{{profession}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="form-group">
      <input type="text" formControlName="regNurseRegMidwifeNumber" class="form-control" (change)="fieldChange()"
        placeholder="RN/RM Number" autocomplete="off">
    </div>

    <mat-form-field [hidden]="orgTypeField" appearance="outline" class="field-fullwidth">
      <mat-select formControlName="orgType" i18n-placeholder placeholder="Organization Type"
        (selectionChange)="fieldChange()">
        <mat-option [value]="orgType" *ngFor="let orgType of orgTypes">{{orgType}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="form-group">
      <input type="text" formControlName="organizationName" class="form-control" placeholder="Organization's Name"
        autocomplete="off" (change)="fieldChange()">
    </div>

    <div class="form-group">
      <input type="text" formControlName="nationality" class="form-control" placeholder="Nationality" autocomplete="off"
        (change)="fieldChange()">
    </div>

    <div class="form-group">
      <input type="text" formControlName="domicileMedium" class="form-control" placeholder="Mother Tounge"
        autocomplete="off" (change)="fieldChange()">
    </div>

    <mat-form-field appearance="outline" class="field-fullwidth">
      <mat-select formControlName="gender" placeholder="Gender" (selectionChange)="fieldChange()">
        <mat-option value="Male">Male</mat-option>
        <mat-option value="Female">Female</mat-option>
        <mat-option value="Others">Others</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="field-fullwidth">
      <mat-select formControlName="maritalStatus" placeholder="Marital Status" (selectionChange)="fieldChange()">
        <mat-option value="Single">Single</mat-option>
        <mat-option value="Married">Married</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-full margin-top-xs">
      <mat-chip-list #chipList>
        <mat-chip *ngFor="let lang of selectedKnowLangs" [selectable]="true" [removable]="true"
          (removed)="removeKnowLanguage(lang)">
          {{ lang }}
          <mat-icon matChipRemove>cancel</mat-icon>
        </mat-chip>
        <input matInput i18n-placeholder="Known Languages" placeholder="Known Languages"
          formControlName="knownLanguages" i18n-aria-label aria-label="Known Languages"
          [matAutocomplete]="knownLanguagesAuto" #knownLanguagesInput [matChipInputFor]="chipList"
          [matChipInputSeparatorKeyCodes]="separatorKeysCodes" (matChipInputTokenEnd)="add($event)" />
      </mat-chip-list>
    </mat-form-field>
    <mat-autocomplete #knownLanguagesAuto="matAutocomplete" (optionSelected)="selectKnowLanguage($event)">
      <mat-option *ngFor="let option of masterKnownLanguages | async" [value]="option.name">
        {{ option.name }}
      </mat-option>
    </mat-autocomplete>

    <div class="form-group">
      <input type="text" formControlName="mobile" class="form-control" placeholder="Phone Number" autocomplete="off"
        (change)="fieldChange()">
    </div>

    <div class="form-group">
      <input type="text" formControlName="postalAddress" class="form-control" placeholder="Address" autocomplete="off"
        (change)="fieldChange()">
    </div>

    <div class="form-group">
      <input type="text" formControlName="pincode" class="form-control" placeholder="Pincode" autocomplete="off"
        (change)="fieldChange()">
    </div>

    <button type="submit" (click)="onSubmit(personalDetailForm)" class="save-btn"
      [disabled]="personalDetailForm?.invalid || savebtnDisable">Save
    </button>
  </form>
  <input type="hidden" i18-value i18-aria-value aria-value="User profile details update successful"
    value="User profile details updated successfully!" #toastSuccess />
</div>