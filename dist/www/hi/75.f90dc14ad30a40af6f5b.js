(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{dDvn:function(e,n,t){"use strict";t.r(n);var l=t("8Y7J");class i{}var a=t("pMnS"),o=t("s7LF"),r=t("dJrM"),u=t("HsOI"),s=t("Xd0L"),c=t("IP0z"),d=t("/HVE"),b=t("omvX"),h=t("ZwOa"),m=t("oapL"),p=t("bujt"),g=t("Fwaw"),f=t("5GAg"),v=t("gavF"),C=t("QQfA"),S=t("Mr+X"),w=t("Gi4r"),k=t("2Q+G"),G=t("SVse"),y=t("06aW"),x=t("qKkb"),I=t("jDHC"),M=t("88ff"),_=t("IHMU"),E=t("fwBP"),D=t("MMX8"),N=t("dFDH"),P=t("s6ns"),O=t("kQB2"),T=t("kT2h"),A=t("TPUF"),L=t("bKtt"),F=t("GXO0"),U=t("+4BU"),B=t("JRtc"),R=t("iInd"),q=t("7QIX"),j=t("ywAd"),H=t("z/Ba"),Q=t("jKoo"),z=t("Mo/a"),V=t("WLeV"),J=t("laM3"),K=t("c9HD"),W=t("SceP"),X=t("Mz6y"),Y=t("hOhj"),Z=t("cUpR"),ee=t("FbN9"),ne=t("BzsH"),te=(t("g6cB"),t("XNiG"));let le=(()=>{class e{constructor(){this.isSavePressed=!0,this.headerSaveData=new te.a,this.showCourseHeader=new te.a,this.headerSaveData.subscribe(e=>{this.isSavePressed=e})}saveCourseContent(){this.headerSaveData.next(this.isSavePressed),console.log("this.headerSaveData",this.headerSaveData)}showCreatorHeader(e){this.showCourseHeader.next("showlogo"!==e?e||"Course Name":"")}}return e.ngInjectableDef=l.Ub({factory:function(){return new e},token:e,providedIn:"root"}),e})();var ie=t("mrSG");const ae={"Learning Path":4,Course:3,Collection:2,Resource:1};var oe=t("jtHE"),re=t("2Vo4"),ue=t("DqIX"),se=t("QJQv");class ce{constructor(e,n,t){this.accessService=e,this.contentService=n,this.authInitService=t,this.lazyLoad=new Set,this._uniqueId=0}get uniqueId(){return this._uniqueId+=1,Date.now()+this._uniqueId}buildTreeAndMap(e,n,t,l,i){const a=(e,o,r=!0)=>{const u={editable:r,parentId:o,id:this.uniqueId,identifier:e.identifier,category:this.getCategory(e),childLoaded:!this.lazyLoad.has(this.getCategory(e)),children:[]};n.set(e.identifier,e),l.set(u.id,e.identifier);const s=i.get(u.identifier);s?s.push(u.id):i.set(u.identifier,[u.id]);const c=this.hasAccess(e);if(u.childLoaded&&u.children){const n=[];e.children.forEach(e=>n.push(a(e,u.id,c))),u.children=n}return t.set(u.id,u),u};return a(e)}getFlatHierarchy(e,n,t=!0){const l=[],i=e=>{l.push(e);const a=n.get(e);(t&&a.editable||!t)&&(a.children||[]).map(e=>i(e.id))};return i(e),l}getCategory(e){return e.category||e.contentType}getCategoryType(e){switch(this.getCategory(e)){case"Collection":default:return""}}getIcon(e){return e.mimeType===se.a.collection?"Learning Path"===e.contentType?ue.a.program:"Course"===e.contentType?ue.a.course:ue.a.learningModule:e.mimeType===se.a.html?"Certification"===e.resourceType?ue.a.certificate:e.isExternal?ue.a.externalContent:ue.a.internalContent:e.mimeType===se.a.pdf?e.artifactUrl?ue.a.pdf:ue.a.emptyFile:e.mimeType===se.a.youtube?ue.a.youtube:e.mimeType===se.a.quiz?"Assessment"===e.resourceType?ue.a.assessment:ue.a.quiz:e.mimeType===se.a.dragDrop?ue.a.dragNDrop:e.mimeType===se.a.htmlPicker?ue.a.htmlPicker:e.mimeType===se.a.webModule?ue.a.internalContent:e.mimeType===se.a.handson?ue.a.handsOn:e.mimeType===se.a.iap?ue.a.iap:e.mimeType===se.a.mp3?ue.a.audio:e.mimeType===se.a.mp4?ue.a.video:"Collection"===e.contentType?ue.a.learningModule:ue.a.default}hasAccess(e,n){return this.contentService.hasAccess(e,!1,n)&&"InReview"===e.status?this.authInitService.collectionConfig.enabledRole.includes("reviewer"):"Reviewed"===e.status?this.authInitService.collectionConfig.enabledRole.includes("publisher"):["Draft","Live"].includes(e.status)?this.authInitService.collectionConfig.enabledRole.includes("author"):this.accessService.hasRole(["admin"])}allowMaxDepth(e,n,t){return!0}}class de{constructor(e,n,t,l,i){this.contentService=e,this.editorService=n,this.resolver=t,this.authInitService=l,this.logger=i,this.parentNode=[],this.invalidIds=[],this.onInvalidNodeChange=new oe.a,this.flatNodeMap=new Map,this.uniqueIdMap=new Map,this.lexIdMap=new Map,this.changedHierarchy={},this.treeStructureChange=new re.a(null),this.selectedNodeChange=new re.a(null)}get selectedNode(){return this.selectedNodeChange.value}allowDrop(e,n){let t=!0;return e.editable&&n.editable&&this.authInitService.collectionConfig.childrenConfig[n.category]&&this.resolver.hasAccess(this.contentService.getUpdatedMeta(n.identifier),n.parentId?this.contentService.getUpdatedMeta(this.flatNodeMap.get(n.parentId).identifier):void 0)?this.authInitService.collectionConfig.maxDepth<=n.level+ae[e.category]&&(t=!1):t=!1,t}dragAndDrop(e,n,t,l="below",i=!0){const a=e.parentId?this.flatNodeMap.get(e.parentId):void 0,o=this.flatNodeMap.get(n.id),r=a?a.children:[],u=o.children;r.splice(r.findIndex(n=>n.id===e.id),1);const s=this.flatNodeMap.get(e.id);if(s.parentId=n.id,t){const e=(n.children||[]).indexOf(t)+("above"===l?-1:1);o.children.splice(e,0,s)}else u?u.push(s):o.children=[s];a&&(this.changedHierarchy[a.identifier]={root:this.parentNode.includes(a.identifier),children:r.map(e=>({identifier:e.identifier,reasonAdded:"Added from Authoring Tool",childrenClassifiers:[]}))}),this.changedHierarchy[o.identifier]={root:this.parentNode.includes(o.identifier),children:u.map(e=>({identifier:e.identifier,reasonAdded:"Added from Authoring Tool",childrenClassifiers:[]}))},i&&this.treeStructureChange.next(this.treeStructureChange.value)}addChildOrSibling(e,n,t,l="below"){return ie.__awaiter(this,void 0,void 0,(function*(){try{const i=yield this.editorService.readMultipleContent(e).toPromise(),a=new Map;return i.map((i,o)=>{this.contentService.setOriginalMeta(i);const r=this.resolver.buildTreeAndMap(i,a,this.flatNodeMap,this.uniqueIdMap,this.lexIdMap);this.dragAndDrop(r,n,t,l,o===e.length-1)}),!0}catch(i){return this.logger.error(i),!1}}))}createChildOrSibling(e,n,t,l="below",i,a){return ie.__awaiter(this,void 0,void 0,(function*(){try{const o=this.authInitService.creationEntity.get(e),r=this.contentService.parentUpdatedMeta(),u=Object.assign({name:i?i.topicName:"New Content",description:i?i.topicDescription:"",mimeType:o.mimeType,contentType:o.contentType,resourceType:r.categoryType||"",categoryType:r.categoryType||"",fileType:a||"",posterImage:r.posterImage,sourceName:r.sourceName,subTitle:r.subTitle,body:r.body,locale:this.contentService.originalContent[this.flatNodeMap.get(this.currentParentNode).identifier].locale||"en"},o.additionalMeta||{}),s=yield this.editorService.createAndReadContent(u).toPromise();this.contentService.setOriginalMeta(s);const c=new Map,d=this.resolver.buildTreeAndMap(s,c,this.flatNodeMap,this.uniqueIdMap,this.lexIdMap);return this.dragAndDrop(d,n,t,l),!0}catch(o){return this.logger.error(o),!1}}))}deleteNode(e){const n=this.resolver.getFlatHierarchy(e,this.flatNodeMap,!1),t=this.flatNodeMap.get(e),l=t.parentId?this.flatNodeMap.get(t.parentId):void 0;if(n.forEach(e=>{this.flatNodeMap.delete(e);const n=this.uniqueIdMap.get(e);this.uniqueIdMap.delete(e);const t=this.lexIdMap.get(n);t.length>1?t.splice(t.findIndex(n=>e===n),1):(this.lexIdMap.delete(n),delete this.contentService.originalContent[n],delete this.contentService.upDatedContent[n],delete this.changedHierarchy[n])}),l){const n=l.children||[];n.splice(n.findIndex(n=>n.id===e),1),this.changedHierarchy[l.identifier]={root:this.parentNode.includes(l.identifier),children:n.map(e=>({identifier:e.identifier,reasonAdded:"Added from Authoring Tool",childrenClassifiers:[]}))}}this.treeStructureChange.next(this.treeStructureChange.value)}cascadeDown(e,n,t,l=!1){const i=this.resolver.getFlatHierarchy(e,this.flatNodeMap,!0);return!(i.length<=1||(i.filter(n=>n!==e).forEach(e=>{const i=this.uniqueIdMap.get(e);if(l){let e=this.contentService.getUpdatedMeta(i)[t];e?e.push(n):e=[n],this.contentService.setUpdatedMeta({field:e},i)}else this.contentService.setUpdatedMeta({field:n},i)}),0))}validationCheck(e){const n=new Map,t=new Set,l=this.resolver.getFlatHierarchy(e,this.flatNodeMap);return this.metaValidationCheck(l,t,n),this.hierarchyStructureCheck(l,t,n),this.onInvalidNodeChange.next(Array.from(t)),n.size?Array.from(n.values()):null}hierarchyStructureCheck(e,n,t){e.forEach(e=>{const l=this.flatNodeMap.get(e),i=this.authInitService.collectionConfig.childrenConfig[l.category],a=[],o=this.uniqueIdMap.get(e),r=this.contentService.getUpdatedMeta(o);let u=l,s=0;for(;u.parentId;)s+=1,u=this.flatNodeMap.get(u.parentId);const c=ae[l.category]+s-this.authInitService.collectionConfig.maxDepth;if(c>0&&a.push(`Breached maximum level of depth allowed. It should be ${c} level above`),i){const e=i.childTypes,n=e.map(()=>0),t=l.children||[];i.minChildren&&t.length<i.minChildren&&a.push(`Minimum ${i.minChildren} children is required. But ${t.length?t.length:"nothing"} present`),i.maxChildren&&t.length>i.maxChildren&&a.push(`Maximum ${i.minChildren} children is allowed. But ${t.length} present`),t.forEach((t,l)=>{const i=this.contentService.getUpdatedMeta(t.identifier);let o=!1;e.forEach((e,t)=>{if(this.contentService.checkConditionV2(i,e.conditions))return o=!0,void(n[t]=n[t]+1)}),o||a.push((i.name||"Untitled Content")+" is not allowed to add here")}),e.forEach((e,t)=>{e.minimum&&n[t]<e.minimum&&a.push(`Minimum ${e.minimum} contents of type ${this.formStringFromCondition(e.conditions)} is required. But only ${n[t]} is present`),e.maximum&&e.maximum<n[t]&&a.push(`Maximum ${e.maximum} contents of type ${this.formStringFromCondition(e.conditions)} is allowed. But ${n[t]} is present`)})}else l.children&&l.children.length&&a.push(`Should not contain any child. But ${l.children.length} were added`);this.populateErrorMsg(e,a,r,n,t)})}formStringFromCondition(e){let n="";return e.fit&&e.fit.forEach((e,t)=>{Object.keys(e).forEach((l,i)=>{n=`${n}${t>0?" or ":""}${i>0?" ":""}${l} in ${e[l].join(" or ")}`})}),n}metaValidationCheck(e,n,t){e.forEach(e=>{const l=[],i=this.uniqueIdMap.get(e),a=this.contentService.getUpdatedMeta(i);this.contentService.isValid(i)||l.push("Mandatory fields are missing"),"Resource"===a.category&&("application/html"!==a.mimeType||a.artifactUrl||a.body?["application/pdf","application/x-mpegURL"].includes(a.mimeType)&&!a.artifactUrl&&l.push("Upload file"):l.push('Provide URL or populate "Body" field')),this.populateErrorMsg(e,l,a,n,t)})}populateErrorMsg(e,n,t,l,i){n.length&&(l.add(e),i.has(e)?i.get(e).message=i.get(e).message.concat(n):i.set(e,{id:e,name:t.name||"Untitled Content",message:n}))}}class be{constructor(e,n,t,i){this.configSvc=e,this.domSanitizer=n,this.headerService=t,this.store=i,this.appIcon=null,this.buttonConfig=null,this.action=new l.m,this.subAction=new l.m,this.requiredConfig=[],this.headerService.showCourseHeader.subscribe(e=>{this.courseNameHeader=e})}ngOnInit(){this.configSvc.instanceConfig&&this.domSanitizer.bypassSecurityTrustResourceUrl(this.appIcon=this.configSvc.instanceConfig.logos.app),this.buttonConfig&&this.buttonConfig.buttons.forEach(e=>{"save"!==e.event&&"push"!==e.event&&"saveAndNext"!==e.title||this.requiredConfig.push(e)})}showCourseSettings(){this.subAction.emit({type:"editContent",identifier:this.store.parentNode[0],nodeClicked:!0})}}var he=l.sb({encapsulation:0,styles:[[".app-logo[_ngcontent-%COMP%]{max-width:100px;max-height:60px;border-left:1px solid;padding-left:8px;margin-left:10px}@media only screen and (max-width:599px){.app-logo[_ngcontent-%COMP%]{max-width:80px;max-height:30px}}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.xsmall[_ngcontent-%COMP%]{position:absolute;display:block;right:0}.header-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]],data:{}});function me(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"div",[["class","button-grid cursor-pointer"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.action.next(e.context.$implicit.event)&&l),l}),null,null)),(e()(),l.ub(1,0,null,null,2,"button",[["class"," header-btn text-white ws-mat-primary-background mat-button-base margin-right-l"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,p.d,p.b)),l.tb(2,180224,null,0,g.b,[l.k,f.h,[2,b.a]],null,null),(e()(),l.Ob(3,0,[" "," "]))],null,(function(e,n){e(n,1,0,l.Gb(n,2).disabled||null,"NoopAnimations"===l.Gb(n,2)._animationMode),e(n,3,0,n.context.$implicit.title)}))}function pe(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,13,null,null,null,null,null,null,null)),(e()(),l.ub(1,16777216,null,null,3,"a",[["class","logo-dim"],["matTooltip","Home"],["routerLink","/page/home"]],[[1,"target",0],[8,"href",4]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l.Gb(e,2).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),"longpress"===n&&(i=!1!==l.Gb(e,3).show()&&i),"keydown"===n&&(i=!1!==l.Gb(e,3)._handleKeydown(t)&&i),"touchend"===n&&(i=!1!==l.Gb(e,3)._handleTouchend()&&i),i}),null,null)),l.tb(2,671744,null,0,R.r,[R.o,R.a,G.l],{routerLink:[0,"routerLink"]},null),l.tb(3,212992,null,0,X.d,[C.d,l.k,Y.b,l.P,l.y,d.a,f.c,f.h,X.b,[2,c.b],[2,X.a],[2,Z.f]],{message:[0,"message"]},null),(e()(),l.ub(4,0,null,null,0,"img",[["alt","Application Logo"],["class","app-logo"],["id","app-logo"]],[[8,"src",4]],null,null,null,null)),(e()(),l.ub(5,0,null,null,1,"h3",[["class","mt-name margin-left-l"]],null,null,null,null,null)),(e()(),l.Ob(6,null,["",""])),(e()(),l.ub(7,0,null,null,0,"span",[["class","spacer width-1-1"]],null,null,null,null,null)),(e()(),l.ub(8,16777216,null,null,3,"mat-icon",[["class","margin-right-l mat-icon notranslate"],["matTooltip","Course Settings"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,n,t){var i=!0,a=e.component;return"longpress"===n&&(i=!1!==l.Gb(e,10).show()&&i),"keydown"===n&&(i=!1!==l.Gb(e,10)._handleKeydown(t)&&i),"touchend"===n&&(i=!1!==l.Gb(e,10)._handleTouchend()&&i),"click"===n&&(i=!1!==a.showCourseSettings()&&i),i}),S.b,S.a)),l.tb(9,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),l.tb(10,212992,null,0,X.d,[C.d,l.k,Y.b,l.P,l.y,d.a,f.c,f.h,X.b,[2,c.b],[2,X.a],[2,Z.f]],{message:[0,"message"]},null),(e()(),l.Ob(-1,0,[" settings"])),(e()(),l.kb(16777216,null,null,1,null,me)),l.tb(13,278528,null,0,G.o,[l.P,l.M,l.r],{ngForOf:[0,"ngForOf"]},null),(e()(),l.kb(0,null,null,0))],(function(e,n){var t=n.component;e(n,2,0,"/page/home"),e(n,3,0,"Home"),e(n,9,0),e(n,10,0,"Course Settings"),e(n,13,0,t.requiredConfig||l.db)}),(function(e,n){var t=n.component;e(n,1,0,l.Gb(n,2).target,l.Gb(n,2).href),e(n,4,0,t.appIcon),e(n,6,0,t.courseNameHeader),e(n,8,0,l.Gb(n,9).inline,"primary"!==l.Gb(n,9).color&&"accent"!==l.Gb(n,9).color&&"warn"!==l.Gb(n,9).color)}))}function ge(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,10,"mat-toolbar",[["class","mat-primary mat-elevation-z3 mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,ee.b,ee.a)),l.tb(1,4243456,null,1,ne.a,[l.k,d.a,G.d],null,null),l.Mb(603979776,1,{_toolbarRows:1}),(e()(),l.ub(3,16777216,null,0,3,"span",[["class","material-icons"],["matTooltip","Home"],["routerLink","/page/home"]],null,[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l.Gb(e,4).onClick()&&i),"longpress"===n&&(i=!1!==l.Gb(e,5).show()&&i),"keydown"===n&&(i=!1!==l.Gb(e,5)._handleKeydown(t)&&i),"touchend"===n&&(i=!1!==l.Gb(e,5)._handleTouchend()&&i),i}),null,null)),l.tb(4,16384,null,0,R.p,[R.o,R.a,[8,null],l.D,l.k],{routerLink:[0,"routerLink"]},null),l.tb(5,212992,null,0,X.d,[C.d,l.k,Y.b,l.P,l.y,d.a,f.c,f.h,X.b,[2,c.b],[2,X.a],[2,Z.f]],{message:[0,"message"]},null),(e()(),l.Ob(-1,null,[" home "])),(e()(),l.ub(7,0,null,0,0,"img",[["alt"," Logo"],["class","app-logo viewer-logo"]],[[8,"src",4]],null,null,null,null)),(e()(),l.kb(16777216,null,0,1,null,pe)),l.tb(9,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(10,0,null,0,0,"span",[["class","header-spacer"]],null,null,null,null,null))],(function(e,n){var t=n.component;e(n,4,0,"/page/home"),e(n,5,0,"Home"),e(n,9,0,t.courseNameHeader)}),(function(e,n){var t=n.component;e(n,0,0,l.Gb(n,1)._toolbarRows.length>0,0===l.Gb(n,1)._toolbarRows.length),e(n,7,0,t.appIcon)}))}var fe=t("c4Wm"),ve=t("BV1i"),Ce=t("DkaU"),Se=t("AaDx");class we{constructor(){this.action=new l.m}ngOnInit(){}click(e,n){this.action.emit({action:e,type:n})}}var ke=l.sb({encapsulation:0,styles:[[""]],data:{}});function Ge(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,9,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,1)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,1)._handleMouseEnter()&&i),"mousedown"===n&&(i=!1!==l.Gb(e,2)._handleMousedown(t)&&i),"keydown"===n&&(i=!1!==l.Gb(e,2)._handleKeydown(t)&&i),"click"===n&&(i=!1!==l.Gb(e,2)._handleClick(t)&&i),"click"===n&&(i=!1!==a.click(a.type,e.parent.context.$implicit.id)&&i),i}),k.c,k.a)),l.tb(1,180224,[[2,4],[3,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),l.tb(2,1196032,null,0,v.h,[C.d,l.k,l.P,v.c,[2,v.d],[6,v.f],[2,c.b],f.h],{menu:[0,"menu"]},null),(e()(),l.ub(3,0,null,0,2,"mat-icon",[["aria-hidden","false"],["class","node-icon ws-mat-primary-text mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(4,9158656,null,0,w.b,[l.k,w.d,[8,"false"],[2,w.a]],null,null),(e()(),l.Ob(5,0,["",""])),(e()(),l.ub(6,0,null,0,1,null,null,null,null,null,null,null)),(e()(),l.Ob(7,null,["",""])),(e()(),l.ub(8,0,null,0,1,"ws-auth-collection-matmenu",[],null,[[null,"action"]],(function(e,n,t){var l=!0;return"action"===n&&(l=!1!==e.component.click(t.action,t.type)&&l),l}),Ie,ke)),l.tb(9,114688,[["child",4]],0,we,[],{type:[0,"type"],childType:[1,"childType"]},{action:"action"}),(e()(),l.kb(0,null,null,0))],(function(e,n){var t=n.component;e(n,2,0,l.Gb(n,9).childMenu),e(n,4,0),e(n,9,0,t.type,n.parent.context.$implicit.children)}),(function(e,n){e(n,0,0,l.Gb(n,1).role,l.Gb(n,1)._highlighted,l.Gb(n,1)._triggersSubmenu,l.Gb(n,1)._getTabIndex(),l.Gb(n,1).disabled.toString(),l.Gb(n,1).disabled||null,l.Gb(n,2).menuOpen||null),e(n,3,0,l.Gb(n,4).inline,"primary"!==l.Gb(n,4).color&&"accent"!==l.Gb(n,4).color&&"warn"!==l.Gb(n,4).color),e(n,5,0,n.parent.context.$implicit.icon),e(n,7,0,n.parent.context.$implicit.name)}))}function ye(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,1)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,1)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.click(a.type,e.parent.context.$implicit.id)&&i),i}),k.c,k.a)),l.tb(1,180224,[[2,4],[3,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),(e()(),l.ub(2,0,null,0,2,"mat-icon",[["aria-hidden","false"],["class","node-icon ws-mat-primary-text mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(3,9158656,null,0,w.b,[l.k,w.d,[8,"false"],[2,w.a]],null,null),(e()(),l.Ob(4,0,["",""])),(e()(),l.ub(5,0,null,0,1,null,null,null,null,null,null,null)),(e()(),l.Ob(6,null,["",""]))],(function(e,n){e(n,3,0)}),(function(e,n){e(n,0,0,l.Gb(n,1).role,l.Gb(n,1)._highlighted,l.Gb(n,1)._triggersSubmenu,l.Gb(n,1)._getTabIndex(),l.Gb(n,1).disabled.toString(),l.Gb(n,1).disabled||null),e(n,2,0,l.Gb(n,3).inline,"primary"!==l.Gb(n,3).color&&"accent"!==l.Gb(n,3).color&&"warn"!==l.Gb(n,3).color),e(n,4,0,n.parent.context.$implicit.icon),e(n,6,0,n.parent.context.$implicit.name)}))}function xe(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.kb(16777216,null,null,1,null,Ge)),l.tb(2,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,null,1,null,ye)),l.tb(4,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(0,null,null,0))],(function(e,n){e(n,2,0,n.context.$implicit.children&&n.context.$implicit.children.length),e(n,4,0,!n.context.$implicit.children||!n.context.$implicit.children.length)}),null)}function Ie(e){return l.Qb(0,[l.Mb(402653184,1,{childMenu:0}),(e()(),l.ub(1,0,null,null,15,"mat-menu",[],null,null,null,k.d,k.b)),l.Lb(6144,null,v.d,null,[v.i]),l.Lb(6144,null,v.b,null,[v.d]),l.tb(4,1294336,[[1,4],["childMenu",4]],3,v.i,[l.k,l.y,v.a],null,null),l.Mb(603979776,2,{_allItems:1}),l.Mb(603979776,3,{items:1}),l.Mb(603979776,4,{lazyContent:0}),(e()(),l.kb(16777216,null,0,1,null,xe)),l.tb(9,278528,null,0,G.o,[l.P,l.M,l.r],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ub(10,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,11)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,11)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.click("delete")&&i),i}),k.c,k.a)),l.tb(11,180224,[[2,4],[3,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),(e()(),l.ub(12,0,null,0,2,"mat-icon",[["aria-hidden","false"],["aria-label","Delete content"],["class","node-icon ws-mat-primary-text mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(13,9158656,null,0,w.b,[l.k,w.d,[8,"false"],[2,w.a]],null,null),(e()(),l.Ob(-1,0,[" delete"])),(e()(),l.ub(15,0,null,0,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,["Delete"]))],(function(e,n){var t=n.component;e(n,4,0),e(n,9,0,t.childType),e(n,13,0)}),(function(e,n){e(n,10,0,l.Gb(n,11).role,l.Gb(n,11)._highlighted,l.Gb(n,11)._triggersSubmenu,l.Gb(n,11)._getTabIndex(),l.Gb(n,11).disabled.toString(),l.Gb(n,11).disabled||null),e(n,12,0,l.Gb(n,13).inline,"primary"!==l.Gb(n,13).color&&"accent"!==l.Gb(n,13).color&&"warn"!==l.Gb(n,13).color)}))}class Me{constructor(e,n,t){this.authInitService=e,this.accessService=n,this.storeService=t,this.isInvalid=!0,this.action=new l.m,this.allowedChild=[],this.allowedSibling=[],this.canEdit=!1,this.contentEditDisabled=!1,this.metaEditDisabled=!1}ngOnInit(){this.creationContent=this.authInitService.creationEntity;const e=this.authInitService.collectionConfig.childrenConfig,n=e[this.node.category],t=this.accessService.getUpdatedMeta(this.node.identifier);if(this.contentEditDisabled=t.isContentEditingDisabled,this.metaEditDisabled=t.isMetaEditingDisabled,this.canEdit=this.accessService.hasAccess(t),n&&this.node.editable&&this.canEdit&&n.allowCreation&&(this.allowedChild=this.formChildren(n,this.node.level+1)),this.node.parentId){const n=this.storeService.flatNodeMap.get(this.node.parentId),t=this.accessService.getUpdatedMeta(n.identifier);n&&e[n.category]&&this.node.editable&&!t.isContentEditingDisabled&&this.accessService.hasAccess(t)&&e[n.category].allowCreation&&(this.allowedSibling=this.formChildren(e[n.category],this.node.level))}}formChildren(e,n){const t=Array.from(this.creationContent.values()),l=[];return t.forEach(t=>{"resource"!==t.id&&"collection"!==t.id&&e.allowedCreationType&&e.allowedCreationType.includes(t.id)&&this.authInitService.collectionConfig.maxDepth>=n+(ae[t.contentType]||1)&&l.push(this.recursiveAddFunction(t))}),l}recursiveAddFunction(e){return{children:[],id:e.id,name:e.name,icon:e.icon}}click(e,n){this.action.emit({action:e,type:n})}}var _e=l.sb({encapsulation:0,styles:[[".op500[_ngcontent-%COMP%]{opacity:.5}.menu-icon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:20px}"]],data:{}});function Ee(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,5,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[2,"op500",null],[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l.Gb(e,1)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,1)._handleMouseEnter()&&i),"mousedown"===n&&(i=!1!==l.Gb(e,2)._handleMousedown(t)&&i),"keydown"===n&&(i=!1!==l.Gb(e,2)._handleKeydown(t)&&i),"click"===n&&(i=!1!==l.Gb(e,2)._handleClick(t)&&i),i}),k.c,k.a)),l.tb(1,180224,null,0,v.f,[l.k,G.d,f.h,[2,v.b]],{disabled:[0,"disabled"]},null),l.tb(2,1196032,null,0,v.h,[C.d,l.k,l.P,v.c,[2,v.d],[6,v.f],[2,c.b],f.h],{menu:[0,"menu"]},null),(e()(),l.ub(3,0,null,0,2,"mat-icon",[["aria-hidden","false"],["aria-label","Edit content"],["class","node-icon ws-mat-primary-text mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(4,9158656,null,0,w.b,[l.k,w.d,[8,"false"],[2,w.a]],null,null),(e()(),l.Ob(-1,0,[" more_vert "])),(e()(),l.kb(0,null,null,0))],(function(e,n){var t=n.component;e(n,1,0,!t.canEdit||t.metaEditDisabled&&t.contentEditDisabled),e(n,2,0,l.Gb(n.parent,17)),e(n,4,0)}),(function(e,n){e(n,0,0,!n.component.canEdit,l.Gb(n,1).role,l.Gb(n,1)._highlighted,l.Gb(n,1)._triggersSubmenu,l.Gb(n,1)._getTabIndex(),l.Gb(n,1).disabled.toString(),l.Gb(n,1).disabled||null,l.Gb(n,2).menuOpen||null),e(n,3,0,l.Gb(n,4).inline,"primary"!==l.Gb(n,4).color&&"accent"!==l.Gb(n,4).color&&"warn"!==l.Gb(n,4).color)}))}function De(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,1)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,1)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.click("preview")&&i),i}),k.c,k.a)),l.tb(1,180224,[[1,4],[2,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),(e()(),l.ub(2,0,null,0,2,"mat-icon",[["aria-hidden","false"],["aria-label","Preview"],["class","node-icon ws-mat-primary-text mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(3,9158656,null,0,w.b,[l.k,w.d,[8,"false"],[2,w.a]],null,null),(e()(),l.Ob(-1,0,[" remove_red_eye"])),(e()(),l.ub(5,0,null,0,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,["Preview"]))],(function(e,n){e(n,3,0)}),(function(e,n){e(n,0,0,l.Gb(n,1).role,l.Gb(n,1)._highlighted,l.Gb(n,1)._triggersSubmenu,l.Gb(n,1)._getTabIndex(),l.Gb(n,1).disabled.toString(),l.Gb(n,1).disabled||null),e(n,2,0,l.Gb(n,3).inline,"primary"!==l.Gb(n,3).color&&"accent"!==l.Gb(n,3).color&&"warn"!==l.Gb(n,3).color)}))}function Ne(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,11,"button",[["aria-haspopup","true"],["class","mat-menu-item mat-menu-trigger"],["mat-menu-item",""]],[[8,"hidden",0],[2,"op500",null],[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],[null,"mouseenter"],[null,"mousedown"],[null,"keydown"]],(function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l.Gb(e,1)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,1)._handleMouseEnter()&&i),"mousedown"===n&&(i=!1!==l.Gb(e,2)._handleMousedown(t)&&i),"keydown"===n&&(i=!1!==l.Gb(e,2)._handleKeydown(t)&&i),"click"===n&&(i=!1!==l.Gb(e,2)._handleClick(t)&&i),i}),k.c,k.a)),l.tb(1,180224,null,0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),l.tb(2,1196032,null,0,v.h,[C.d,l.k,l.P,v.c,[2,v.d],[6,v.f],[2,c.b],f.h],{menu:[0,"menu"]},null),(e()(),l.ub(3,0,null,0,2,"mat-icon",[["aria-hidden","false"],["aria-label","Create New Child"],["class","node-icon ws-mat-primary-text mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(4,9158656,null,0,w.b,[l.k,w.d,[8,"false"],[2,w.a]],null,null),(e()(),l.Ob(-1,0,[" more_vert"])),(e()(),l.ub(6,0,null,0,1,"ws-auth-collection-matmenu",[],null,[[null,"action"]],(function(e,n,t){var l=!0;return"action"===n&&(l=!1!==e.component.click(t.action,t.type)&&l),l}),Ie,ke)),l.tb(7,114688,[["child",4]],0,we,[],{type:[0,"type"],childType:[1,"childType"]},{action:"action"}),(e()(),l.ub(8,0,null,0,3,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[2,"op500",null],[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,9)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,9)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.click("delete")&&i),i}),k.c,k.a)),l.tb(9,180224,null,0,v.f,[l.k,G.d,f.h,[2,v.b]],{disabled:[0,"disabled"]},null),(e()(),l.ub(10,0,null,0,1,"mat-icon",[["aria-hidden","false"],["aria-label","Delete content"],["class","node-icon ws-mat-primary-text mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(11,9158656,null,0,w.b,[l.k,w.d,[8,"false"],[2,w.a]],null,null),(e()(),l.kb(16777216,null,null,1,null,Ee)),l.tb(13,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(14,0,null,null,15,"mat-menu",[],null,null,null,k.d,k.b)),l.Lb(6144,null,v.d,null,[v.i]),l.Lb(6144,null,v.b,null,[v.d]),l.tb(17,1294336,[["edit",4]],3,v.i,[l.k,l.y,v.a],null,null),l.Mb(603979776,1,{_allItems:1}),l.Mb(603979776,2,{items:1}),l.Mb(603979776,3,{lazyContent:0}),(e()(),l.kb(16777216,null,0,1,null,De)),l.tb(22,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(23,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[2,"op500",null],[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,24)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,24)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.click("delete")&&i),i}),k.c,k.a)),l.tb(24,180224,[[1,4],[2,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],{disabled:[0,"disabled"]},null),(e()(),l.ub(25,0,null,0,2,"mat-icon",[["aria-hidden","false"],["aria-label","Delete content"],["class","node-icon ws-mat-primary-text mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(26,9158656,null,0,w.b,[l.k,w.d,[8,"false"],[2,w.a]],null,null),(e()(),l.Ob(-1,0,[" delete"])),(e()(),l.ub(28,0,null,0,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,["Delete"]))],(function(e,n){var t=n.component;e(n,2,0,l.Gb(n,7).childMenu),e(n,4,0),e(n,7,0,"createChild",t.allowedChild),e(n,9,0,!t.node.parentId&&t.node.editable),e(n,11,0),e(n,13,0,"Resource"===t.node.category),e(n,17,0),e(n,22,0,"Resource"===t.node.category),e(n,24,0,!t.node.parentId&&t.node.editable),e(n,26,0)}),(function(e,n){var t=n.component;e(n,0,0,!t.allowedChild.length,!t.allowedChild.length,l.Gb(n,1).role,l.Gb(n,1)._highlighted,l.Gb(n,1)._triggersSubmenu,l.Gb(n,1)._getTabIndex(),l.Gb(n,1).disabled.toString(),l.Gb(n,1).disabled||null,l.Gb(n,2).menuOpen||null),e(n,3,0,l.Gb(n,4).inline,"primary"!==l.Gb(n,4).color&&"accent"!==l.Gb(n,4).color&&"warn"!==l.Gb(n,4).color),e(n,8,0,!t.node.parentId&&t.node.editable,l.Gb(n,9).role,l.Gb(n,9)._highlighted,l.Gb(n,9)._triggersSubmenu,l.Gb(n,9)._getTabIndex(),l.Gb(n,9).disabled.toString(),l.Gb(n,9).disabled||null),e(n,10,0,l.Gb(n,11).inline,"primary"!==l.Gb(n,11).color&&"accent"!==l.Gb(n,11).color&&"warn"!==l.Gb(n,11).color),e(n,23,0,!t.node.parentId&&t.node.editable,l.Gb(n,24).role,l.Gb(n,24)._highlighted,l.Gb(n,24)._triggersSubmenu,l.Gb(n,24)._getTabIndex(),l.Gb(n,24).disabled.toString(),l.Gb(n,24).disabled||null),e(n,25,0,l.Gb(n,26).inline,"primary"!==l.Gb(n,26).color&&"accent"!==l.Gb(n,26).color&&"warn"!==l.Gb(n,26).color)}))}class Pe{constructor(e,n){this.storeService=e,this.resolverService=n,this.isDragging=!1,this.isInvalid=!1,this.name="",this.icon=""}ngOnInit(){this.storeService.onContentChange.subscribe(e=>{e===this.identifier&&this.getUpdatedContent()}),this.getUpdatedContent()}getUpdatedContent(){const e=this.storeService.getUpdatedMeta(this.identifier);this.name=e.name,this.icon=this.resolverService.getIcon(e)}}var Oe=l.sb({encapsulation:0,styles:[[".node-name[_ngcontent-%COMP%]{position:relative;top:2px;max-width:185px;min-width:145px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.node-icon[_ngcontent-%COMP%]{padding-left:5px;padding-right:10px;top:1px;position:relative}div[_ngcontent-%COMP%]{display:flex}"]],data:{}});function Te(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,["",""]))],null,(function(e,n){var t=n.component;e(n,1,0,t.name.length>25?t.name.slice(0,22)+"...":t.name)}))}function Ae(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,["Untitled Content"]))],null,null)}function Le(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"mat-icon",[["aria-hidden","false"],["aria-label","icon"],["class","node-icon mat-icon notranslate"],["role","img"]],[[2,"ws-mat-warn-text",null],[2,"ws-mat-primary-text",null],[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(2,9158656,null,0,w.b,[l.k,w.d,[8,"false"],[2,w.a]],null,null),(e()(),l.Ob(3,0,["",""])),(e()(),l.ub(4,16777216,null,null,5,"span",[["class","node-name"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,n,t){var i=!0;return"longpress"===n&&(i=!1!==l.Gb(e,5).show()&&i),"keydown"===n&&(i=!1!==l.Gb(e,5)._handleKeydown(t)&&i),"touchend"===n&&(i=!1!==l.Gb(e,5)._handleTouchend()&&i),i}),null,null)),l.tb(5,212992,null,0,X.d,[C.d,l.k,Y.b,l.P,l.y,d.a,f.c,f.h,X.b,[2,c.b],[2,X.a],[2,Z.f]],{disabled:[0,"disabled"],message:[1,"message"]},null),(e()(),l.kb(16777216,null,null,1,null,Te)),l.tb(7,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,null,1,null,Ae)),l.tb(9,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,2,0),e(n,5,0,(null==t.name?null:t.name.length)<25||t.isDragging,t.name),e(n,7,0,t.name),e(n,9,0,!t.name)}),(function(e,n){var t=n.component;e(n,1,0,t.isInvalid,!t.isInvalid,l.Gb(n,2).inline,"primary"!==l.Gb(n,2).color&&"accent"!==l.Gb(n,2).color&&"warn"!==l.Gb(n,2).color),e(n,3,0,t.icon)}))}var Fe=t("Mc5n"),Ue=t("OBjS"),Be=t("E+8r"),$e=t("B3D2"),Re=t("wHl+"),qe=t("VDOG"),je=t("vJyk"),He=t("lJxs");class Qe{constructor(e,n,t,i,a,o,r){this.dialog=e,this.snackBar=n,this.store=t,this.editorStore=i,this.loaderService=a,this.authInitService=o,this.breakpointObserver=r,this.action=new l.m,this.closeEvent=new l.m,this.node=new l.m,this.data=new l.m,this.isDragging=!1,this.dropContainer=null,this.dragContainer=null,this.expandDelay=500,this.isDropDisabled=!1,this.draggingPosition=null,this.selectedNode=null,this.expandedNodes=new Set,this.drawer=!0,this.menubtn=!0,this.parentHierarchy=[],this.backUpInformation={isDragging:!1,dropContainer:null,dragContainer:null,draggingPosition:null},this.invalidIds=[],this.mediumScreen=!1,this.mediumSizeBreakpoint$=this.breakpointObserver.observe([q.b.XSmall,q.b.Small]).pipe(Object(He.a)(e=>e.matches)),this.leftarrow=!0,this._transformer=(e,n)=>({level:n,id:e.id,identifier:e.identifier,category:e.category,expandable:!!e.children&&e.children.length>0,children:e.children?e.children.map(e=>e.id):[],editable:e.editable,childLoaded:e.childLoaded,parentId:e.parentId})}ngOnInit(){this.parentNodeId=this.store.currentParentNode,this.treeControl=new Ce.j(e=>e.level,e=>e.expandable),this.treeFlattener=new Se.d(this._transformer,e=>e.level,e=>e.expandable,e=>e.children),this.store.onInvalidNodeChange.subscribe(e=>{this.invalidIds=e,this.expandNodesById(e)}),this.dataSource=new Se.c(this.treeControl,this.treeFlattener),this.store.treeStructureChange.subscribe(e=>{this.dataSource.data=[e],this.parentNodeId===this.store.currentParentNode?(this.expandNodesById([this.parentNodeId]),this.selectedNode&&!this.store.flatNodeMap.get(this.selectedNode)&&this.parentHierarchy.forEach(e=>{if(this.store.flatNodeMap.get(e)){const n=this.store.uniqueIdMap.get(e);return this.selectedNode=e,this.editorStore.currentContent=n,this.store.currentSelectedNode=e,void this.editorStore.changeActiveCont.next(n)}})):this.parentNodeId=this.store.currentParentNode}),this.store.selectedNodeChange.subscribe(e=>{e&&(this.selectedNode=e)}),this.mediumSizeBreakpoint$.subscribe(e=>{this.mediumScreen=e,e?(this.drawer=!0,this.leftarrow=!1,this.menubtn=!1):(this.leftarrow=!0,this.menubtn=!0)})}ngAfterViewInit(){!1===$("#cdk-drop-list-0 > mat-tree-node").hasClass("selected")&&($("#cdk-drop-list-0 > mat-tree-node:nth-child(2)").trigger("click"),$("#cdk-drop-list-0 > mat-tree-node:nth-child(2)").find("button.mat-icon-button").trigger("click"))}ngOnDestroy(){this.loaderService.changeLoad.next(!1)}onNodeSelect(e){$("#cdk-drop-list-0 > mat-tree-node").hasClass("selected")&&$("#cdk-drop-list-0 > mat-tree-node:nth-child(2)").removeClass("selected"),e.id!==this.selectedNode&&(this.action.emit({type:"editContent",identifier:e.identifier,nodeClicked:!0}),this.selectedNode=e.id,this.editorStore.currentContent=e.identifier,this.store.currentSelectedNode=e.id,this.editorStore.changeActiveCont.next(e.identifier))}closeSidenav(){this.closeEvent.emit(!0)}dragStart(e){this.isDragging=!0,this.dragContainer=e}dragEnd(){this.backUpInformation={isDragging:this.isDragging,dropContainer:this.dropContainer,dragContainer:this.dragContainer,draggingPosition:this.draggingPosition},this.isDragging=!1,this.dropContainer=null,this.dragContainer=null,this.draggingPosition=null}dragHover(e,n){if(n.preventDefault(),this.isDragging){this.dropContainer=e,clearTimeout(this.expandTimeout),this.expandTimeout=setTimeout(()=>{this.treeControl.expand(e)},this.expandDelay);const t=n.offsetY/n.target.clientHeight;t>=0&&t<.2?this.draggingPosition="above":t>.8?this.draggingPosition="below":t>=.2&&t<=.8&&(this.draggingPosition="center");const l=[];let i=e;for(;i;)i&&i.parentId&&l.push(i.parentId),i=this.getParentNode(i);if(l.includes(this.dragContainer.id))this.isDropDisabled=!0;else if(this.dragContainer===this.dropContainer)this.isDropDisabled=!0;else if(["above","below"].includes(this.draggingPosition)){const n=this.getParentNode(e);this.isDropDisabled=!n||!this.store.allowDrop(this.dragContainer,n)}else this.isDropDisabled=!this.store.allowDrop(this.dragContainer,this.dropContainer)}}dragHoverEnd(e){e.preventDefault(),this.isDragging&&(clearTimeout(this.expandTimeout),this.backUpInformation.dropContainer=this.dropContainer,this.dropContainer=null)}drop(){if(this.isDragging=!1,!this.isDropDisabled){this.preserveExpandedNodes();const e=["above","below"].includes(this.backUpInformation.draggingPosition),n=e?this.getParentNode(this.backUpInformation.dropContainer):this.backUpInformation.dropContainer;n.id!==this.backUpInformation.dragContainer.id&&this.store.dragAndDrop(this.backUpInformation.dragContainer,n,e?this.backUpInformation.dropContainer.id:void 0,this.backUpInformation.draggingPosition)}}preserveExpandedNodes(){this.expandedNodes=new Set,this.treeControl.dataNodes.forEach(e=>{this.treeControl.isExpandable(e)&&this.treeControl.isExpanded(e)&&this.expandedNodes.add(e.id)})}expandNodesById(e){const n=e?new Set(e):this.expandedNodes;this.treeControl.dataNodes.forEach(e=>{if(n.has(e.id)){this.treeControl.expand(e);let n=this.getParentNode(e);for(;n;)this.treeControl.expand(n),n=this.getParentNode(n)}})}getParentNode(e){const n=e.level;if(n<1)return null;for(let t=this.treeControl.dataNodes.indexOf(e)-1;t>=0;t-=1){const e=this.treeControl.dataNodes[t];if(e.level<n)return e}return null}delete(e){const n=this.dialog.open(Re.a,{width:"500px",height:"175px",data:"deleteTreeNode"});this.preserveExpandedNodes(),n.afterClosed().subscribe(n=>{if(n){this.parentHierarchy=[];let n=e;for(;n;)n&&n.parentId&&this.parentHierarchy.push(n.parentId),n=this.getParentNode(n);this.store.deleteNode(e.id),this.snackBar.openFromComponent(qe.a,{data:{type:$e.a.SUCCESS},duration:1e3*Be.b})}})}addChildOrSibling(e,n=!1){return ie.__awaiter(this,void 0,void 0,(function*(){const t=(e.children||[]).map(e=>this.store.uniqueIdMap.get(e)),l=this.dialog.open(je.a,{width:"90vw",height:"90vh",data:{filter:this.authInitService.collectionConfig.childrenConfig[e.category].searchFilter,selectedIds:t}});this.preserveExpandedNodes(),l.afterClosed().subscribe(t=>ie.__awaiter(this,void 0,void 0,(function*(){if(t&&t.length){const l=n?this.getParentNode(e):e;this.expandedNodes.add(l.id),this.loaderService.changeLoad.next(!0);const i=yield this.store.addChildOrSibling(t,l,n?e.id:void 0,"below");this.loaderService.changeLoad.next(!1),this.snackBar.openFromComponent(qe.a,{data:{type:i?$e.a.SUCCESS:$e.a.FAIL},duration:1e3*Be.b})}})))}))}createNewChildOrSibling(e,n,t=!1){return ie.__awaiter(this,void 0,void 0,(function*(){const l=t?this.getParentNode(n):n;this.loaderService.changeLoad.next(!0),this.preserveExpandedNodes(),this.expandedNodes.add(l.id);const i=yield this.store.createChildOrSibling(e,l,t?n.id:void 0,"below",{},"web"===e?"link":"");this.snackBar.openFromComponent(qe.a,{data:{type:i?$e.a.SUCCESS:$e.a.FAIL},duration:1e3*Be.b}),this.loaderService.changeLoad.next(!1)}))}takeAction(e,n,t){switch(e){case"editMeta":case"editContent":case"preview":this.onNodeSelect(n),this.action.emit({type:e,identifier:n.identifier});break;case"delete":this.delete(n);break;case"addChild":this.addChildOrSibling(n);break;case"addSibling":this.addChildOrSibling(n,!0);break;case"createChild":this.createNewChildOrSibling(t,n);break;case"createSibling":this.createNewChildOrSibling(t,n,!0)}}addChapter(){}}var ze=l.sb({encapsulation:0,styles:[["#cdk-drop-list-0[_ngcontent-%COMP%] > mat-tree-node[_ngcontent-%COMP%]:nth-child(1){display:none}"]],data:{}});function Ve(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,"div",[["class","p-2 pt-4 transitionD"]],null,null,null,null,null)),(e()(),l.ub(1,16777216,null,null,5,"button",[["aria-label","Maximize side panel"],["mat-icon-button",""],["matTooltip","Open side panel"],["matTooltipPosition","right"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(e,n,t){var i=!0,a=e.component;return"longpress"===n&&(i=!1!==l.Gb(e,3).show()&&i),"keydown"===n&&(i=!1!==l.Gb(e,3)._handleKeydown(t)&&i),"touchend"===n&&(i=!1!==l.Gb(e,3)._handleTouchend()&&i),"click"===n&&(a.drawer=!a.drawer,i=0!=(a.menubtn=!a.menubtn)&&i),i}),p.d,p.b)),l.tb(2,180224,null,0,g.b,[l.k,f.h,[2,b.a]],null,null),l.tb(3,212992,null,0,X.d,[C.d,l.k,Y.b,l.P,l.y,d.a,f.c,f.h,X.b,[2,c.b],[2,X.a],[2,Z.f]],{position:[0,"position"],message:[1,"message"]},null),(e()(),l.ub(4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(5,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),(e()(),l.Ob(-1,0,["menu"]))],(function(e,n){e(n,3,0,"right","Open side panel"),e(n,5,0)}),(function(e,n){e(n,1,0,l.Gb(n,2).disabled||null,"NoopAnimations"===l.Gb(n,2)._animationMode),e(n,4,0,l.Gb(n,5).inline,"primary"!==l.Gb(n,5).color&&"accent"!==l.Gb(n,5).color&&"warn"!==l.Gb(n,5).color)}))}function Je(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.kb(16777216,null,null,1,null,Ve)),l.tb(2,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(0,null,null,0))],(function(e,n){e(n,2,0,!n.component.menubtn)}),null)}function Ke(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"div",[["class","placeholder"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"span",[["class","dot"]],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,0,"span",[["class","line"]],null,null,null,null,null))],null,null)}function We(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,"button",[["mat-icon-button",""],["matTreeNodeToggle",""]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l.Gb(e,3)._toggle(t)&&i),i}),p.d,p.b)),l.Lb(6144,null,Ce.i,null,[Se.k]),l.tb(2,180224,null,0,g.b,[l.k,f.h,[2,b.a]],null,null),l.tb(3,16384,null,0,Se.k,[Ce.c,Ce.e],null,null),(e()(),l.ub(4,0,null,0,2,"mat-icon",[["class","mat-icon-rtl-mirror mat-icon notranslate"],["role","img"]],[[2,"ws-mat-warn-text",null],[2,"ws-mat-primary-text",null],[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(5,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),(e()(),l.Ob(6,0,[" "," "]))],(function(e,n){e(n,5,0)}),(function(e,n){var t=n.component;e(n,0,0,"toggle "+n.parent.context.$implicit.name,l.Gb(n,2).disabled||null,"NoopAnimations"===l.Gb(n,2)._animationMode),e(n,4,0,t.invalidIds.includes(n.parent.context.$implicit.id),!t.invalidIds.includes(n.parent.context.$implicit.id),l.Gb(n,5).inline,"primary"!==l.Gb(n,5).color&&"accent"!==l.Gb(n,5).color&&"warn"!==l.Gb(n,5).color),e(n,6,0,t.treeControl.isExpanded(n.parent.context.$implicit)?"expand_more":"chevron_right")}))}function Xe(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"button",[["disabled",""],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,p.d,p.b)),l.tb(1,180224,null,0,g.b,[l.k,f.h,[2,b.a]],{disabled:[0,"disabled"]},null)],(function(e,n){e(n,1,0,"")}),(function(e,n){e(n,0,0,l.Gb(n,1).disabled||null,"NoopAnimations"===l.Gb(n,1)._animationMode)}))}function Ye(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"ws-auth-editor-options",[["class","editor-options"]],null,[[null,"action"]],(function(e,n,t){var l=!0;return"action"===n&&(l=!1!==e.component.takeAction(t.action,e.parent.context.$implicit,t.type)&&l),l}),Ne,_e)),l.tb(1,114688,null,0,Me,[_.a,I.a,de],{node:[0,"node"],isInvalid:[1,"isInvalid"]},{action:"action"})],(function(e,n){e(n,1,0,n.parent.context.$implicit,n.component.invalidIds.includes(n.parent.context.$implicit.id))}),null)}function Ze(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"ws-auth-table-tree-label",[],null,null,null,Le,Oe)),l.tb(2,114688,null,0,Pe,[I.a,ce],{identifier:[0,"identifier"],id:[1,"id"],isDragging:[2,"isDragging"],icon:[3,"icon"]},null)],(function(e,n){var t=n.component;e(n,2,0,n.parent.context.$implicit.identifier,n.parent.context.$implicit.id,t.isDragging,t.isDropDisabled?"block":t.isDropDisabled||"center"!==t.draggingPosition?"format_indent_increase":"add_circle")}),null)}function en(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"div",[["class","placeholder second"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"span",[["class","dot"]],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,0,"span",[["class","line"]],null,null,null,null,null))],null,null)}function nn(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,23,"mat-tree-node",[["cdkDrag","node.parent?.length && node.editable"],["class","auth-tree-node mat-tree-node cdk-drag"],["matTreeNodePadding",""]],[[2,"selected",null],[2,"ws-mat-warn-text",null],[1,"aria-expanded",0],[1,"aria-level",0],[1,"role",0],[2,"cdk-drag-disabled",null],[2,"cdk-drag-dragging",null]],[[null,"mousemove"],[null,"mouseleave"],[null,"cdkDragStarted"],[null,"cdkDragReleased"],[null,"click"]],(function(e,n,t){var l=!0,i=e.component;return"mousemove"===n&&(l=!1!==i.dragHover(e.context.$implicit,t)&&l),"mouseleave"===n&&(l=!1!==i.dragHoverEnd(t)&&l),"cdkDragStarted"===n&&(l=!1!==i.dragStart(e.context.$implicit)&&l),"cdkDragReleased"===n&&(l=!1!==i.dragEnd()&&l),"click"===n&&(l=!1!==i.onNodeSelect(e.context.$implicit)&&l),l}),null,null)),l.Lb(6144,null,Ce.h,null,[Se.j]),l.Lb(6144,null,Fe.m,null,[Fe.c]),l.tb(3,16384,null,0,Se.g,[l.k,Ce.c,[8,null]],null,null),l.Lb(2048,null,Ce.e,null,[Se.g]),l.tb(5,147456,null,0,Se.j,[Ce.e,Ce.c,l.D,l.k,[2,c.b]],{level:[0,"level"],indent:[1,"indent"]},null),l.tb(6,4866048,[[2,4]],3,Fe.c,[l.k,[3,Fe.b],G.d,l.y,l.P,Fe.a,[2,c.b],Fe.i,l.h],{data:[0,"data"]},{started:"cdkDragStarted",released:"cdkDragReleased"}),l.Mb(603979776,3,{_handles:1}),l.Mb(603979776,4,{_previewTemplate:0}),l.Mb(603979776,5,{_placeholderTemplate:0}),(e()(),l.kb(16777216,null,null,1,null,Ke)),l.tb(11,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,null,1,null,We)),l.tb(13,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,null,1,null,Xe)),l.tb(15,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(16,0,null,null,1,"ws-auth-table-tree-label",[["class","tree-label"]],null,null,null,Le,Oe)),l.tb(17,114688,null,0,Pe,[I.a,ce],{identifier:[0,"identifier"],id:[1,"id"],isDragging:[2,"isDragging"],isInvalid:[3,"isInvalid"]},null),(e()(),l.kb(16777216,null,null,1,null,Ye)),l.tb(19,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(0,null,null,1,null,Ze)),l.tb(21,16384,[[4,4]],0,Fe.f,[l.M],null,null),(e()(),l.kb(16777216,null,null,1,null,en)),l.tb(23,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(0,null,null,0))],(function(e,n){var t=n.component;e(n,5,0,"",20),e(n,6,0,n.context.$implicit),e(n,11,0,"above"===t.draggingPosition&&n.context.$implicit===t.dropContainer&&n.context.$implicit.parentId),e(n,13,0,n.context.$implicit.expandable),e(n,15,0,!n.context.$implicit.expandable),e(n,17,0,n.context.$implicit.identifier,n.context.$implicit.id,t.isDragging,t.invalidIds.includes(n.context.$implicit.id)),e(n,19,0,n.context.$implicit.editable),e(n,23,0,"below"===t.draggingPosition&&n.context.$implicit===t.dropContainer&&n.context.$implicit.parentId)}),(function(e,n){var t=n.component;e(n,0,0,n.context.$implicit.id===t.selectedNode,t.invalidIds.includes(n.context.$implicit.id),l.Gb(n,3).isExpanded,"treeitem"===l.Gb(n,3).role?l.Gb(n,3).level:null,l.Gb(n,3).role,l.Gb(n,6).disabled,l.Gb(n,6)._dragRef.isDragging())}))}function tn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,11,"div",[["class","transitionD"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,10,"mat-tree",[["cdkDropList",""],["cdkDropListSortingDisabled",""],["class","px-2 mat-tree cdk-drop-list"],["role","tree"]],[[8,"id",0],[2,"cdk-drop-list-disabled",null],[2,"cdk-drop-list-dragging",null],[2,"cdk-drop-list-receiving",null]],[[null,"cdkDropListDropped"]],(function(e,n,t){var l=!0;return"cdkDropListDropped"===n&&(l=!1!==e.component.drop()&&l),l}),Ue.b,Ue.a)),l.Lb(6144,null,Ce.c,null,[Se.b]),l.Lb(6144,null,Fe.b,null,[Fe.g]),l.tb(4,2342912,null,1,Se.b,[l.r,l.h],{dataSource:[0,"dataSource"],treeControl:[1,"treeControl"]},null),l.Mb(603979776,1,{_nodeDefs:1}),l.tb(6,1196032,null,1,Fe.g,[l.k,Fe.i,l.h,[2,c.b],[3,Fe.h]],{sortingDisabled:[0,"sortingDisabled"]},{dropped:"cdkDropListDropped"}),l.Mb(603979776,2,{_draggables:1}),l.Lb(256,null,Fe.h,void 0,[]),(e()(),l.kb(0,null,null,2,null,nn)),l.tb(10,16384,null,0,Se.h,[l.M],null,null),l.Lb(2048,[[1,4]],Ce.f,null,[Se.h])],(function(e,n){var t=n.component;e(n,4,0,t.dataSource,t.treeControl),e(n,6,0,"")}),(function(e,n){e(n,1,0,l.Gb(n,6).id,l.Gb(n,6).disabled,l.Gb(n,6)._dropListRef.isDragging(),l.Gb(n,6)._dropListRef.isReceiving())}))}function ln(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,"div",[["class","flex"]],null,null,null,null,null)),(e()(),l.kb(16777216,null,null,1,null,Je)),l.tb(2,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,null,1,null,tn)),l.tb(4,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,2,0,!t.mediumScreen),e(n,4,0,t.drawer)}),null)}var an=t("cErF"),on=t("SUJ7"),rn=t("gCSd"),un=t("UAay"),sn=t("LRne"),cn=t("5+tZ"),dn=t("JIr8"),bn=t("vkgz"),hn=t("iJLM"),mn=t("+kCu");class pn{constructor(e,n,t,l,i,a,o,r,u,s,c,d,b,h,m,p){this.contentService=e,this.activateRoute=n,this.storeService=t,this.resolverService=l,this.initService=i,this.loaderService=a,this.dialog=o,this.snackBar=r,this.editorService=u,this.router=s,this.notificationSvc=c,this.accessControlSvc=d,this.breakpointObserver=b,this.fb=h,this.headerService=m,this.rootSvc=p,this.contents=[],this.couseCreated="",this.stepper=[{title:"Choose Type",disabled:!0},{title:"Content",disabled:!1},{title:"Details",disabled:!1}],this.isSubmitPressed=!1,this.showLanguageBar=!1,this.actionButton=null,this.currentStep=1,this.activeContentSubscription=null,this.routerSubscription=null,this.isChanged=!1,this.previewIdentifier=null,this.viewMode="meta",this.mimeTypeRoute="",this.mediumScreen=!1,this.sideBarOpened=!1,this.mediumSizeBreakpoint$=this.breakpointObserver.observe([q.b.XSmall,q.b.Small]).pipe(Object(He.a)(e=>e.matches)),this.mode$=this.mediumSizeBreakpoint$.pipe(Object(He.a)(e=>e?"over":"side")),this.leftArrow=!0,this.showAddchapter=!1,this.reloadTOC=!1,this.sideNavBarOpened=!1,this.expandedNodes=new Set,this.triggerQuizSave=!1,this.triggerUploadSave=!1,this.fullScreenToggle=()=>{const e=document,n=e.getElementById("auth-toc");n.requestFullscreen?e.fullscreenElement?e.exitFullscreen():n.requestFullscreen():n.mozRequestFullScreen?e.mozFullScreen?e.mozCancelFullScreen():n.mozRequestFullScreen():n.msRequestFullscreen?e.msFullscreenElement?e.msExitFullscreen():n.msRequestFullscreen():n.webkitRequestFullscreen&&(e.webkitIsFullscreen?e.webkitCancelFullscreen():n.webkitRequestFullscreen())},this.callSaveFn=this.headerService.isSavePressed,this.rootSvc.showNavbarDisplay$.next(!1),this.headerService.headerSaveData.subscribe(e=>{e&&this.save()})}ngOnInit(){this.routerValuesCall(),this.parentNodeId=this.storeService.currentParentNode,this.createTopicForm=this.fb.group({topicName:new o.g("",[o.D.required]),topicDescription:new o.g("",[o.D.required])}),this.stepper=this.initService.collectionConfig.stepper,this.showLanguageBar=this.initService.collectionConfig.languageBar;const e=[];this.initService.collectionConfig.actionButtons.buttons.forEach(n=>{this.contentService.checkConditionV2(this.contentService.getOriginalMeta(this.currentParentId),n.conditions)&&e.push({title:n.title,icon:n.icon,event:n.event,conditions:n.conditions})}),this.actionButton={enabled:this.initService.collectionConfig.actionButtons.enabled,buttons:e},this.mediumSizeBreakpoint$.subscribe(e=>{this.mediumScreen=e,this.sideBarOpened=!e})}routerValuesCall(){this.contentService.changeActiveCont.subscribe(e=>{this.currentContent=e,"Resource"!==this.contentService.getUpdatedMeta(e).contentType&&(this.viewMode="meta")}),this.activateRoute.parent&&this.activateRoute.parent.parent&&(this.routerSubscription=this.activateRoute.parent.parent.data.subscribe(e=>{this.courseName=e.contents[0].content.name;const n=new Map;e.contents.map(e=>{this.storeService.parentNode.push(e.content.identifier),this.resolverService.buildTreeAndMap(e.content,n,this.storeService.flatNodeMap,this.storeService.uniqueIdMap,this.storeService.lexIdMap)}),n.forEach(e=>this.contentService.setOriginalMeta(e));const t=this.storeService.lexIdMap.get(this.currentContent)[0];this.currentParentId=this.currentContent,this.storeService.treeStructureChange.next(this.storeService.flatNodeMap.get(t)),this.storeService.currentParentNode=t,this.storeService.currentSelectedNode=t;let l=0;const i=this.editorService.newCreatedLexid;i&&(l=this.storeService.lexIdMap.get(i)[0],this.storeService.selectedNodeChange.next(l)),e.contents[0]&&e.contents[0].content&&e.contents[0].content.children[0]&&e.contents[0].content.children[0].identifier&&(this.subAction({type:"editContent",identifier:e.contents[0].content.children[0].identifier,nodeClicked:!0}),this.storeService.selectedNodeChange.next(e.contents[0].content.children[0].identifier))}),this.activateRoute.parent.url.subscribe(e=>{"collection"===e[0].path&&this.headerService.showCreatorHeader(this.courseName)}))}expandNodesById(e){const n=e?new Set(e):this.expandedNodes;this.treeControl.dataNodes.forEach(e=>{if(n.has(e.id)){this.treeControl.expand(e);let n=this.getParentNode(e);for(;n;)this.treeControl.expand(n),n=this.getParentNode(n)}})}getParentNode(e){const n=e.level;if(n<1)return null;for(let t=this.treeControl.dataNodes.indexOf(e)-1;t>=0;t-=1){const e=this.treeControl.dataNodes[t];if(e.level<n)return e}return null}ngOnDestroy(){this.loaderService.changeLoad.next(!1),this.headerService.showCreatorHeader("showlogo"),this.rootSvc.showNavbarDisplay$.next(!0)}addChapterName(){}setContentType(e){return ie.__awaiter(this,void 0,void 0,(function*(){if(this.createTopicForm&&this.createTopicForm.value){this.couseCreated=e;const n=!1,t={id:this.storeService.currentParentNode,identifier:this.storeService.parentNode[0],editable:!0,category:"Course",childLoaded:!0,expandable:!0,level:1},l=t;this.loaderService.changeLoad.next(!0);const i=yield this.storeService.createChildOrSibling(this.couseCreated,l,n?t.id:void 0,"below",this.createTopicForm.value,"web"===e?"link":"");if(this.snackBar.openFromComponent(qe.a,{data:{type:i?$e.a.SUCCESS:$e.a.FAIL},duration:1e3*Be.b}),i){const e=this.storeService.lexIdMap.get(this.editorService.newCreatedLexid)[0];this.storeService.currentSelectedNode=e,this.storeService.selectedNodeChange.next(e),this.currentContent=this.editorService.newCreatedLexid}this.showAddchapter=!1,this.loaderService.changeLoad.next(!1),this.subAction({type:"editContent",identifier:this.editorService.newCreatedLexid,nodeClicked:!1}),this.createTopicForm.reset(),this.save()}}))}sidenavClose(){setTimeout(()=>this.leftArrow=!0,500)}save(e){const n=this.contentService.upDatedContent||{};"assessment"===this.viewMode?this.triggerQuizSave=!0:"upload"===this.viewMode&&(this.triggerUploadSave=!0),Object.keys(n).length||Object.keys(this.storeService.changedHierarchy).length?(this.isChanged=!0,this.loaderService.changeLoad.next(!0),this.triggerSave().subscribe(()=>{e&&this.action(e),this.loaderService.changeLoad.next(!1),this.snackBar.openFromComponent(qe.a,{data:{type:$e.a.SAVE_SUCCESS},duration:1e3*Be.b})},e=>{if(409===e.status){const n=new Map;Object.keys(this.contentService.originalContent).forEach(e=>n.set(e,this.contentService.originalContent[e])),this.dialog.open(un.a,{width:"80vw",height:"90vh",data:{errorFromBackendData:e.error,dataMapping:n}}).afterClosed().subscribe(e=>{e&&("string"==typeof e?(this.storeService.selectedNodeChange.next(this.storeService.lexIdMap.get(e)[0]),this.contentService.changeActiveCont.next(e)):(this.storeService.selectedNodeChange.next(e),this.contentService.changeActiveCont.next(this.storeService.uniqueIdMap.get(e))))})}this.loaderService.changeLoad.next(!1),this.snackBar.openFromComponent(qe.a,{data:{type:$e.a.SAVE_FAIL},duration:1e3*Be.b})})):e?this.action(e):this.snackBar.openFromComponent(qe.a,{data:{type:$e.a.UP_TO_DATE},duration:1e3*Be.b})}get validationCheck(){const e=this.storeService.lexIdMap.get(this.currentParentId),n=this.storeService.validationCheck(e[0]);return!n||(this.dialog.open(un.a,{width:"80vw",height:"90vh",data:{processErrorData:n}}).afterClosed().subscribe(e=>{e&&("string"==typeof e?(this.storeService.selectedNodeChange.next(this.storeService.lexIdMap.get(e)[0]),this.contentService.changeActiveCont.next(e)):(this.storeService.selectedNodeChange.next(e),this.contentService.changeActiveCont.next(this.storeService.uniqueIdMap.get(e))))}),!1)}takeAction(){this.isSubmitPressed=!0,Object.keys(this.contentService.upDatedContent||{}).length||this.isChanged?this.validationCheck&&this.dialog.open(rn.a,{width:"750px",height:"450px",data:this.contentService.getOriginalMeta(this.currentParentId)}).afterClosed().subscribe(e=>{this.finalCall(e)}):this.snackBar.openFromComponent(qe.a,{data:{type:$e.a.UP_TO_DATE},duration:1e3*Be.b})}finalCall(e){if(e){const n={comment:e.controls.comments.value,operation:"accept"===e.controls.action.value||["Draft","Live"].includes(this.contentService.originalContent[this.currentParentId].status)?1:0},t=this.contentService.getUpdatedMeta(this.currentParentId),l=(Object.keys(this.contentService.upDatedContent||{}).length||Object.keys(this.storeService.changedHierarchy).length?this.triggerSave():Object(sn.a)({})).pipe(Object(cn.a)(()=>this.editorService.forwardBackward(n,this.currentParentId,this.contentService.originalContent[this.currentParentId].status).pipe(Object(cn.a)(()=>this.notificationSvc.triggerPushPullNotification(t,n.comment,!!n.operation).pipe(Object(dn.a)(()=>Object(sn.a)({})))))));this.loaderService.changeLoad.next(!0),l.subscribe(()=>{this.loaderService.changeLoad.next(!1),this.snackBar.openFromComponent(qe.a,{data:{type:this.getMessage("success")},duration:1e3*Be.b}),this.contents=this.contents.filter(e=>e.identifier!==this.currentParentId),this.contents.length?this.contentService.changeActiveCont.next(this.contents[0].identifier):this.router.navigateByUrl("/author/home")},e=>{if(409===e.status){const n=new Map;Object.keys(this.contentService.originalContent).forEach(e=>n.set(e,this.contentService.originalContent[e])),this.dialog.open(un.a,{width:"80vw",height:"90vh",data:{errorFromBackendData:e.error,dataMapping:n}}).afterClosed().subscribe(e=>{e&&("string"==typeof e?(this.storeService.selectedNodeChange.next(this.storeService.lexIdMap.get(e)[0]),this.contentService.changeActiveCont.next(e)):(this.storeService.selectedNodeChange.next(e),this.contentService.changeActiveCont.next(this.storeService.uniqueIdMap.get(e))))})}this.loaderService.changeLoad.next(!1),this.snackBar.openFromComponent(qe.a,{data:{type:this.getMessage("failure")},duration:1e3*Be.b})})}}preview(e){const n=Object.keys(this.contentService.upDatedContent||{}).length||Object.keys(this.storeService.changedHierarchy).length?this.triggerSave():Object(sn.a)({});this.loaderService.changeLoad.next(!0),n.subscribe(()=>{this.mimeTypeRoute=Object(hn.n)(this.contentService.getUpdatedMeta(e).mimeType),this.loaderService.changeLoad.next(!1),this.previewIdentifier=e},e=>{if(409===e.status){const n=new Map;Object.keys(this.contentService.originalContent).forEach(e=>n.set(e,this.contentService.originalContent[e])),this.dialog.open(un.a,{width:"750px",height:"450px",data:{errorFromBackendData:e.error,dataMapping:n}}).afterClosed().subscribe(e=>{e&&("string"==typeof e?(this.storeService.selectedNodeChange.next(this.storeService.lexIdMap.get(e)[0]),this.contentService.changeActiveCont.next(e)):(this.storeService.selectedNodeChange.next(e),this.contentService.changeActiveCont.next(this.storeService.uniqueIdMap.get(e))))})}this.loaderService.changeLoad.next(!1),this.snackBar.openFromComponent(qe.a,{data:{type:$e.a.SAVE_FAIL},duration:1e3*Be.b})})}closePreview(){this.previewIdentifier=null}triggerSave(){const e={};let n=!1;return Object.keys(this.contentService.upDatedContent).forEach(t=>{n||(n=this.storeService.parentNode.includes(t)),e[t]={isNew:!1,root:this.storeService.parentNode.includes(t),metadata:this.contentService.upDatedContent[t]}}),n||(e[this.currentParentId]={isNew:!1,root:!0,metadata:{}}),this.editorService.updateContentV2({nodesModified:e,hierarchy:this.storeService.changedHierarchy}).pipe(Object(bn.a)(()=>{this.storeService.changedHierarchy={},Object.keys(this.contentService.upDatedContent).forEach(e=>{this.contentService.resetOriginalMeta(this.contentService.upDatedContent[e],e)}),this.contentService.upDatedContent={}}))}getMessage(e){if("success"===e)switch(this.contentService.originalContent[this.currentParentId].status){case"Draft":case"Live":return $e.a.SEND_FOR_REVIEW_SUCCESS;case"InReview":return $e.a.REVIEW_SUCCESS;case"Reviewed":return $e.a.PUBLISH_SUCCESS;default:return""}switch(this.contentService.originalContent[this.currentParentId].status){case"Draft":case"Live":return $e.a.SEND_FOR_REVIEW_FAIL;case"InReview":return $e.a.REVIEW_FAIL;case"Reviewed":return $e.a.PUBLISH_FAIL;default:return""}}subAction(e){switch(this.contentService.changeActiveCont.next(e.identifier),e.type){case"editMeta":this.viewMode="meta";break;case"editContent":const n=this.contentService.getUpdatedMeta(e.identifier);["application/pdf","application/x-mpegURL"].includes(n.mimeType)?this.viewMode="upload":["video/x-youtube","application/html"].includes(n.mimeType)&&"link"===n.fileType?this.viewMode="curate":"application/html"===n.mimeType?this.viewMode="upload":"application/quiz"===n.mimeType?this.viewMode="assessment":"application/web-module"===n.mimeType&&(this.viewMode="webmodule");break;case"preview":this.preview(e.identifier);break;case"showAddChapter":this.showAddchapter=!1}}action(e){switch(e){case"next":this.viewMode="meta";break;case"refresh":window.location.reload();break;case"scroll":const e=document.getElementById("edit-meta");e&&e.scrollIntoView();break;case"save":this.save();break;case"saveAndNext":this.save("next");break;case"preview":this.preview(this.currentContent);break;case"push":"publish"===this.getAction()?this.dialog.open(Re.a,{width:"70%",data:"publishMessage"}).afterClosed().subscribe(e=>{e&&this.takeAction()}):this.takeAction();break;case"delete":this.dialog.open(on.a,{width:"600px",height:"auto",data:this.contentService.getUpdatedMeta(this.currentParentId)}).afterClosed().subscribe(e=>{e&&(this.contents=this.contents.filter(e=>e.identifier!==this.currentParentId),this.contents.length?this.contentService.changeActiveCont.next(this.contents[0].identifier):this.router.navigateByUrl("/author/home"))});break;case"fullscreen":this.fullScreenToggle();break;case"close":this.router.navigateByUrl("/author/home")}}delete(){this.loaderService.changeLoad.next(!0),this.editorService.deleteContent(this.currentParentId).subscribe(()=>{this.loaderService.changeLoad.next(!1),this.snackBar.openFromComponent(qe.a,{data:{type:$e.a.SUCCESS},duration:1e3*Be.b}),this.contents=this.contents.filter(e=>e.identifier!==this.currentParentId),this.contents.length?this.contentService.changeActiveCont.next(this.contents[0].identifier):this.router.navigateByUrl("/author/home")},e=>{if(409===e.status){const n=new Map;Object.keys(this.contentService.originalContent).forEach(e=>n.set(e,this.contentService.originalContent[e])),this.dialog.open(un.a,{width:"750px",height:"450px",data:{errorFromBackendData:e.error,dataMapping:n}}).afterClosed().subscribe(e=>{e&&("string"==typeof e?(this.storeService.selectedNodeChange.next(this.storeService.lexIdMap.get(e)[0]),this.contentService.changeActiveCont.next(e)):(this.storeService.selectedNodeChange.next(e),this.contentService.changeActiveCont.next(this.storeService.uniqueIdMap.get(e))))})}this.loaderService.changeLoad.next(!1),this.snackBar.openFromComponent(qe.a,{data:{type:$e.a.CONTENT_FAIL},duration:1e3*Be.b})})}getAction(){switch(this.contentService.originalContent[this.currentParentId].status){case"Draft":case"Live":return"sendForReview";case"InReview":return"review";case"Reviewed":return this.contentService.resetStatus()?(this.contentService.changeStatusDraft(),"sendForReview"):"publish";default:return"sendForReview"}}canDelete(){return this.accessControlSvc.hasRole(["editor","admin"])||["Draft","Live"].includes(this.contentService.originalContent[this.currentParentId].status)&&this.contentService.originalContent[this.currentParentId].creatorContacts.find(e=>e.id===this.accessControlSvc.userId)}}var gn=l.sb({encapsulation:0,styles:[[".example-container[_ngcontent-%COMP%]{height:100vh}  #auth-toc .mat-drawer-inner-container{min-width:250px}"]],data:{}});function fn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,105,"form",[["class","margin-left-l"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,n,t){var i=!0;return"submit"===n&&(i=!1!==l.Gb(e,2).onSubmit(t)&&i),"reset"===n&&(i=!1!==l.Gb(e,2).onReset()&&i),i}),null,null)),l.tb(1,16384,null,0,o.I,[],null,null),l.tb(2,540672,null,0,o.k,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,o.c,null,[o.k]),l.tb(4,16384,null,0,o.t,[[4,o.c]],null,null),(e()(),l.ub(5,0,null,null,47,"div",[["class","margin-top-s"]],null,null,null,null,null)),(e()(),l.ub(6,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Build your course by adding Topics"])),(e()(),l.ub(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Add your content, quizzes, discussions and publish"])),(e()(),l.ub(10,0,null,null,1,"p",[["class","required margin-remove-bottom"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Hi, Lets start with a Topic name "])),(e()(),l.ub(12,0,null,null,19,"div",[["class","margin-top-xs width-3-5"]],null,null,null,null,null)),(e()(),l.ub(13,0,null,null,18,"mat-form-field",[["appearance","outline"],["class","margin-top-xs width-1-4 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,r.b,r.a)),l.tb(14,7520256,null,9,u.c,[l.k,l.h,[2,s.h],[2,c.b],[2,u.a],d.a,l.y,[2,b.a]],{appearance:[0,"appearance"]},null),l.Mb(603979776,5,{_controlNonStatic:0}),l.Mb(335544320,6,{_controlStatic:0}),l.Mb(603979776,7,{_labelChildNonStatic:0}),l.Mb(335544320,8,{_labelChildStatic:0}),l.Mb(603979776,9,{_placeholderChild:0}),l.Mb(603979776,10,{_errorChildren:1}),l.Mb(603979776,11,{_hintChildren:1}),l.Mb(603979776,12,{_prefixChildren:1}),l.Mb(603979776,13,{_suffixChildren:1}),(e()(),l.ub(24,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","topicName"],["matInput",""],["placeholder","Topic Name"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(e,n,t){var i=!0;return"input"===n&&(i=!1!==l.Gb(e,25)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l.Gb(e,25).onTouched()&&i),"compositionstart"===n&&(i=!1!==l.Gb(e,25)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l.Gb(e,25)._compositionEnd(t.target.value)&&i),"blur"===n&&(i=!1!==l.Gb(e,29)._focusChanged(!1)&&i),"focus"===n&&(i=!1!==l.Gb(e,29)._focusChanged(!0)&&i),"input"===n&&(i=!1!==l.Gb(e,29)._onInput()&&i),i}),null,null)),l.tb(25,16384,null,0,o.d,[l.D,l.k,[2,o.a]],null,null),l.Lb(1024,null,o.q,(function(e){return[e]}),[o.d]),l.tb(27,671744,null,0,o.i,[[3,o.c],[8,null],[8,null],[6,o.q],[2,o.G]],{name:[0,"name"]},null),l.Lb(2048,null,o.r,null,[o.i]),l.tb(29,999424,null,0,h.b,[l.k,d.a,[6,o.r],[2,o.u],[2,o.k],s.b,[8,null],m.a,l.y],{placeholder:[0,"placeholder"]},null),l.tb(30,16384,null,0,o.s,[[4,o.r]],null,null),l.Lb(2048,[[5,4],[6,4]],u.d,null,[h.b]),(e()(),l.ub(32,0,null,null,20,"div",[["class","margin-top-xs width-3-5"]],null,null,null,null,null)),(e()(),l.ub(33,0,null,null,19,"mat-form-field",[["appearance","outline"],["class","margin-top-xs width-1-4 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,r.b,r.a)),l.tb(34,7520256,null,9,u.c,[l.k,l.h,[2,s.h],[2,c.b],[2,u.a],d.a,l.y,[2,b.a]],{appearance:[0,"appearance"]},null),l.Mb(603979776,14,{_controlNonStatic:0}),l.Mb(335544320,15,{_controlStatic:0}),l.Mb(603979776,16,{_labelChildNonStatic:0}),l.Mb(335544320,17,{_labelChildStatic:0}),l.Mb(603979776,18,{_placeholderChild:0}),l.Mb(603979776,19,{_errorChildren:1}),l.Mb(603979776,20,{_hintChildren:1}),l.Mb(603979776,21,{_prefixChildren:1}),l.Mb(603979776,22,{_suffixChildren:1}),(e()(),l.ub(44,0,null,1,8,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","topicDescription"],["matInput",""],["placeholder","Topic Description"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(e,n,t){var i=!0;return"input"===n&&(i=!1!==l.Gb(e,45)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l.Gb(e,45).onTouched()&&i),"compositionstart"===n&&(i=!1!==l.Gb(e,45)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l.Gb(e,45)._compositionEnd(t.target.value)&&i),"blur"===n&&(i=!1!==l.Gb(e,49)._focusChanged(!1)&&i),"focus"===n&&(i=!1!==l.Gb(e,49)._focusChanged(!0)&&i),"input"===n&&(i=!1!==l.Gb(e,49)._onInput()&&i),i}),null,null)),l.tb(45,16384,null,0,o.d,[l.D,l.k,[2,o.a]],null,null),l.Lb(1024,null,o.q,(function(e){return[e]}),[o.d]),l.tb(47,671744,null,0,o.i,[[3,o.c],[8,null],[8,null],[6,o.q],[2,o.G]],{name:[0,"name"]},null),l.Lb(2048,null,o.r,null,[o.i]),l.tb(49,999424,null,0,h.b,[l.k,d.a,[6,o.r],[2,o.u],[2,o.k],s.b,[8,null],m.a,l.y],{placeholder:[0,"placeholder"]},null),l.tb(50,16384,null,0,o.s,[[4,o.r]],null,null),l.Lb(2048,[[14,4],[15,4]],u.d,null,[h.b]),(e()(),l.Ob(-1,null,["            "])),(e()(),l.ub(53,0,null,null,52,"div",[["class","example-button-container"]],null,null,null,null,null)),(e()(),l.ub(54,0,null,null,2,"button",[["class","\n          text-white ws-mat-primary-background  mat-button-base margin-right-xl"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=0!=(e.component.showAddchapter=!1)&&l),l}),p.d,p.b)),l.tb(55,180224,null,0,g.b,[l.k,f.h,[2,b.a]],null,null),(e()(),l.Ob(-1,0,["Cancel"])),(e()(),l.ub(57,16777216,null,null,6,"button",[["aria-haspopup","true"],["aria-label","Example icon-button with a menu"],["class","text-white ws-mat-primary-background  mat-button-base mat-menu-trigger"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(e,n,t){var i=!0;return"mousedown"===n&&(i=!1!==l.Gb(e,59)._handleMousedown(t)&&i),"keydown"===n&&(i=!1!==l.Gb(e,59)._handleKeydown(t)&&i),"click"===n&&(i=!1!==l.Gb(e,59)._handleClick(t)&&i),i}),p.d,p.b)),l.tb(58,180224,null,0,g.b,[l.k,f.h,[2,b.a]],{disabled:[0,"disabled"]},null),l.tb(59,1196032,null,0,v.h,[C.d,l.k,l.P,v.c,[2,v.d],[8,null],[2,c.b],f.h],{menu:[0,"menu"]},null),(e()(),l.ub(60,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(61,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),(e()(),l.Ob(-1,0,["add"])),(e()(),l.Ob(-1,0,[" Add Topic/Resource "])),(e()(),l.ub(64,0,null,null,41,"mat-menu",[],null,null,null,k.d,k.b)),l.tb(65,1294336,[["menu",4]],3,v.i,[l.k,l.y,v.a],null,null),l.Mb(603979776,23,{_allItems:1}),l.Mb(603979776,24,{items:1}),l.Mb(603979776,25,{lazyContent:0}),l.Lb(2048,null,v.d,null,[v.i]),l.Lb(2048,null,v.b,null,[v.d]),(e()(),l.ub(71,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,72)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,72)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.setContentType("collection")&&i),i}),k.c,k.a)),l.tb(72,180224,[[23,4],[24,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),(e()(),l.ub(73,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(74,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),(e()(),l.Ob(-1,0,["book"])),(e()(),l.ub(76,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Topic"])),(e()(),l.ub(78,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,79)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,79)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.setContentType("assessment")&&i),i}),k.c,k.a)),l.tb(79,180224,[[23,4],[24,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),(e()(),l.ub(80,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(81,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),(e()(),l.Ob(-1,0,["check_circle"])),(e()(),l.ub(83,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Add Assessment"])),(e()(),l.ub(85,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,86)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,86)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.setContentType("web")&&i),i}),k.c,k.a)),l.tb(86,180224,[[23,4],[24,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),(e()(),l.ub(87,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(88,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),(e()(),l.Ob(-1,0,["link"])),(e()(),l.ub(90,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Attach a link"])),(e()(),l.ub(92,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,93)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,93)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.setContentType("upload")&&i),i}),k.c,k.a)),l.tb(93,180224,[[23,4],[24,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),(e()(),l.ub(94,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(95,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),(e()(),l.Ob(-1,0,["cloud_upload"])),(e()(),l.ub(97,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Upload content"])),(e()(),l.ub(99,0,null,0,6,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(e,n,t){var i=!0,a=e.component;return"click"===n&&(i=!1!==l.Gb(e,100)._checkDisabled(t)&&i),"mouseenter"===n&&(i=!1!==l.Gb(e,100)._handleMouseEnter()&&i),"click"===n&&(i=!1!==a.setContentType("webModule")&&i),i}),k.c,k.a)),l.tb(100,180224,[[23,4],[24,4]],0,v.f,[l.k,G.d,f.h,[2,v.b]],null,null),(e()(),l.ub(101,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,S.b,S.a)),l.tb(102,9158656,null,0,w.b,[l.k,w.d,[8,null],[2,w.a]],null,null),(e()(),l.Ob(-1,0,["insert_drive_file"])),(e()(),l.ub(104,0,null,0,1,"span",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Web Page"]))],(function(e,n){var t=n.component;e(n,2,0,t.createTopicForm),e(n,14,0,"outline"),e(n,27,0,"topicName"),e(n,29,0,"Topic Name"),e(n,34,0,"outline"),e(n,47,0,"topicDescription"),e(n,49,0,"Topic Description"),e(n,58,0,!t.createTopicForm.valid),e(n,59,0,l.Gb(n,65)),e(n,61,0),e(n,65,0),e(n,74,0),e(n,81,0),e(n,88,0),e(n,95,0),e(n,102,0)}),(function(e,n){e(n,0,0,l.Gb(n,4).ngClassUntouched,l.Gb(n,4).ngClassTouched,l.Gb(n,4).ngClassPristine,l.Gb(n,4).ngClassDirty,l.Gb(n,4).ngClassValid,l.Gb(n,4).ngClassInvalid,l.Gb(n,4).ngClassPending),e(n,13,1,["standard"==l.Gb(n,14).appearance,"fill"==l.Gb(n,14).appearance,"outline"==l.Gb(n,14).appearance,"legacy"==l.Gb(n,14).appearance,l.Gb(n,14)._control.errorState,l.Gb(n,14)._canLabelFloat,l.Gb(n,14)._shouldLabelFloat(),l.Gb(n,14)._hasFloatingLabel(),l.Gb(n,14)._hideControlPlaceholder(),l.Gb(n,14)._control.disabled,l.Gb(n,14)._control.autofilled,l.Gb(n,14)._control.focused,"accent"==l.Gb(n,14).color,"warn"==l.Gb(n,14).color,l.Gb(n,14)._shouldForward("untouched"),l.Gb(n,14)._shouldForward("touched"),l.Gb(n,14)._shouldForward("pristine"),l.Gb(n,14)._shouldForward("dirty"),l.Gb(n,14)._shouldForward("valid"),l.Gb(n,14)._shouldForward("invalid"),l.Gb(n,14)._shouldForward("pending"),!l.Gb(n,14)._animationsEnabled]),e(n,24,1,[l.Gb(n,29)._isServer,l.Gb(n,29).id,l.Gb(n,29).placeholder,l.Gb(n,29).disabled,l.Gb(n,29).required,l.Gb(n,29).readonly&&!l.Gb(n,29)._isNativeSelect||null,l.Gb(n,29)._ariaDescribedby||null,l.Gb(n,29).errorState,l.Gb(n,29).required.toString(),l.Gb(n,30).ngClassUntouched,l.Gb(n,30).ngClassTouched,l.Gb(n,30).ngClassPristine,l.Gb(n,30).ngClassDirty,l.Gb(n,30).ngClassValid,l.Gb(n,30).ngClassInvalid,l.Gb(n,30).ngClassPending]),e(n,33,1,["standard"==l.Gb(n,34).appearance,"fill"==l.Gb(n,34).appearance,"outline"==l.Gb(n,34).appearance,"legacy"==l.Gb(n,34).appearance,l.Gb(n,34)._control.errorState,l.Gb(n,34)._canLabelFloat,l.Gb(n,34)._shouldLabelFloat(),l.Gb(n,34)._hasFloatingLabel(),l.Gb(n,34)._hideControlPlaceholder(),l.Gb(n,34)._control.disabled,l.Gb(n,34)._control.autofilled,l.Gb(n,34)._control.focused,"accent"==l.Gb(n,34).color,"warn"==l.Gb(n,34).color,l.Gb(n,34)._shouldForward("untouched"),l.Gb(n,34)._shouldForward("touched"),l.Gb(n,34)._shouldForward("pristine"),l.Gb(n,34)._shouldForward("dirty"),l.Gb(n,34)._shouldForward("valid"),l.Gb(n,34)._shouldForward("invalid"),l.Gb(n,34)._shouldForward("pending"),!l.Gb(n,34)._animationsEnabled]),e(n,44,1,[l.Gb(n,49)._isServer,l.Gb(n,49).id,l.Gb(n,49).placeholder,l.Gb(n,49).disabled,l.Gb(n,49).required,l.Gb(n,49).readonly&&!l.Gb(n,49)._isNativeSelect||null,l.Gb(n,49)._ariaDescribedby||null,l.Gb(n,49).errorState,l.Gb(n,49).required.toString(),l.Gb(n,50).ngClassUntouched,l.Gb(n,50).ngClassTouched,l.Gb(n,50).ngClassPristine,l.Gb(n,50).ngClassDirty,l.Gb(n,50).ngClassValid,l.Gb(n,50).ngClassInvalid,l.Gb(n,50).ngClassPending]),e(n,54,0,l.Gb(n,55).disabled||null,"NoopAnimations"===l.Gb(n,55)._animationMode),e(n,57,0,l.Gb(n,58).disabled||null,"NoopAnimations"===l.Gb(n,58)._animationMode,l.Gb(n,59).menuOpen||null),e(n,60,0,l.Gb(n,61).inline,"primary"!==l.Gb(n,61).color&&"accent"!==l.Gb(n,61).color&&"warn"!==l.Gb(n,61).color),e(n,71,0,l.Gb(n,72).role,l.Gb(n,72)._highlighted,l.Gb(n,72)._triggersSubmenu,l.Gb(n,72)._getTabIndex(),l.Gb(n,72).disabled.toString(),l.Gb(n,72).disabled||null),e(n,73,0,l.Gb(n,74).inline,"primary"!==l.Gb(n,74).color&&"accent"!==l.Gb(n,74).color&&"warn"!==l.Gb(n,74).color),e(n,78,0,l.Gb(n,79).role,l.Gb(n,79)._highlighted,l.Gb(n,79)._triggersSubmenu,l.Gb(n,79)._getTabIndex(),l.Gb(n,79).disabled.toString(),l.Gb(n,79).disabled||null),e(n,80,0,l.Gb(n,81).inline,"primary"!==l.Gb(n,81).color&&"accent"!==l.Gb(n,81).color&&"warn"!==l.Gb(n,81).color),e(n,85,0,l.Gb(n,86).role,l.Gb(n,86)._highlighted,l.Gb(n,86)._triggersSubmenu,l.Gb(n,86)._getTabIndex(),l.Gb(n,86).disabled.toString(),l.Gb(n,86).disabled||null),e(n,87,0,l.Gb(n,88).inline,"primary"!==l.Gb(n,88).color&&"accent"!==l.Gb(n,88).color&&"warn"!==l.Gb(n,88).color),e(n,92,0,l.Gb(n,93).role,l.Gb(n,93)._highlighted,l.Gb(n,93)._triggersSubmenu,l.Gb(n,93)._getTabIndex(),l.Gb(n,93).disabled.toString(),l.Gb(n,93).disabled||null),e(n,94,0,l.Gb(n,95).inline,"primary"!==l.Gb(n,95).color&&"accent"!==l.Gb(n,95).color&&"warn"!==l.Gb(n,95).color),e(n,99,0,l.Gb(n,100).role,l.Gb(n,100)._highlighted,l.Gb(n,100)._triggersSubmenu,l.Gb(n,100)._getTabIndex(),l.Gb(n,100).disabled.toString(),l.Gb(n,100).disabled||null),e(n,101,0,l.Gb(n,102).inline,"primary"!==l.Gb(n,102).color&&"accent"!==l.Gb(n,102).color&&"warn"!==l.Gb(n,102).color)}))}function vn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"ws-auth-url-upload",[],null,[[null,"data"]],(function(e,n,t){var l=!0;return"data"===n&&(l=!1!==e.component.action(t)&&l),l}),y.b,y.a)),l.tb(1,114688,null,0,x.a,[o.f,I.a,M.a,_.a],{isCollectionEditor:[0,"isCollectionEditor"],isSubmitPressed:[1,"isSubmitPressed"]},{data:"data"})],(function(e,n){e(n,1,0,!0,n.component.isSubmitPressed)}),null)}function Cn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"ws-auth-file-upload",[],null,[[null,"data"]],(function(e,n,t){var l=!0;return"data"===n&&(l=!1!==e.component.action(t)&&l),l}),E.b,E.a)),l.tb(1,638976,null,0,D.a,[o.f,N.c,P.e,I.a,O.a,T.a,_.a,A.a,L.a],{isCollectionEditor:[0,"isCollectionEditor"],isSubmitPressed:[1,"isSubmitPressed"]},{data:"data"})],(function(e,n){e(n,1,0,!0,n.component.isSubmitPressed)}),null)}function Sn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"ws-auth-quiz",[],null,[[null,"data"]],(function(e,n,t){var l=!0;return"data"===n&&(l=!1!==e.component.action(t)&&l),l}),F.c,F.b)),l.Lb(512,null,U.a,U.a,[L.a]),l.tb(2,770048,null,0,B.a,[R.o,R.a,l.h,q.a,P.e,N.c,j.a,T.a,I.a,O.a,H.a,Q.a,_.a,U.a,L.a],{isCollectionEditor:[0,"isCollectionEditor"],isSubmitPressed:[1,"isSubmitPressed"]},{data:"data"})],(function(e,n){e(n,2,0,!0,n.component.isSubmitPressed)}),null)}function wn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"ws-auth-web-module-editor",[],null,[[null,"data"]],(function(e,n,t){var l=!0;return"data"===n&&(l=!1!==e.component.action(t)&&l),l}),z.b,z.a)),l.tb(1,245760,null,0,V.a,[P.e,N.c,R.o,R.a,q.a,T.a,I.a,O.a,H.a,_.a,L.a,Q.a],null,null)],(function(e,n){e(n,1,0)}),null)}function kn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"ws-auth-edit-meta",[],null,[[null,"data"]],(function(e,n,t){var l=!0;return"data"===n&&(l=!1!==e.component.action(t)&&l),l}),J.b,J.a)),l.tb(1,4440064,null,0,K.a,[o.f,O.a,N.c,P.e,H.a,I.a,M.a,l.h,W.a,T.a,_.a,L.a],{isSubmitPressed:[0,"isSubmitPressed"],parentContent:[1,"parentContent"]},{data:"data"})],(function(e,n){var t=n.component;e(n,1,0,t.isSubmitPressed,t.currentParentId)}),null)}function Gn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"ws-auth-edit-meta",[],null,[[null,"data"]],(function(e,n,t){var l=!0;return"data"===n&&(l=!1!==e.component.action(t)&&l),l}),J.b,J.a)),l.tb(1,4440064,null,0,K.a,[o.f,O.a,N.c,P.e,H.a,I.a,M.a,l.h,W.a,T.a,_.a,L.a],{isSubmitPressed:[0,"isSubmitPressed"],parentContent:[1,"parentContent"]},{data:"data"})],(function(e,n){var t=n.component;e(n,1,0,t.isSubmitPressed,t.currentParentId)}),null)}function yn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"ws-author-course-header",[],null,[[null,"action"],[null,"subAction"]],(function(e,n,t){var l=!0,i=e.component;return"action"===n&&(l=!1!==i.action(t)&&l),"subAction"===n&&(l=!1!==i.subAction(t)&&l),l}),ge,he)),l.tb(1,114688,null,0,be,[M.a,Z.b,le,de],{buttonConfig:[0,"buttonConfig"]},{action:"action",subAction:"subAction"}),(e()(),l.ub(2,0,null,null,34,"mat-drawer-container",[["autosize","true"],["class","example-container mat-drawer-container"],["id","auth-toc"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,fe.g,fe.b)),l.tb(3,1490944,null,2,ve.c,[[2,c.b],l.k,l.y,l.h,Y.e,ve.a,[2,b.a]],{autosize:[0,"autosize"]},null),l.Mb(603979776,1,{_drawers:1}),l.Mb(603979776,2,{_content:0}),(e()(),l.ub(6,0,null,0,10,"mat-drawer",[["class","mat-drawer"],["mode","side"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[40,"@transform",0]],[[null,"openedChange"],["component","@transform.start"],["component","@transform.done"]],(function(e,n,t){var i=!0,a=e.component;return"component:@transform.start"===n&&(i=!1!==l.Gb(e,7)._animationStartListener(t)&&i),"component:@transform.done"===n&&(i=!1!==l.Gb(e,7)._animationDoneListener(t)&&i),"openedChange"===n&&(i=!1!==(a.sideBarOpened=t)&&i),i}),fe.i,fe.a)),l.tb(7,3325952,[[1,4]],0,ve.b,[l.k,f.i,f.h,d.a,l.y,[2,G.d]],{mode:[0,"mode"],opened:[1,"opened"]},{openedChange:"openedChange"}),(e()(),l.ub(8,0,null,0,8,"div",[["class","sticky"]],null,null,null,null,null)),(e()(),l.ub(9,0,null,null,1,"ws-author-auth-toc",[],null,[[null,"action"]],(function(e,n,t){var l=!0;return"action"===n&&(l=!1!==e.component.subAction(t)&&l),l}),ln,ze)),l.tb(10,4440064,null,0,Qe,[P.e,N.c,de,I.a,T.a,_.a,q.a],{createdFromCourse:[0,"createdFromCourse"]},{action:"action"}),(e()(),l.ub(11,0,null,null,5,"div",[["class","margin-left-l margin-top-m "]],null,null,null,null,null)),(e()(),l.ub(12,0,null,null,4,"a",[["class","flex flex-middle margin-left-l"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=0!=(e.component.showAddchapter=!0)&&l),l}),null,null)),(e()(),l.ub(13,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" add "])),(e()(),l.ub(15,0,null,null,1,"p",[["class","margin-left-xs margin-remove-bottom cursor-pointer"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Add Content"])),(e()(),l.ub(17,0,null,1,19,"mat-drawer-content",[["class","mat-drawer-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,fe.h,fe.c)),l.tb(18,1294336,[[2,4]],0,ve.d,[l.h,ve.c,l.k,Y.b,l.y],null,null),(e()(),l.ub(19,0,null,0,17,"mat-sidenav-container",[["class","nav-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,fe.j,fe.e)),l.tb(20,1490944,null,2,ve.f,[[2,c.b],l.k,l.y,l.h,Y.e,ve.a,[2,b.a]],null,null),l.Mb(603979776,3,{_drawers:1}),l.Mb(603979776,4,{_content:0}),(e()(),l.kb(16777216,null,2,1,null,fn)),l.tb(24,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,2,1,null,vn)),l.tb(26,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,2,1,null,Cn)),l.tb(28,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,2,1,null,Sn)),l.tb(30,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,2,1,null,wn)),l.tb(32,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,2,1,null,kn)),l.tb(34,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null),(e()(),l.kb(16777216,null,2,1,null,Gn)),l.tb(36,16384,null,0,G.p,[l.P,l.M],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,1,0,t.actionButton),e(n,3,0,"true"),e(n,7,0,"side",t.sideBarOpened),e(n,10,0,t.couseCreated),e(n,18,0),e(n,20,0),e(n,24,0,t.showAddchapter),e(n,26,0,!t.showAddchapter&&"curate"===t.viewMode),e(n,28,0,!t.showAddchapter&&"upload"===t.viewMode),e(n,30,0,!t.showAddchapter&&"assessment"===t.viewMode),e(n,32,0,!t.showAddchapter&&"webmodule"===t.viewMode),e(n,34,0,!t.showAddchapter&&"meta"===t.viewMode),e(n,36,0,!t.showAddchapter&&"meta"!==t.viewMode)}),(function(e,n){e(n,2,0,l.Gb(n,3)._backdropOverride),e(n,6,0,null,"end"===l.Gb(n,7).position,"over"===l.Gb(n,7).mode,"push"===l.Gb(n,7).mode,"side"===l.Gb(n,7).mode,l.Gb(n,7).opened,l.Gb(n,7)._animationState),e(n,17,0,l.Gb(n,18)._container._contentMargins.left,l.Gb(n,18)._container._contentMargins.right),e(n,19,0,l.Gb(n,20)._backdropOverride)}))}function xn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"ws-author-course-collection",[],null,null,null,yn,gn)),l.Lb(512,null,ce,ce,[L.a,I.a,_.a]),l.Lb(512,null,de,de,[I.a,H.a,ce,_.a,an.a]),l.tb(3,245760,null,0,pn,[I.a,R.a,de,ce,_.a,T.a,P.e,N.c,H.a,R.o,Q.a,L.a,q.a,o.f,le,mn.a],null,null)],(function(e,n){e(n,3,0)}),null)}var In=l.qb("ws-author-course-collection",pn,xn,{},{},[]),Mn=t("t68o"),_n=t("NcP4"),En=t("xYTU"),Dn=t("zbXB"),Nn=t("m5Fw"),Pn=t("g6nu"),On=t("8mlG"),Tn=t("TrDA"),An=t("P0GQ"),Ln=t("GQuQ"),Fn=t("Pnip"),Un=t("8gZh"),Bn=t("jDNV"),$n=t("mFNG"),Rn=t("HoWc"),qn=t("E1Ym"),jn=t("KoYW"),Hn=t("/xtD"),Qn=t("v9oY"),zn=t("Sv6P"),Vn=t("Dz2M"),Jn=t("gYEm"),Kn=t("WxeX"),Wn=t("ggGX"),Xn=t("xQ1y"),Yn=t("POq0"),Zn=t("qJ5m"),et=t("/Co4"),nt=t("JjoW"),tt=t("821u"),lt=t("JoiR"),it=t("IheW"),at=t("x86M"),ot=t("gx4e");class rt{}var ut=t("FVPZ"),st=t("zMNK"),ct=t("qJ50"),dt=t("rWV4"),bt=t("mkRZ"),ht=t("igqZ"),mt=t("r0V8"),pt=t("5Bek"),gt=t("c9fC"),ft=t("02hT"),vt=t("Q+lL"),Ct=t("kNGD"),St=t("W5yJ"),wt=t("pBi1"),kt=t("elxJ"),Gt=t("8P0U"),yt=t("YD+O"),xt=t("lT8R"),It=t("CP1y"),Mt=t("u0gr"),_t=t("jURF"),Et=t("DU99"),Dt=t("Bheh"),Nt=t("6GCF"),Pt=t("fH49"),Ot=t("o6Sk"),Tt=t("3Fzu"),At=t("FR07"),Lt=t("ABbz"),Ft=t("MDml"),Ut=t("3tBD"),Bt=t("ChE5"),$t=t("JN0e"),Rt=t("DeLZ"),qt=t("eGZd"),jt=t("bgzT"),Ht=t("k6sU"),Qt=t("CQWV"),zt=t("8qxy"),Vt=t("xolN"),Jt=t("RDx4"),Kt=t("UbwY"),Wt=t("ohkd"),Xt=t("x8RB"),Yt=t("dvZr");t.d(n,"CollectionModuleNgFactory",(function(){return Zt}));var Zt=l.rb(i,[],(function(e){return l.Db([l.Eb(512,l.j,l.bb,[[8,[a.a,In,Mn.a,_n.a,En.a,En.b,Dn.b,Dn.a,Nn.a,Pn.a,On.a,Tn.a,An.a,Ln.a,Fn.a,Un.a,Bn.a,$n.a,Rn.a,qn.b,jn.a,Hn.a,Qn.a,zn.c,Vn.a,Jn.a,F.a,Kn.a,Wn.a,z.c,Xn.a]],[3,l.j],l.w]),l.Eb(4608,G.r,G.q,[l.t,[2,G.N]]),l.Eb(4608,Yn.c,Yn.c,[]),l.Eb(4608,s.b,s.b,[]),l.Eb(5120,Zn.h,Zn.a,[[3,Zn.h]]),l.Eb(4608,C.d,C.d,[C.j,C.f,l.j,C.i,C.g,l.q,l.y,G.d,c.b,[2,G.k]]),l.Eb(5120,C.k,C.l,[C.d]),l.Eb(5120,v.c,v.k,[C.d]),l.Eb(5120,et.b,et.c,[C.d]),l.Eb(4608,o.f,o.f,[]),l.Eb(4608,o.F,o.F,[]),l.Eb(5120,P.c,P.d,[C.d]),l.Eb(135680,P.e,P.e,[C.d,l.q,[2,G.k],[2,P.b],P.c,[3,P.e],C.f]),l.Eb(5120,X.b,X.c,[C.d]),l.Eb(4608,Z.e,s.c,[[2,s.g],[2,s.l]]),l.Eb(5120,nt.a,nt.b,[C.d]),l.Eb(4608,tt.i,tt.i,[]),l.Eb(5120,tt.a,tt.b,[C.d]),l.Eb(4608,s.a,s.x,[[2,s.f],d.a]),l.Eb(135680,f.h,f.h,[l.y,d.a]),l.Eb(4608,Ce.f,Ce.f,[l.M]),l.Eb(4608,lt.a,lt.a,[it.c]),l.Eb(4608,L.a,L.a,[M.a,G.a]),l.Eb(4608,at.a,at.a,[]),l.Eb(4608,ot.a,ot.a,[_.a,at.a,L.a]),l.Eb(4608,Q.a,Q.a,[lt.a,ot.a,L.a,_.a]),l.Eb(4608,O.a,O.a,[lt.a,L.a,it.c,M.a]),l.Eb(4608,Fe.i,Fe.i,[G.d,l.y,Y.e,Fe.k]),l.Eb(4608,j.a,j.a,[]),l.Eb(1073742336,G.c,G.c,[]),l.Eb(1073742336,R.s,R.s,[[2,R.x],[2,R.o]]),l.Eb(1073742336,rt,rt,[]),l.Eb(1073742336,c.a,c.a,[]),l.Eb(1073742336,s.l,s.l,[[2,s.d],[2,Z.f]]),l.Eb(1073742336,w.c,w.c,[]),l.Eb(1073742336,ne.b,ne.b,[]),l.Eb(1073742336,Yn.d,Yn.d,[]),l.Eb(1073742336,u.e,u.e,[]),l.Eb(1073742336,d.b,d.b,[]),l.Eb(1073742336,m.c,m.c,[]),l.Eb(1073742336,h.c,h.c,[]),l.Eb(1073742336,s.n,s.n,[]),l.Eb(1073742336,ut.b,ut.b,[]),l.Eb(1073742336,st.g,st.g,[]),l.Eb(1073742336,s.w,s.w,[]),l.Eb(1073742336,g.c,g.c,[]),l.Eb(1073742336,ct.e,ct.e,[]),l.Eb(1073742336,Zn.i,Zn.i,[]),l.Eb(1073742336,f.a,f.a,[]),l.Eb(1073742336,dt.m,dt.m,[]),l.Eb(1073742336,bt.e,bt.e,[]),l.Eb(1073742336,ht.g,ht.g,[]),l.Eb(1073742336,Y.c,Y.c,[]),l.Eb(1073742336,C.h,C.h,[]),l.Eb(1073742336,v.j,v.j,[]),l.Eb(1073742336,v.g,v.g,[]),l.Eb(1073742336,mt.d,mt.d,[]),l.Eb(1073742336,mt.c,mt.c,[]),l.Eb(1073742336,ve.h,ve.h,[]),l.Eb(1073742336,s.u,s.u,[]),l.Eb(1073742336,s.r,s.r,[]),l.Eb(1073742336,et.e,et.e,[]),l.Eb(1073742336,o.E,o.E,[]),l.Eb(1073742336,o.A,o.A,[]),l.Eb(1073742336,o.m,o.m,[]),l.Eb(1073742336,P.k,P.k,[]),l.Eb(1073742336,X.e,X.e,[]),l.Eb(1073742336,pt.c,pt.c,[]),l.Eb(1073742336,gt.d,gt.d,[]),l.Eb(1073742336,ft.b,ft.b,[]),l.Eb(1073742336,vt.e,vt.e,[]),l.Eb(1073742336,N.f,N.f,[]),l.Eb(1073742336,nt.d,nt.d,[]),l.Eb(1073742336,Ct.f,Ct.f,[]),l.Eb(1073742336,tt.j,tt.j,[]),l.Eb(1073742336,s.y,s.y,[]),l.Eb(1073742336,s.o,s.o,[]),l.Eb(1073742336,St.c,St.c,[]),l.Eb(1073742336,wt.d,wt.d,[]),l.Eb(1073742336,wt.c,wt.c,[]),l.Eb(1073742336,Ce.d,Ce.d,[]),l.Eb(1073742336,Se.e,Se.e,[]),l.Eb(1073742336,kt.d,kt.d,[]),l.Eb(1073742336,Gt.c,Gt.c,[]),l.Eb(1073742336,yt.b,yt.b,[]),l.Eb(1073742336,xt.b,xt.b,[]),l.Eb(1073742336,It.a,It.a,[]),l.Eb(1073742336,Mt.a,Mt.a,[]),l.Eb(1073742336,_t.a,_t.a,[]),l.Eb(1073742336,Et.a,Et.a,[]),l.Eb(1073742336,Dt.a,Dt.a,[]),l.Eb(1073742336,Nt.a,Nt.a,[]),l.Eb(1073742336,Pt.a,Pt.a,[]),l.Eb(1073742336,Ot.a,Ot.a,[]),l.Eb(1073742336,Tt.a,Tt.a,[]),l.Eb(1073742336,At.a,At.a,[]),l.Eb(1073742336,Fe.j,Fe.j,[]),l.Eb(1073742336,Lt.a,Lt.a,[]),l.Eb(1073742336,Ft.a,Ft.a,[]),l.Eb(1073742336,Ut.a,Ut.a,[]),l.Eb(1073742336,Bt.a,Bt.a,[]),l.Eb(1073742336,$t.a,$t.a,[]),l.Eb(1073742336,Rt.a,Rt.a,[]),l.Eb(1073742336,qt.a,qt.a,[]),l.Eb(1073742336,jt.a,jt.a,[]),l.Eb(1073742336,Ht.a,Ht.a,[]),l.Eb(1073742336,Qt.a,Qt.a,[]),l.Eb(1073742336,zt.a,zt.a,[]),l.Eb(1073742336,Vt.a,Vt.a,[]),l.Eb(1073742336,Jt.a,Jt.a,[]),l.Eb(1073742336,i,i,[]),l.Eb(256,l.t,"hi",[]),l.Eb(1024,R.m,(function(){return[[{path:"",component:pn}],[{path:"viewer",component:Kt.a}],[{path:"",component:Wt.a}],[{path:"viewer",component:Kt.a}],[{path:"",component:Xt.a}],[{path:"viewer",component:Kt.a}],[{path:"",component:B.a}],[{path:"viewer",component:Kt.a}],[{path:"",component:V.a}]]}),[]),l.Eb(256,Ct.a,{separatorKeyCodes:[Yt.g]},[]),l.Eb(256,s.e,s.i,[]),l.Eb(256,P.a,_t.b,[]),l.Eb(256,P.l,_t.c,[])])}))}}]);