(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"7Cf6":function(n,t,l){"use strict";l.r(t);var e=l("8Y7J");class i{}var a=l("xYTU"),u=l("pMnS"),o=l("uJjh"),r=l("hQq7"),s=l("Iani"),c=l("AjsA"),d=l("wNFL"),h=l("NcP4"),b=l("CF3Z"),p=l("3s4E"),m=l("t68o"),g=l("ltln"),f=l("p/gH"),v=l("6/yt"),w=l("rnpX"),y=l("hgHL"),C=l("Tgwc"),P=l("jf99"),S=l("UGML"),x=l("4gA+"),M=l("VsSb"),D=l("AK/K"),I=l("6wWs"),O=l("qbau"),_=l("EakT"),T=l("6JF1"),k=l("tII7"),E=l("ggGX"),R=l("ET/M"),G=l("YfT+"),N=l("Kizx"),L=l("GlyH"),F=l("Mz6y"),U=l("QQfA"),A=l("hOhj"),q=l("/HVE"),z=l("5GAg"),W=l("IP0z"),Q=l("cUpR"),H=l("SVse"),K=l("rX66"),$=l("xQS/"),j=l("iInd"),J=l("FbN9"),V=l("BzsH"),B=l("ihed"),Y=l("s6ns"),X=l("88ff"),Z=l("BSaD"),nn=l("mrSG"),tn=l("g6cB"),ln=l("GYRC"),en=l("4fW1"),an=l("jMFU");class un{constructor(n,t,l,i,a,u,o){this.activatedRoute=n,this.domSanitizer=t,this.configSvc=l,this.viewerDataSvc=i,this.valueSvc=a,this.contentSvc=u,this.viewerSvc=o,this.forPreview=!1,this.toggle=new e.m,this.viewerDataServiceSubscription=null,this.paramSubscription=null,this.viewerDataServiceResourceSubscription=null,this.appIcon=null,this.isTypeOfCollection=!1,this.collectionType=null,this.prevResourceUrl=null,this.nextResourceUrl=null,this.pageNavbar=this.configSvc.pageNavBar,this.resourceId=this.viewerDataSvc.resourceId||"",this.resourceName=this.viewerDataSvc.resource?this.viewerDataSvc.resource.name:"",this.collectionId="",this.logo=!0,this.isPreview=!1,this.forChannel=!1,this.screenContent=null,this.isInFullScreen=!1,this.obj=null,this.isAuthor=!1,this.fsState=new e.m,this.isSmall=!1,this.valueSvc.isXSmall$.subscribe(n=>{this.isSmall=n})}ngOnChanges(){null!==this.screenContent&&(this.obj=this.screenContent)}ngOnInit(){window.location.href.includes("/channel/")&&(this.forChannel=!0),window.location.href.includes("/author/")&&(this.isAuthor=!0),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.collectionType=this.activatedRoute.snapshot.queryParams.collectionType;const n=this.activatedRoute.snapshot.queryParams.collectionId;if(this.collectionIdentifier=n,n&&this.activatedRoute.snapshot.queryParams.collectionType){this.paramSubscription=this.activatedRoute.queryParamMap.subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){this.collectionId=n.get("collectionId"),this.isPreview="true"===n.get("preview")})));try{this.contentSvc.fetchContent(n).subscribe(n=>{this.collection=n.result.content,this.configSvc.instanceConfig&&(this.appIcon=this.domSanitizer.bypassSecurityTrustResourceUrl(this.configSvc.instanceConfig.logos.appBottomNav)),this.viewerDataServiceSubscription=this.viewerDataSvc.tocChangeSubject.subscribe(n=>{this.prevResourceUrl=n.prevResource,this.nextResourceUrl=n.nextResource,this.resourceId!==this.viewerDataSvc.resourceId&&(this.resourceId=this.viewerDataSvc.resourceId,this.resourceName=this.viewerDataSvc.resource?this.viewerDataSvc.resource.name:"")}),this.viewerDataServiceResourceSubscription=this.viewerDataSvc.changedSubject.subscribe(n=>{this.resourceId=this.viewerDataSvc.resourceId,this.resourceName=this.viewerDataSvc.resource?this.viewerDataSvc.resource.name:""}),this.viewerSvc.castResource.subscribe(n=>this.screenContent=n)})}catch(t){}}}fullScreenState(n){this.isInFullScreen=n,this.fsState.emit(n)}ngOnDestroy(){this.viewerDataServiceSubscription&&this.viewerDataServiceSubscription.unsubscribe(),this.paramSubscription&&this.paramSubscription.unsubscribe(),this.viewerDataServiceResourceSubscription&&this.viewerDataServiceResourceSubscription.unsubscribe()}toggleSideBar(){this.toggle.emit()}back(){try{if(window.self!==window.top)return;window.history.back()}catch(n){window.history.back()}}}var on=l("TPUF"),rn=e.sb({encapsulation:0,styles:[[".app-logo[_ngcontent-%COMP%]{max-width:70px;max-height:60px;border-radius:5px}@media only screen and (max-width:599px){.app-logo[_ngcontent-%COMP%]{max-width:80px;max-height:30px}}.logo-wrapper[_ngcontent-%COMP%]{border-right:1px solid #fff;padding-right:14px}.viewer-app-logo[_ngcontent-%COMP%]{max-height:60px;margin-top:10px;border-right:1px solid #b9b8b8;margin-right:-52px;padding-right:10px}@media only screen and (max-width:599px){.viewer-app-logo[_ngcontent-%COMP%]{max-width:80px;max-height:30px}}.mr-10[_ngcontent-%COMP%]{margin-right:10px}.xsmall[_ngcontent-%COMP%]{position:relative;right:3px;top:5px}.header-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.margin-fs[_ngcontent-%COMP%]{margin-top:7px}  .mt-3 img.action-icons{border:none!important;width:20px}.hidden[_ngcontent-%COMP%]{display:none!important}mat-toolbar[_ngcontent-%COMP%]{position:relative}"]],data:{}});function sn(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,0,"img",[["alt","Application Logo"],["class","viewer-app-logo"],["id","app-logo"],["src","/fusion-assets/icons/logo.png"]],null,null,null,null,null))],null,null)}function cn(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,3,"a",[["class","logo-wrapper"],["href","/page/home"],["matTooltip","Home"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,t,l){var i=!0;return"longpress"===t&&(i=!1!==e.Gb(n,1).show()&&i),"keydown"===t&&(i=!1!==e.Gb(n,1)._handleKeydown(l)&&i),"touchend"===t&&(i=!1!==e.Gb(n,1)._handleTouchend()&&i),i}),null,null)),e.tb(1,212992,null,0,F.d,[U.d,e.k,A.b,e.P,e.y,q.a,z.c,z.h,F.b,[2,W.b],[2,F.a],[2,Q.f]],{message:[0,"message"]},null),(n()(),e.kb(16777216,null,null,1,null,sn)),e.tb(3,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){var l=t.component;n(t,1,0,"Home"),n(t,3,0,l.appIcon)}),null)}function dn(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,3,"ws-widget-btn-page-back",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,E.c,E.b)),e.tb(1,4308992,null,0,K.a,[$.a,j.o],{widgetData:[0,"widgetData"],playerScreen:[1,"playerScreen"]},null),e.Jb(2,{primaryCategory:0}),e.Jb(3,{url:0,titles:1,queryParams:2})],(function(n,t){var l=t.component,i=n(t,3,0,l.isTypeOfCollection?"Playlist"===l.collectionType?"/app/playlist/me/"+l.collectionId:(l.forPreview?"/author":"/app")+"/toc/"+l.collectionId+"/overview":(l.forPreview?"/author":"/app")+"/toc/"+l.resourceId+"/overview",e.db,l.isTypeOfCollection?e.eb:n(t,2,0,l.resourcePrimaryCategory));n(t,1,0,i,!0)}),(function(n,t){n(t,0,0,e.Gb(t,1).widgetInstanceId,e.Gb(t,1).widgetSafeStyle,e.Gb(t,1).className)}))}function hn(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,0,"img",[["alt","Logo"],["class","app-logo viewer-logo"],["id","banner-logo"]],[[8,"src",4]],null,null,null,null))],null,(function(n,t){var l=t.component;n(t,0,0,null==l.collection?null:l.collection.appIcon)}))}function bn(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","text-left width-1-8 margin-left-l text-truncate"]],null,null,null,null,null)),(n()(),e.Ob(1,null,[" "," "]))],null,(function(n,t){var l=t.component;n(t,1,0,null==l.collection?null:l.collection.name)}))}function pn(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,19,"mat-toolbar",[["class","mat-primary mat-elevation-z3 mat-toolbar"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,J.b,J.a)),e.Lb(512,null,H.K,H.L,[e.k,e.s,e.D]),e.tb(2,278528,null,0,H.u,[H.K],{ngStyle:[0,"ngStyle"]},null),e.tb(3,4243456,null,1,V.a,[e.k,q.a,H.d],{color:[0,"color"]},null),e.Mb(603979776,1,{_toolbarRows:1}),(n()(),e.kb(16777216,null,0,1,null,cn)),e.tb(6,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,0,1,null,dn)),e.tb(8,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,0,1,null,hn)),e.tb(10,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,0,1,null,bn)),e.tb(12,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(13,0,null,0,0,"span",[["class","header-spacer"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,0,5,"div",[["class","flex justify-center mt-0"]],null,null,null,null,null)),(n()(),e.ub(15,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(16,4308992,null,0,B.a,[Y.e,X.a],{widgetData:[0,"widgetData"],isDisabled:[1,"isDisabled"],forPreview:[2,"forPreview"]},null),(n()(),e.ub(17,0,null,null,2,"ws-widget-btn-fullscreen",[],[[8,"id",0],[8,"style",2],[8,"className",0]],[[null,"fsState"]],(function(n,t,l){var e=!0;return"fsState"===t&&(e=!1!==n.component.fullScreenState(l)&&e),e}),k.c,k.b)),e.tb(18,4440064,null,0,Z.a,[],{widgetType:[0,"widgetType"],widgetSubType:[1,"widgetSubType"],widgetData:[2,"widgetData"]},{fsState:"fsState"}),e.Jb(19,{fsContainer:0})],(function(n,t){var l=t.component;n(t,2,0,null==l.pageNavbar?null:l.pageNavbar.styles),n(t,3,0,l.pageNavbar.color),n(t,6,0,l.logo),n(t,8,0,!l.isPreview),n(t,10,0,!l.isAuthor&&(null==l.collection?null:l.collection.appIcon)),n(t,12,0,l.logo),n(t,16,0,l.collection,l.isPreview,l.forPreview);var e=n(t,19,0,l.frameReference);n(t,18,0,"actionButton","actionButtonFullscreen",e)}),(function(n,t){n(t,0,0,e.Gb(t,3)._toolbarRows.length>0,0===e.Gb(t,3)._toolbarRows.length),n(t,15,0,e.Gb(t,16).widgetInstanceId,e.Gb(t,16).widgetSafeStyle,e.Gb(t,16).className),n(t,17,0,e.Gb(t,18).widgetInstanceId,e.Gb(t,18).widgetSafeStyle,e.Gb(t,18).className)}))}var mn=l("bujt"),gn=l("Fwaw"),fn=l("omvX"),vn=l("TX3T"),wn=l("s4ib"),yn=l("lzlj"),Cn=l("igqZ"),Pn=l("NvT6"),Sn=l("W5yJ"),xn=l("/FHN"),Mn=l("l8ls"),Dn=l("Rlre"),In=l("rWV4"),On=l("ctWZ"),_n=l("L6jU"),Tn=l("mBet"),kn=l("c4Wm"),En=l("BV1i"),Rn=l("TtEo"),Gn=l("02hT"),Nn=l("6UMx"),Ln=l("Q+lL"),Fn=l("DkaU"),Un=l("AaDx"),An=l("Mr+X"),qn=l("Gi4r"),zn=l("OBjS"),Wn=l("3b+v"),Qn=l("tlT0"),Hn=l("O7N/"),Kn=l("iJLM"),$n=l("LRne"),jn=l("3E0/");class Jn{constructor(n,t,l,i,a,u,o){this.activatedRoute=n,this.domSanitizer=t,this.contentSvc=l,this.utilitySvc=i,this.viewerDataSvc=a,this.viewSvc=u,this.configSvc=o,this.hidenav=new e.m,this.forPreview=!1,this.resourceChanged="",this.searchCourseQuery="",this.hideSideNav=!1,this.reverse="",this.greenTickIcon="/fusion-assets/images/green-checked3.svg",this.collectionId="",this.resourceId=null,this.collection=null,this.queue=[],this.tocMode="TREE",this.defaultThumbnail=null,this.isFetching=!0,this.pathSet=new Set,this.contentProgressHash=null,this.errorWidgetData={widgetType:"errorResolver",widgetSubType:"errorResolver",widgetData:{errorType:""}},this.enumContentTypes=Kn.h.EDisplayContentTypes,this.collectionCard=null,this.isErrorOccurred=!1,this.paramSubscription=null,this.viewerDataServiceSubscription=null,this.subscription=null,this.hasNestedChild=(n,t)=>t&&t.children&&t.children.length,this._getChildren=n=>n&&n.children?n.children:[],this.nestedTreeControl=new Fn.k(this._getChildren),this.nestedDataSource=new Un.f,this.disabledNode=this.viewerDataSvc.getNode()}ngOnInit(){this.configSvc.instanceConfig&&(this.defaultThumbnail=this.domSanitizer.bypassSecurityTrustResourceUrl(this.configSvc.instanceConfig.logos.defaultContent)),this.paramSubscription=this.activatedRoute.queryParamMap.subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){this.batchId=n.get("batchId");const t=n.get("collectionId"),l=n.get("collectionType");t&&l&&(l.toLowerCase()===Kn.h.EMiscPlayerSupportedCollectionTypes.PLAYLIST.toLowerCase()?this.collection=yield this.getPlaylistContent(t,l):l.toLowerCase()===Kn.h.EContentTypes.MODULE.toLowerCase()||l.toLowerCase()===Kn.h.EContentTypes.COURSE.toLowerCase()||l.toLowerCase()===Kn.h.EContentTypes.PROGRAM.toLowerCase()?this.collection=yield this.getCollection(t,l):this.isErrorOccurred=!0,this.collection&&(this.queue=this.utilitySvc.getLeafNodes(this.collection,[]))),this.resourceId&&this.processCurrentResourceChange()}))),this.viewerDataServiceSubscription=this.viewerDataSvc.changedSubject.subscribe(n=>{this.resourceId!==this.viewerDataSvc.resourceId&&(this.resourceId=this.viewerDataSvc.resourceId,this.processCurrentResourceChange(),this.checkIndexOfResource())})}checkIndexOfResource(){if(this.collection){const n=this.queue.findIndex(n=>n.identifier===this.resourceId);this.scrollToUserView(n)}}ngOnChanges(){return nn.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.currentMessage.subscribe(n=>{n&&this.ngOnInit()})}))}scrollToUserView(n){setTimeout(()=>{if(n>3&&this.highlightItem.nativeElement.classList.contains("li-active")){const n=this.highlightItem.nativeElement.offsetTop;this.outer.nativeElement.scrollTop=this.outer.nativeElement.clientHeight<n+this.highlightItem.nativeElement.clientHeight?this.highlightItem.nativeElement.offsetTop:0,n>535&&"next"===this.reverse?(this.outer.nativeElement.scrollTop=this.highlightItem.nativeElement.offsetTop,this.outer.nativeElement.scrollTop=window.innerHeight,this.highlightItem.nativeElement.offsetTop=300,this.highlightItem.nativeElement.scrollTop=300,n-window.innerHeight>80&&window.scrollTo(0,80)):this.highlightItem.nativeElement.offsetTop+this.outer.nativeElement.offsetTop>window.innerHeight&&(this.outer.nativeElement.scrollTop=this.highlightItem.nativeElement.offsetTop)}},300)}ngAfterViewInit(){setTimeout(()=>{this.checkIndexOfResource()},300)}sendStatus(n){this.viewSvc.editResourceData(n),window.innerWidth<600&&this.minimizenav()}ngOnDestroy(){this.paramSubscription&&this.paramSubscription.unsubscribe(),this.viewerDataServiceSubscription&&this.viewerDataServiceSubscription.unsubscribe()}changeTocMode(){this.tocMode="FLAT"===this.tocMode?"TREE":"FLAT"}processCurrentResourceChange(){if(this.collection&&this.resourceId){const n=this.queue.findIndex(n=>n.identifier===this.resourceId),t=n+1<this.queue.length?this.queue[n+1].viewerUrl:null,l=n-1>=0?this.queue[n-1].viewerUrl:null,e=n+1<this.queue.length?this.queue[n+1].title:null,i=n-1>=0?this.queue[n-1].title:null;this.viewerDataSvc.updateNextPrevResource({isValid:Boolean(this.collection),prev:l,prevTitle:i,nextTitle:e,next:t}),this.processCollectionForTree(),this.expandThePath()}}getCollection(n,t){return nn.__awaiter(this,void 0,void 0,(function*(){try{let t=yield(this.forPreview?this.contentSvc.fetchAuthoringContent(n):this.contentSvc.fetchContent(n,"detail")).toPromise();t=t.result.content,t&&t.gatingEnabled&&this.viewerDataSvc.setNode(t.gatingEnabled),this.resourceContentTypeFunct(t.mimeType),this.collectionCard=this.createCollectionCard(t);const l=this.convertContentToIViewerTocCard(t);return this.isFetching=!1,l}catch(t){switch(t.status){case 403:this.errorWidgetData.widgetData.errorType="accessForbidden";break;case 404:this.errorWidgetData.widgetData.errorType="notFound";break;case 500:this.errorWidgetData.widgetData.errorType="internalServer";break;case 503:this.errorWidgetData.widgetData.errorType="serviceUnavailable";break;default:this.errorWidgetData.widgetData.errorType="somethingWrong"}return this.isFetching=!1,null}}))}getPlaylistContent(n,t){return nn.__awaiter(this,void 0,void 0,(function*(){try{const t=(yield this.contentSvc.fetchCollectionHierarchy("playlist",n,0,1e3).toPromise()).data;this.resourceContentTypeFunct(t.mimeType),this.collectionCard=this.createCollectionCard(t);const l=this.convertContentToIViewerTocCard(t);return this.isFetching=!1,l}catch(t){switch(t.status){case 403:this.errorWidgetData.widgetData.errorType="accessForbidden";break;case 404:this.errorWidgetData.widgetData.errorType="notFound";break;case 500:this.errorWidgetData.widgetData.errorType="internalServer";break;case 503:this.errorWidgetData.widgetData.errorType="serviceUnavailable";break;default:this.errorWidgetData.widgetData.errorType="somethingWrong"}return this.isFetching=!1,null}}))}convertContentToIViewerTocCard(n){return this.resourceContentTypeFunct(n.mimeType),{identifier:n.identifier,viewerUrl:`${this.forPreview?"/author":""}/viewer/${Object(Kn.n)(n.mimeType)}/${n.identifier}`,thumbnailUrl:n.appIcon,title:n.name,duration:n.duration,type:this.resourceContentType,complexity:n.complexityLevel,completionPercentage:n.completionPercentage,completionStatus:n.completionStatus,children:Array.isArray(n.children)&&n.children.length?n.children.map(n=>this.convertContentToIViewerTocCard(n)):null}}createCollectionCard(n){return this.resourceContentTypeFunct(n.mimeType),{type:this.resourceContentType,id:n.identifier,title:n.name,thumbnail:this.forPreview?this.viewSvc.getAuthoringUrl(n.appIcon):n.appIcon,subText1:n.resourceType?n.resourceType:n.contentType,subText2:n.complexityLevel,duration:n.duration,redirectUrl:this.getCollectionTypeRedirectUrl(n.identifier,n.displayContentType)}}getCollectionTypeRedirectUrl(n,t="",l){let e;switch(l){case Kn.h.EDisplayContentTypes.PROGRAM:case Kn.h.EDisplayContentTypes.COURSE:case Kn.h.EDisplayContentTypes.MODULE:e=`${this.forPreview?"/author":"/app"}/toc/${n}/overview`;break;case Kn.h.EDisplayContentTypes.GOALS:e="/app/goals/"+n;break;case Kn.h.EDisplayContentTypes.PLAYLIST:e="/app/playlist/"+n;break;default:e=null}return t&&(e=`${e}?primaryCategory=${t}`),e}processCollectionForTree(){if(this.collection&&this.collection.children){let n;this.configSvc.userProfile&&(n=this.configSvc.userProfile.userId||""),this.contentSvc.fetchContentHistoryV2({request:{userId:n,batchId:this.batchId,courseId:this.collection.identifier||"",contentIds:[],fields:["progressdetails"]}}).subscribe(n=>{this.collection&&this.collection.children&&(t=>{this.collection.children.map((t,l,e)=>{const i=n.result.contentList.find(n=>n.contentId===t.identifier);i?(t.completionPercentage=void 0===i.completionPercentage?0:i.completionPercentage,t.completionStatus=i.status,this.viewerDataSvc.getNode()&&void 0===t.completionPercentage&&(t.disabledNode=!1)):this.viewerDataSvc.getNode()&&(e[l].disabledNode=0!==l),100===t.completionPercentage&&e&&e[l+1]&&(e[l+1].disabledNode=!1),t.children&&t.children.map((t,i,a)=>{const u=n.result.contentList.find(n=>n.contentId===t.identifier);if(u)t.completionPercentage=u.completionPercentage,t.completionStatus=u.status;else if(e[l-1]&&100===e[l-1].children[e[l-1].children.length-1].completionPercentage){if(e[l].children.length>0)return void(e[l].children[0].disabledNode=!1)}else this.viewerDataSvc.getNode()&&(i>0&&a&&100===a[i-1].completionPercentage?a[i].disabledNode=!1:(0===l&&(a[0].disabledNode=!1),a[i].disabledNode=!0))})})})()},n=>{console.log("CONTENT HISTORY FETCH ERROR >",n)}),this.nestedDataSource.data=this.collection.children,this.pathSet=new Set,this.resourceId&&Object($n.a)(!0).pipe(Object(jn.a)(2e3)).subscribe(()=>{this.expandThePath()})}}resourceContentTypeFunct(n){this.resourceContentType="application/vnd.ekstep.content-collection"===n||"application/pdf"===n?"Lecture":"application/quiz"===n||"application/json"===n?"Assessment":"application/html"===n||"application/vnd.ekstep.html-archive"===n?"Scrom":"application/x-mpegURL"===n||"video/mp4"===n?"Video":"audio/mpeg"===n?"Audio":"video/x-youtube"===n||"text/x-url"===n||"application/web-module"===n?"Link":"Course"}expandThePath(){if(this.collection&&this.resourceId){const n=this.utilitySvc.getPath(this.collection,this.resourceId);this.pathSet=new Set(n.map(n=>n.identifier)),n.forEach(n=>{this.nestedTreeControl.expand(n)})}}minimizenav(){this.hidenav.emit(!1),this.hideSideNav=!this.hideSideNav}progressColor(){return"#1D8923"}}var Vn=e.sb({encapsulation:0,styles:[[".theme-igot.day-mode .mat-typography h3.sub-heading{line-height:22px}  .theme-igot.day-mode .mat-tree{background:#f8f8f8!important}.treemode-slider[_ngcontent-%COMP%]{text-align:right;padding-right:16px}.flat-list-content-title[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center}.outer-ul[_ngcontent-%COMP%]{overflow-y:scroll;max-height:94.5vh}.toc-tree-invisible[_ngcontent-%COMP%]{display:none}.f-w-500[_ngcontent-%COMP%]{font-weight:500}.toc-tree[_ngcontent-%COMP%]{padding-inline-start:0;min-height:100%;overflow-y:auto}.toc-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .toc-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}li.li-active[_ngcontent-%COMP%] > div.mat-tree-node[_ngcontent-%COMP%]{background-color:#e5e5e5}.li-active[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{background:#e5e5e5;padding-left:2em;margin-left:0}span.content-active[_ngcontent-%COMP%]{font-weight:500}.content-active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .content-active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:400;font-size:1rem}.content-duration[_ngcontent-%COMP%]{margin:0 8px}app-content-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px}.completed-icon[_ngcontent-%COMP%]{color:green}.height-auto[_ngcontent-%COMP%]{height:auto!important;margin:auto}.flat-list-content[_ngcontent-%COMP%]{display:flex;align-items:center}.viewer-toc-thumbnail[_ngcontent-%COMP%]{height:40px!important;width:70px!important}.viewer-toc-header-thumbnail[_ngcontent-%COMP%]{height:73px!important;width:130px!important}.width-expand[_ngcontent-%COMP%]{flex:1;min-width:1px}.align-self-start[_ngcontent-%COMP%]{align-self:flex-start}.align-self-center[_ngcontent-%COMP%]{align-self:center}.resource-container[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between;margin:12px 0;padding:0 12px 0 0;width:100%}.resource-container[_ngcontent-%COMP%]   ws-display-content-type-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.resource-container[_ngcontent-%COMP%]   .resource-meta[_ngcontent-%COMP%]{margin-left:12px;display:flex;justify-content:space-between;align-items:center}.resource-container[_ngcontent-%COMP%]   .resource-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.85}.width-max-content[_ngcontent-%COMP%]{width:max-content}.margin-left-xxs[_ngcontent-%COMP%]{margin-left:4px}  mat-tree-node .li-active{background-color:#ede5d6}a.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}"]],data:{}});function Bn(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"mat-divider",[["class","margin-bottom-xs mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Rn.b,Rn.a)),e.tb(1,49152,null,0,Gn.a,[],null,null)],null,(function(n,t){n(t,0,0,e.Gb(t,1).vertical?"vertical":"horizontal",e.Gb(t,1).vertical,!e.Gb(t,1).vertical,e.Gb(t,1).inset)}))}function Yn(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,0,"div",[["class","flex flex-middle"]],null,null,null,null,null))],null,null)}function Xn(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,1,"div",[],null,null,null,null,null)),e.tb(1,540672,null,0,vn.a,[e.P,wn.a,X.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){n(t,1,0,t.component.errorWidgetData)}),null)}function Zn(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"section",[],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,Xn)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,null==l.errorWidgetData||null==l.errorWidgetData.widgetData?null:l.errorWidgetData.widgetData.errorType)}),null)}function nt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,5,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(3,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(4,0,null,null,1,"span",[["class","width-expand flex flex-middle mat-error"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" The Resource is not part of the collection "]))],null,(function(n,t){n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode)}))}function tt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function lt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,10,"mat-list-item",[["class","height-auto mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Nn.f,Nn.b)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(2,278528,null,0,H.n,[H.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(3,{"mat-toolbar":0}),e.tb(4,1228800,null,3,Ln.d,[e.k,e.h,[2,Ln.g],[2,Ln.a]],null,null),e.Mb(603979776,4,{_lines:1}),e.Mb(603979776,5,{_avatar:0}),e.Mb(603979776,6,{_icon:0}),(n()(),e.kb(16777216,null,2,2,null,tt)),e.tb(9,540672,null,0,H.y,[e.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Jb(10,{$implicit:0})],(function(n,t){var l=n(t,3,0,t.component.pathSet.has(t.context.$implicit.identifier));n(t,2,0,"height-auto",l);var i=n(t,10,0,t.context.$implicit);n(t,9,0,i,e.Gb(t.parent.parent,9))}),(function(n,t){n(t,0,0,e.Gb(t,4)._avatar||e.Gb(t,4)._icon,e.Gb(t,4)._avatar||e.Gb(t,4)._icon)}))}function et(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function it(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,11,"mat-tree-node",[["class","mat-tree-node"],["matTreeNodeToggle",""]],[[1,"aria-expanded",0],[1,"aria-level",0],[1,"role",0]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,4)._toggle(l)&&i),i}),null,null)),e.Lb(6144,null,Fn.i,null,[Un.k]),e.tb(2,16384,null,0,Un.g,[e.k,Fn.c,[8,null]],null,null),e.Lb(2048,null,Fn.e,null,[Un.g]),e.tb(4,16384,null,0,Un.k,[Fn.c,Fn.e],null,null),(n()(),e.ub(5,0,[[1,0],["highlightItem",1]],null,6,"li",[["class","mat-tree-node leaf-node"]],null,null,null,null,null)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(7,278528,null,0,H.n,[H.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(8,{"li-active":0}),(n()(),e.kb(16777216,null,null,2,null,et)),e.tb(10,540672,null,0,H.y,[e.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Jb(11,{$implicit:0})],(function(n,t){var l=n(t,8,0,t.component.pathSet.has(t.context.$implicit.identifier));n(t,7,0,"mat-tree-node leaf-node",l);var i=n(t,11,0,t.context.$implicit);n(t,10,0,i,e.Gb(t.parent.parent,10))}),(function(n,t){n(t,0,0,e.Gb(t,2).isExpanded,"treeitem"===e.Gb(t,2).role?e.Gb(t,2).level:null,e.Gb(t,2).role)}))}function at(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"span",[["class","content-top"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,0,"img",[["class","image"]],[[8,"src",4]],null,null,null,null))],null,(function(n,t){n(t,1,0,t.component.greenTickIcon)}))}function ut(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"span",[["class","margin-left-xxs"]],null,null,null,null,null)),(n()(),e.Ob(1,null,["| ","%"])),e.Kb(2,2)],null,(function(n,t){var l=e.Pb(t,1,0,n(t,2,0,e.Gb(t.parent.parent.parent.parent,1),100*(null==t.parent.parent.context.$implicit?null:t.parent.parent.context.$implicit.progress),"1.0-0"));n(t,1,0,l)}))}function ot(n){return e.Qb(0,[(n()(),e.kb(16777216,null,null,1,null,ut)),e.tb(1,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){n(t,1,0,null==t.parent.context.$implicit?null:t.parent.context.$implicit.progress)}),null)}function rt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"mat-icon",[["class","completed-icon margin-left-xs mat-icon notranslate"],["matTooltip","Completed"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,An.b,An.a)),e.tb(1,9158656,null,0,qn.b,[e.k,qn.d,[8,null],[2,qn.a]],null,null),(n()(),e.Ob(-1,0,["check_circle"]))],(function(n,t){n(t,1,0)}),(function(n,t){n(t,0,0,e.Gb(t,1).inline,"primary"!==e.Gb(t,1).color&&"accent"!==e.Gb(t,1).color&&"warn"!==e.Gb(t,1).color)}))}function st(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,40,"mat-nested-tree-node",[["class","mat-nested-tree-node"]],[[1,"aria-expanded",0],[1,"role",0]],null,null,null,null)),e.Lb(6144,null,Fn.b,null,[Un.a]),e.tb(2,1196032,null,1,Un.a,[e.k,Fn.c,e.r,[8,null]],null,null),e.Mb(603979776,8,{nodeOutlet:1}),e.Lb(2048,null,Fn.e,null,[Un.a]),e.Lb(2048,null,Fn.a,null,[Un.a]),(n()(),e.ub(6,0,null,null,34,"li",[],null,null,null,null,null)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(8,278528,null,0,H.n,[H.I],{ngClass:[0,"ngClass"]},null),e.Jb(9,{"li-active":0}),(n()(),e.ub(10,0,null,null,26,"div",[["class","mat-tree-node"]],null,null,null,null,null)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(12,278528,null,0,H.n,[H.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(13,{"mat-toolbar":0}),(n()(),e.ub(14,0,null,null,15,"span",[["class","margin-left-xs mt-2 width-9-10"],["matRipple",""],["matTreeNodeToggle",""],["role","button"]],null,[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,19)._toggle(l)&&i),i}),null,null)),e.Lb(6144,null,Fn.i,null,[Un.k]),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(17,278528,null,0,H.n,[H.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(18,{"content-active":0}),e.tb(19,16384,null,0,Un.k,[Fn.c,Fn.e],null,null),(n()(),e.ub(20,0,null,null,1,"h3",[["class","text-truncate margin-remove"]],null,null,null,null,null)),(n()(),e.Ob(21,null,["",""])),(n()(),e.ub(22,0,null,null,2,"div",[["class","mb-3 width-max-content f-w-500"]],null,null,null,null,null)),(n()(),e.Ob(23,null,[" Total: "," "])),e.Kb(24,2),(n()(),e.kb(16777216,null,null,1,null,at)),e.tb(26,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.kb(0,[["elseChapterPercentage",2]],null,0,null,ot)),(n()(),e.kb(16777216,null,null,1,null,rt)),e.tb(29,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(30,0,null,null,6,"button",[["class","width-9-10"],["mat-icon-button",""],["matTreeNodeToggle",""]],[[1,"aria-label",0],[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,33)._toggle(l)&&i),i}),mn.d,mn.b)),e.Lb(6144,null,Fn.i,null,[Un.k]),e.tb(32,180224,null,0,gn.b,[e.k,z.h,[2,fn.a]],null,null),e.tb(33,16384,null,0,Un.k,[Fn.c,Fn.e],null,null),(n()(),e.ub(34,0,null,0,2,"mat-icon",[["class","mat-icon-rtl-mirror mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,An.b,An.a)),e.tb(35,9158656,null,0,qn.b,[e.k,qn.d,[8,null],[2,qn.a]],null,null),(n()(),e.Ob(36,0,[" "," "])),(n()(),e.ub(37,0,null,null,3,"ul",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.ub(38,16777216,null,null,2,null,null,null,null,null,null,null)),e.tb(39,16384,null,0,Un.i,[e.P,[2,Fn.a]],null,null),e.Lb(2048,[[8,4]],Fn.g,null,[Un.i])],(function(n,t){var l=t.component,i=n(t,9,0,l.pathSet.has(t.context.$implicit.identifier));n(t,8,0,i);var a=n(t,13,0,l.pathSet.has(t.context.$implicit.identifier));n(t,12,0,"mat-tree-node",a);var u=n(t,18,0,l.pathSet.has(t.context.$implicit.identifier));n(t,17,0,"margin-left-xs mt-2 width-9-10",u),n(t,26,0,100*(null==t.context.$implicit?null:t.context.$implicit.progress)==100,e.Gb(t,27)),n(t,29,0,l.contentProgressHash&&l.contentProgressHash[t.context.$implicit.identifier]&&l.contentProgressHash[t.context.$implicit.identifier]>.99),n(t,35,0)}),(function(n,t){var l=t.component;n(t,0,0,e.Gb(t,2).isExpanded,e.Gb(t,2).role),n(t,21,0,t.context.$implicit.title);var i=e.Pb(t,23,0,n(t,24,0,e.Gb(t.parent.parent,0),t.context.$implicit.duration,"hms"));n(t,23,0,i),n(t,30,0,"toggle "+t.context.$implicit.name,e.Gb(t,32).disabled||null,"NoopAnimations"===e.Gb(t,32)._animationMode),n(t,34,0,e.Gb(t,35).inline,"primary"!==e.Gb(t,35).color&&"accent"!==e.Gb(t,35).color&&"warn"!==e.Gb(t,35).color),n(t,36,0,l.nestedTreeControl.isExpanded(t.context.$implicit)?"expand_less":"expand_more"),n(t,37,0,!l.nestedTreeControl.isExpanded(t.context.$implicit))}))}function ct(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,36,null,null,null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,Bn)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,Yn)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,Zn)),e.tb(6,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,nt)),e.tb(8,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(9,0,null,null,3,"mat-list",[["class","mat-list mat-list-base"]],[[8,"hidden",0]],null,null,Nn.h,Nn.a)),e.tb(10,704512,null,0,Ln.a,[e.k],null,null),(n()(),e.kb(16777216,null,0,1,null,lt)),e.tb(12,278528,null,0,H.o,[e.P,e.M,e.r],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ub(13,0,null,null,8,"div",[["class","flex mt-10"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,null,2,"span",[["class","margin-left-xs mt-2 width-9-10"],["matRipple",""],["role","button"]],null,null,null,null,null)),(n()(),e.ub(15,0,null,null,1,"h2",[["class","text-truncate margin-remove"],["id","course content-title"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Course Content"])),(n()(),e.ub(17,0,null,null,4,"button",[["class","width-9-10"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.minimizenav()&&e),e}),mn.d,mn.b)),e.tb(18,180224,null,0,gn.b,[e.k,z.h,[2,fn.a]],null,null),(n()(),e.ub(19,0,null,0,2,"mat-icon",[["class"," mat-icon notranslate"],["name","video full screen-arrow"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,An.b,An.a)),e.tb(20,9158656,null,0,qn.b,[e.k,qn.d,[8,null],[2,qn.a]],null,null),(n()(),e.Ob(-1,0,["arrow_back_ios"])),(n()(),e.ub(22,0,[[2,0],["outer",1]],null,14,"div",[],null,null,null,null,null)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(24,278528,null,0,H.n,[H.I],{ngClass:[0,"ngClass"]},null),e.Jb(25,{"outer-ul":0}),(n()(),e.ub(26,0,[[3,0],["ulTree",1]],null,10,"ul",[["class","toc-tree"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.ub(27,0,null,null,9,"mat-tree",[["class","mat-tree"],["role","tree"]],null,null,null,zn.b,zn.a)),e.Lb(6144,null,Fn.c,null,[Un.b]),e.tb(29,2342912,null,1,Un.b,[e.r,e.h],{dataSource:[0,"dataSource"],treeControl:[1,"treeControl"]},null),e.Mb(603979776,7,{_nodeDefs:1}),(n()(),e.kb(0,null,null,2,null,it)),e.tb(32,16384,null,0,Un.h,[e.M],null,null),e.Lb(2048,[[7,4]],Fn.f,null,[Un.h]),(n()(),e.kb(0,null,null,2,null,st)),e.tb(35,16384,null,0,Un.h,[e.M],{when:[0,"when"]},null),e.Lb(2048,[[7,4]],Fn.f,null,[Un.h])],(function(n,t){var l=t.component;n(t,2,0,l.collection),n(t,4,0,l.collection),n(t,6,0,!l.collection),n(t,8,0,l.collection&&l.pathSet&&!l.pathSet.has(l.resourceId)),n(t,12,0,l.queue),n(t,20,0);var e=n(t,25,0,l.queue.length>7);n(t,24,0,e),n(t,29,0,l.nestedDataSource,l.nestedTreeControl),n(t,35,0,l.hasNestedChild)}),(function(n,t){var l=t.component;n(t,9,0,"FLAT"!==l.tocMode),n(t,17,0,e.Gb(t,18).disabled||null,"NoopAnimations"===e.Gb(t,18)._animationMode),n(t,19,0,e.Gb(t,20).inline,"primary"!==e.Gb(t,20).color&&"accent"!==e.Gb(t,20).color&&"warn"!==e.Gb(t,20).color),n(t,26,0,"TREE"!==l.tocMode)}))}function dt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","flex flex-center"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Pn.d,Pn.b)),e.tb(2,49152,null,0,Sn.d,[e.k,q.a,[2,H.d],[2,fn.a],Sn.a],null,null)],null,(function(n,t){n(t,1,0,e.Gb(t,2)._noopAnimations,e.Gb(t,2).diameter,e.Gb(t,2).diameter)}))}function ht(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","flex flex-center"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"h2",[["class","mat-sub-heading"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" Unsupported Collection Type "]))],null,null)}function bt(n){return e.Qb(0,[(n()(),e.kb(16777216,null,null,1,null,dt)),e.tb(1,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,ht)),e.tb(3,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){var l=t.component;n(t,1,0,!l.isErrorOccurred),n(t,3,0,l.isErrorOccurred)}),null)}function pt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,An.b,An.a)),e.tb(1,9158656,null,0,qn.b,[e.k,qn.d,[8,null],[2,qn.a]],null,null),(n()(),e.Ob(-1,0,["lock"]))],(function(n,t){n(t,1,0)}),(function(n,t){n(t,0,0,e.Gb(t,1).inline,"primary"!==e.Gb(t,1).color&&"accent"!==e.Gb(t,1).color&&"warn"!==e.Gb(t,1).color)}))}function mt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"mat-icon",[["class","completed-icon margin-left-xs align-self-start mat-icon notranslate"],["matTooltip","Completed"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,An.b,An.a)),e.tb(1,9158656,null,0,qn.b,[e.k,qn.d,[8,null],[2,qn.a]],null,null),(n()(),e.Ob(-1,0,[" check_circle_outline"]))],(function(n,t){n(t,1,0)}),(function(n,t){n(t,0,0,e.Gb(t,1).inline,"primary"!==e.Gb(t,1).color&&"accent"!==e.Gb(t,1).color&&"warn"!==e.Gb(t,1).color)}))}function gt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,3,"span",[["class","mat-body-1 margin-left-xxs"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.Ob(2,null,["| ",""])),e.Kb(3,2)],null,(function(n,t){var l=e.Pb(t,2,0,n(t,3,0,e.Gb(t.parent.parent,2),null==t.parent.context.$implicit?null:t.parent.context.$implicit.complexity,300));n(t,2,0,l)}))}function ft(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,30,"a",[["class","width-expand flat-list-content margin-xs"],["matRipple",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,l){var i=!0,a=n.component;return"click"===t&&(i=!1!==e.Gb(n,4).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==a.minimizenav()&&i),i}),null,null)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(2,278528,null,0,H.n,[H.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(3,{"content-active":0,disabled:1}),e.tb(4,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(n()(),e.ub(5,0,null,null,25,"span",[["class","width-expand flex flex-middle"]],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,1,"img",[["alt","thumbnail"],["class","viewer-toc-thumbnail align-self-start margin-auto mat-app-background"]],[[8,"src",4]],[[null,"error"]],(function(n,t,l){var i=!0;return"error"===t&&(i=!1!==e.Gb(n,7).updateSrc()&&i),i}),null,null)),e.tb(7,540672,null,0,Wn.a,[],{wsUtilsDefaultThumbnail:[0,"wsUtilsDefaultThumbnail"],src:[1,"src"]},null),(n()(),e.ub(8,0,null,null,18,"span",[["class","width-1-1 margin-left-m flex flex-wrapped align-self-start"]],null,null,null,null,null)),(n()(),e.ub(9,0,null,null,11,"div",[["class","width-1-1 flex flex-between"]],null,null,null,null,null)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(11,278528,null,0,H.n,[H.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(12,{"content-active":0}),(n()(),e.ub(13,0,null,null,7,"div",[["class","mat-body-2 text-truncate flex"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.Ob(15,null,[" "," "])),e.Kb(16,2),(n()(),e.kb(16777216,null,null,1,null,pt)),e.tb(18,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,mt)),e.tb(20,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(21,0,null,null,3,"span",[["class","mat-body-1"]],null,null,null,null,null)),(n()(),e.ub(22,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.Ob(23,null,["",""])),e.Kb(24,2),(n()(),e.kb(16777216,null,null,1,null,gt)),e.tb(26,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(27,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),e.ub(28,0,null,null,2,"div",[["class","mat-body-1 content-duration mat-caption width-max-content"]],null,null,null,null,null)),(n()(),e.Ob(29,null,[" "," "])),e.Kb(30,2)],(function(n,t){var l=t.component,e=n(t,3,0,l.pathSet.has(t.context.$implicit.identifier),t.context.$implicit.disabledNode);n(t,2,0,"width-expand flat-list-content margin-xs",e),n(t,4,0,"preserve",t.context.$implicit.viewerUrl),n(t,7,0,l.defaultThumbnail,t.context.$implicit.thumbnailUrl);var i=n(t,12,0,l.pathSet.has(t.context.$implicit.identifier));n(t,11,0,"width-1-1 flex flex-between",i),n(t,18,0,t.context.$implicit.disabledNode),n(t,20,0,100===(null==t.context.$implicit?null:t.context.$implicit.completionPercentage)),n(t,26,0,null==t.context.$implicit?null:t.context.$implicit.complexity)}),(function(n,t){n(t,0,0,e.Gb(t,4).target,e.Gb(t,4).href),n(t,6,0,e.Gb(t,7).srcUrl);var l=e.Pb(t,15,0,n(t,16,0,e.Gb(t.parent,2),t.context.$implicit.title,20));n(t,15,0,l);var i=e.Pb(t,23,0,n(t,24,0,e.Gb(t.parent,2),t.context.$implicit.type,300));n(t,23,0,i);var a=e.Pb(t,29,0,n(t,30,0,e.Gb(t.parent,0),t.context.$implicit.duration,"hms"));n(t,29,0,a)}))}function vt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,An.b,An.a)),e.tb(1,9158656,null,0,qn.b,[e.k,qn.d,[8,null],[2,qn.a]],null,null),(n()(),e.Ob(-1,0,["lock "]))],(function(n,t){n(t,1,0)}),(function(n,t){n(t,0,0,e.Gb(t,1).inline,"primary"!==e.Gb(t,1).color&&"accent"!==e.Gb(t,1).color&&"warn"!==e.Gb(t,1).color)}))}function wt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Ob(1,null,["  | ","% | "]))],null,(function(n,t){n(t,1,0,t.parent.parent.context.$implicit.completionPercentage)}))}function yt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"mat-icon",[["class","completed-icon margin-left-xs align-self-center mat-icon notranslate"],["matTooltip","Completed"],["role","img"]],[[8,"title",0],[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,An.b,An.a)),e.tb(1,9158656,null,0,qn.b,[e.k,qn.d,[8,null],[2,qn.a]],null,null),(n()(),e.Ob(-1,0,["check_circle_outline"]))],(function(n,t){n(t,1,0)}),(function(n,t){n(t,0,0,e.yb(1,"Completion Percentage : ",null==t.parent.parent.context.$implicit?null:t.parent.parent.context.$implicit.completionPercentage,"%"),e.Gb(t,1).inline,"primary"!==e.Gb(t,1).color&&"accent"!==e.Gb(t,1).color&&"warn"!==e.Gb(t,1).color)}))}function Ct(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,7,"h3",[["class","margin-remove flex sub-heading"]],null,null,null,null,null)),(n()(),e.Ob(1,null,[" "," "])),(n()(),e.kb(16777216,null,null,1,null,vt)),e.tb(3,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,wt)),e.tb(5,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,yt)),e.tb(7,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,3,0,t.parent.context.$implicit.disabledNode),n(t,5,0,(null==t.parent.context.$implicit?null:t.parent.context.$implicit.completionPercentage)&&(null==t.parent.context.$implicit?null:t.parent.context.$implicit.completionPercentage)>=0),n(t,7,0,100===(null==t.parent.context.$implicit?null:t.parent.context.$implicit.completionPercentage))}),(function(n,t){n(t,1,0,null==t.parent.context.$implicit?null:t.parent.context.$implicit.title)}))}function Pt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,3,"span",[["class","mat-body-1 margin-left-xxs"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.Ob(2,null,["| ",""])),e.Kb(3,2)],null,(function(n,t){var l=e.Pb(t,2,0,n(t,3,0,e.Gb(t.parent.parent,2),null==t.parent.context.$implicit?null:t.parent.context.$implicit.complexity,300));n(t,2,0,l)}))}function St(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"mat-icon",[["class","completed-icon margin-left-xs align-self-center mat-icon notranslate"],["matTooltip","Completed"],["role","img"]],[[8,"title",0],[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,An.b,An.a)),e.tb(1,9158656,null,0,qn.b,[e.k,qn.d,[8,null],[2,qn.a]],null,null),(n()(),e.Ob(-1,0,[" check_circle_outline"]))],(function(n,t){n(t,1,0)}),(function(n,t){n(t,0,0,e.yb(1,"",null==t.parent.parent.context.$implicit?null:t.parent.parent.context.$implicit.completionPercentage,"%"),e.Gb(t,1).inline,"primary"!==e.Gb(t,1).color&&"accent"!==e.Gb(t,1).color&&"warn"!==e.Gb(t,1).color)}))}function xt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"h1",[["class","margin-remove flex"]],null,null,null,null,null)),(n()(),e.Ob(1,null,[" "," "])),e.Kb(2,2),(n()(),e.kb(16777216,null,null,1,null,St)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,4,0,100===(null==t.parent.context.$implicit?null:t.parent.context.$implicit.completionPercentage))}),(function(n,t){var l=e.Pb(t,1,0,n(t,2,0,e.Gb(t.parent.parent,2),null==t.parent.context.$implicit?null:t.parent.context.$implicit.title,30));n(t,1,0,l)}))}function Mt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,19,"div",[["class","resource-container"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,18,"div",[["class","resource-meta width-expand"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,17,"a",[["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,l){var i=!0,a=n.component;return"click"===t&&(i=!1!==e.Gb(n,6).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==a.sendStatus(n.context.$implicit)&&i),i}),null,null)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(4,278528,null,0,H.n,[H.I],{ngClass:[0,"ngClass"]},null),e.Jb(5,{"content-active":0,disabled:1}),e.tb(6,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(n()(),e.kb(16777216,null,null,1,null,Ct)),e.tb(8,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(9,0,null,null,3,"span",[["class","mat-body-1"]],null,null,null,null,null)),(n()(),e.ub(10,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.Ob(11,null,["",""])),e.Kb(12,2),(n()(),e.ub(13,0,null,null,2,"span",[["class","margin-left-xxs"]],null,null,null,null,null)),(n()(),e.Ob(14,null,["| ",""])),e.Kb(15,2),(n()(),e.kb(16777216,null,null,1,null,Pt)),e.tb(17,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,xt)),e.tb(19,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component,e=n(t,5,0,l.pathSet.has(t.context.$implicit.identifier),t.context.$implicit.disabledNode);n(t,4,0,e),n(t,6,0,"preserve",t.context.$implicit.viewerUrl),n(t,8,0,(null==t.context.$implicit?null:t.context.$implicit.type)!==l.enumContentTypes.ASSESSMENT),n(t,17,0,null==t.context.$implicit?null:t.context.$implicit.complexity),n(t,19,0,(null==t.context.$implicit?null:t.context.$implicit.type)===l.enumContentTypes.ASSESSMENT)}),(function(n,t){n(t,2,0,e.Gb(t,6).target,e.Gb(t,6).href);var l=e.Pb(t,11,0,n(t,12,0,e.Gb(t.parent,2),t.context.$implicit.type,300));n(t,11,0,l);var i=e.Pb(t,14,0,n(t,15,0,e.Gb(t.parent,0),null==t.context.$implicit?null:t.context.$implicit.duration,"hms"));n(t,14,0,i)}))}function Dt(n){return e.Qb(0,[e.Ib(0,Qn.a,[]),e.Ib(0,H.f,[e.t]),e.Ib(0,Hn.a,[]),e.Mb(671088640,1,{highlightItem:0}),e.Mb(671088640,2,{outer:0}),e.Mb(671088640,3,{ulTree:0}),(n()(),e.kb(16777216,null,null,1,null,ct)),e.tb(7,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.kb(0,[["Loading",2]],null,0,null,bt)),(n()(),e.kb(0,[["TocContentCard",2]],null,0,null,ft)),(n()(),e.kb(0,[["TocContentList",2]],null,0,null,Mt))],(function(n,t){n(t,7,0,!t.component.isFetching,e.Gb(t,8))}),null)}var It=l("+kCu"),Ot=function(n){return n.accessForbidden="accessForbidden",n.notFound="notFound",n.internalServer="internalServer",n.serviceUnavailable="serviceUnavailable",n.somethingWrong="somethingWrong",n.mimeTypeMismatch="mimeTypeMismatch",n.previewUnAuthorised="previewUnAuthorised",n}({});class _t{constructor(n,t,l,e,i,a,u,o,r){this.activatedRoute=n,this.router=t,this.valueSvc=l,this.dataSvc=e,this.rootSvc=i,this.changeDetector=a,this.configSvc=u,this.widgetContentSvc=o,this.viewerSvc=r,this.fullScreenContainer=null,this.content=null,this.errorType=Ot,this.isLtMedium$=this.valueSvc.isLtMedium$,this.sideNavBarOpened=!1,this.mode="side",this.forPreview=window.location.href.includes("/author/"),this.isTypeOfCollection=!0,this.collectionId=this.activatedRoute.snapshot.queryParamMap.get("collectionId"),this.status="none",this.error=null,this.isNotEmbed=!0,this.errorWidgetData={widgetType:"errorResolver",widgetSubType:"errorResolver",widgetData:{errorType:""}},this.screenSizeSubscription=null,this.resourceChangeSubscription=null,this.contentTypes=Kn.h.EContentTypes,this.discussionForumWidget=null,this.viewerDataSubscription=null,this.htmlData=null,this.currentLicenseName="",this.rootSvc.showNavbarDisplay$.next(!1)}getContentData(n){n.activatedRoute.data.subscribe(n=>{n.content&&n.content.data&&(this.checkJson(n.content.data.reviewer)&&(n.content.data.reviewer=JSON.parse(n.content.data.reviewer)),this.content=n.content.data,this.formDiscussionForumWidget(this.content),this.currentLicenseName=this.content.learningObjective||"CC BY",this.getLicenseConfig())})}getCourseContentData(){const n=this.activatedRoute.snapshot.queryParams.collectionId;try{this.widgetContentSvc.fetchContent(n).subscribe(n=>{this.contentData=n.result.content})}catch(t){}}checkJson(n){try{JSON.parse(n)}catch(t){return!1}return!0}ngOnInit(){this.getCourseContentData(),this.getTocConfig(),this.isNotEmbed=!(window.location.href.includes("/embed/")||"true"===this.activatedRoute.snapshot.queryParams.embed),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.screenSizeSubscription=this.isLtMedium$.subscribe(n=>{this.sideNavBarOpened=!n,this.mode=n?"over":"side"}),this.resourceChangeSubscription=this.dataSvc.changedSubject.subscribe(n=>{if(this.status=this.dataSvc.status,this.error=this.dataSvc.error,this.error&&this.error.status)switch(this.error.status){case 403:this.errorWidgetData.widgetData.errorType=Ot.accessForbidden;break;case 404:this.errorWidgetData.widgetData.errorType=Ot.notFound;break;case 500:this.errorWidgetData.widgetData.errorType=Ot.internalServer;break;case 503:this.errorWidgetData.widgetData.errorType=Ot.serviceUnavailable;break;default:this.errorWidgetData.widgetData.errorType=Ot.somethingWrong}this.error&&this.error.errorType===this.errorType.mimeTypeMismatch&&setTimeout(()=>{this.router.navigate([this.error.probableUrl])},3e3)})}getLicenseConfig(){this.widgetContentSvc.fetchConfig(this.configSvc.sitePath+"/license.meta.json").subscribe(n=>{n&&(this.currentLicense=n.licenses.filter(n=>n.licenseName===this.currentLicenseName))},n=>{404===n.status&&this.getLicenseConfig()})}getDiscussionConfig(){this.viewerDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(n=>{this.htmlData=n,this.formDiscussionForumWidget(this.htmlData),this.discussionForumWidget&&(this.discussionForumWidget.widgetData.isDisabled=!0)})}fullScreenState(n){this.dataSvc.changeFullScreen(n)}getTocConfig(){this.widgetContentSvc.fetchConfig(this.configSvc.sitePath+"/feature/toc.json").subscribe(n=>{this.tocConfig=n})}ngAfterViewChecked(){const n=document.getElementById("fullScreenContainer");n?(this.fullScreenContainer=n,this.changeDetector.detectChanges()):(this.fullScreenContainer=null,this.changeDetector.detectChanges())}formDiscussionForumWidget(n){this.discussionForumWidget={widgetData:{description:n.description,id:n.identifier,name:Kn.i.EDiscussionType.LEARNING,title:n.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}ngOnDestroy(){this.rootSvc.showNavbarDisplay$.next(!0),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.resourceChangeSubscription&&this.resourceChangeSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}toggleSideBar(){this.sideNavBarOpened=!this.sideNavBarOpened}minimizeBar(){this.sideNavBarOpened=!this.sideNavBarOpened}parseJsonData(n){try{return JSON.parse(n)}catch(t){return[]}}}var Tt=e.sb({encapsulation:0,styles:[[".theme-igot.day-mode .mat-drawer-container{background-color:transparent}.floating-btn[_ngcontent-%COMP%]{position:fixed;z-index:9;background-color:#d8d8d8!important;padding:3px 8px 3px 5px;transition:linear 1s;top:134px;border-radius:0;min-width:50px}.floating-btn[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.25em}.floating-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.floating-btn[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{display:inline}.width-expand[_ngcontent-%COMP%]{flex:1;min-width:1px}.viewer-sidenav[_ngcontent-%COMP%]{width:100%}@media only screen and (min-width:600px){.minhightab[_ngcontent-%COMP%]{min-height:450px}.viewer-sidenav[_ngcontent-%COMP%]{width:25%;min-width:400px;max-width:600px}}.viewer-sidenav-standalone[_ngcontent-%COMP%]{width:100%}@media only screen and (min-width:600px){.viewer-sidenav-standalone[_ngcontent-%COMP%]{width:25%;min-width:300px;max-width:400px}}.unit-meta-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.full-height-width-iframe[_ngcontent-%COMP%]{height:100vh;width:100vw}.sidenavContent[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px!important}.sidenavContent[_ngcontent-%COMP%]{overflow-x:hidden}viewer-quiz[_ngcontent-%COMP%]{display:flex;width:100%;flex-flow:column}.mat-drawer-content[_ngcontent-%COMP%]{overflow-x:hidden}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}.stack-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap-reverse}.stack-container[_ngcontent-%COMP%]   .div-1[_ngcontent-%COMP%]{flex:1;min-width:1px;overflow-x:hidden}.stack-container[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{box-shadow:none!important}  .mat-tab-label,   .mat-tab-link{opacity:1;font-size:20px!important}  .mat-tab-label-active{border-bottom:3px solid #969696}.theme-igot.day-mode[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:none!important}"]],data:{}});function kt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-viewer-top-bar",[],null,[[null,"toggle"],[null,"fsState"]],(function(n,t,l){var e=!0,i=n.component;return"toggle"===t&&(e=!1!==i.toggleSideBar()&&e),"fsState"===t&&(e=!1!==i.fullScreenState(l)&&e),e}),pn,rn)),e.tb(1,770048,null,0,un,[j.a,Q.b,X.a,ln.a,on.a,en.a,an.a],{frameReference:[0,"frameReference"],forPreview:[1,"forPreview"],screenContent:[2,"screenContent"]},{toggle:"toggle",fsState:"fsState"})],(function(n,t){var l=t.component;n(t,1,0,l.fullScreenContainer,l.forPreview,l.content)}),null)}function Et(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"button",[["class","floating-btn"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.minimizeBar()&&e),e}),mn.d,mn.b)),e.tb(1,180224,null,0,gn.b,[e.k,z.h,[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,0,"img",[["src","/fusion-assets/icons/nav-right.png"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,0,1,"span",[["class","text"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" Course Content"]))],null,(function(n,t){n(t,0,0,e.Gb(t,1).disabled||null,"NoopAnimations"===e.Gb(t,1)._animationMode)}))}function Rt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-viewer-top-bar",[],null,[[null,"toggle"]],(function(n,t,l){var e=!0;return"toggle"===t&&(e=!1!==n.component.toggleSideBar()&&e),e}),pn,rn)),e.tb(1,770048,null,0,un,[j.a,Q.b,X.a,ln.a,on.a,en.a,an.a],{frameReference:[0,"frameReference"],forPreview:[1,"forPreview"],screenContent:[2,"screenContent"]},{toggle:"toggle"})],(function(n,t){var l=t.component;n(t,1,0,l.fullScreenContainer,l.forPreview,l.content)}),null)}function Gt(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,1,"div",[],null,null,null,null,null)),e.tb(1,540672,null,0,vn.a,[e.P,wn.a,X.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){n(t,1,0,t.component.errorWidgetData)}),null)}function Nt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,26,"div",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,25,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(2,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(3,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e.tb(4,16384,null,0,Cn.i,[],null,null),(n()(),e.Ob(-1,null,["Looks like we are having some issues in our content."])),(n()(),e.ub(6,0,null,0,20,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(8,0,null,null,6,"div",[["class","mat-caption"]],null,null,null,null,null)),(n()(),e.ub(9,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Ob(-1,null,[" Debug Message: This content is of a different mimeType ( "])),(n()(),e.ub(11,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Ob(12,null,[" "," "])),(n()(),e.ub(13,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Ob(-1,null,[" ) "])),(n()(),e.ub(15,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),e.ub(16,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Possible Link: "])),(n()(),e.ub(18,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,19).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),null,null)),e.tb(19,671744,null,0,j.r,[j.o,j.a,H.l],{routerLink:[0,"routerLink"]},null),(n()(),e.Ob(20,null,[" "," "])),(n()(),e.ub(21,0,null,null,5,"div",[["class","margin-top-m text-center"]],null,null,null,null,null)),(n()(),e.ub(22,0,null,null,2,"a",[["class","ws-mat-primary-text"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,23).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),null,null)),e.tb(23,671744,null,0,j.r,[j.o,j.a,H.l],{routerLink:[0,"routerLink"]},null),(n()(),e.Ob(-1,null,["Report to us"])),(n()(),e.ub(25,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" and we will make it work"]))],(function(n,t){n(t,19,0,t.component.error.probableUrl),n(t,23,0,"/feedback/bug")}),(function(n,t){var l=t.component;n(t,1,0,"NoopAnimations"===e.Gb(t,2)._animationMode),n(t,12,0,null==l.error?null:l.error.mimeType),n(t,18,0,e.Gb(t,19).target,e.Gb(t,19).href),n(t,20,0,l.error.probableUrl),n(t,22,0,e.Gb(t,23).target,e.Gb(t,23).href)}))}function Lt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,13,"div",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,12,"mat-card",[["class","margin-m mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(2,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(3,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),e.tb(4,16384,null,0,Cn.i,[],null,null),(n()(),e.Ob(-1,null,["Looks like you are not authorized to preview this content."])),(n()(),e.ub(6,0,null,0,7,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(8,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),e.ub(9,0,null,null,2,"a",[["class","ws-mat-primary-text"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,10).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),null,null)),e.tb(10,671744,null,0,j.r,[j.o,j.a,H.l],{routerLink:[0,"routerLink"]},null),(n()(),e.Ob(-1,null,["Report to us"])),(n()(),e.ub(12,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" and we will make it work"]))],(function(n,t){n(t,10,0,"/feedback/bug")}),(function(n,t){n(t,1,0,"NoopAnimations"===e.Gb(t,2)._animationMode),n(t,9,0,e.Gb(t,10).target,e.Gb(t,10).href)}))}function Ft(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,6,"section",[],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,Gt)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,Nt)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,Lt)),e.tb(6,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,null==l.errorWidgetData||null==l.errorWidgetData.widgetData?null:l.errorWidgetData.widgetData.errorType),n(t,4,0,l.error.errorType===l.errorType.mimeTypeMismatch),n(t,6,0,l.error.errorType===l.errorType.previewUnAuthorised)}),null)}function Ut(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"section",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Pn.d,Pn.b)),e.tb(2,49152,null,0,Sn.d,[e.k,q.a,[2,H.d],[2,fn.a],Sn.a],null,null)],null,(function(n,t){n(t,1,0,e.Gb(t,2)._noopAnimations,e.Gb(t,2).diameter,e.Gb(t,2).diameter)}))}function At(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,6,"mat-card",[["class","unit-meta-item ml-5 mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),e.Ob(3,null,["",""])),(n()(),e.ub(4,0,null,0,2,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(5,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(6,0,null,null,0,"div",[["class","break-words"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(n,t){var l=t.component;n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode),n(t,3,0,null==l.tocConfig||null==l.tocConfig.overview||null==l.tocConfig.overview.body?null:l.tocConfig.overview.body.displayName),n(t,6,0,null==l.contentData?null:l.contentData.instructions)}))}function qt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","mr-5"]],null,null,null,null,null)),(n()(),e.ub(1,16777216,null,null,2,null,null,null,null,null,null,null)),e.tb(2,540672,null,0,H.y,[e.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Jb(3,{authors:0,title:1})],(function(n,t){var l=t.component,i=n(t,3,0,null==l.contentData?null:l.contentData.creator,"AUTHOR");n(t,2,0,i,e.Gb(t.parent,20))}),null)}function zt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","mr-5"]],null,null,null,null,null)),(n()(),e.ub(1,16777216,null,null,2,null,null,null,null,null,null,null)),e.tb(2,540672,null,0,H.y,[e.P],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Jb(3,{authors:0,title:1})],(function(n,t){var l=t.component,i=n(t,3,0,null==l.contentData?null:l.contentData.creatorContacts,"CONTACT");n(t,2,0,i,e.Gb(t.parent,20))}),null)}function Wt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Authors"]))],null,null)}function Qt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,8,"div",[["class","unit-meta-item ml-5"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,Wt)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(3,0,null,null,5,"div",[["class","author"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,1,"ws-widget-user-image",[["class","author-image"]],null,null,null,xn.b,xn.a)),e.tb(5,638976,null,0,Mn.a,[X.a],{userName:[0,"userName"],imageType:[1,"imageType"]},null),(n()(),e.ub(6,0,null,null,2,"div",[["class","width-expand flex flex-middle flex-start author-name"]],null,null,null,null,null)),(n()(),e.ub(7,0,null,null,1,"h3",[["class","margin-remove"]],null,null,null,null,null)),(n()(),e.Ob(8,null,["",""]))],(function(n,t){n(t,2,0,"AUTHOR"===t.context.title),n(t,5,0,t.context.authors||"","name-initial")}),(function(n,t){n(t,8,0,t.context.authors)}))}function Ht(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,23,"mat-tab",[["label","Overview"]],null,null,null,Dn.f,Dn.a)),e.tb(1,770048,[[3,4]],2,In.c,[e.P],{textLabel:[0,"textLabel"]},null),e.Mb(603979776,4,{templateLabel:0}),e.Mb(335544320,5,{_explicitContent:0}),(n()(),e.ub(4,0,null,0,19,"div",[["class","stack-container"]],null,null,null,null,null)),(n()(),e.ub(5,0,null,null,15,"div",[["class","div-1"]],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,6,"mat-card",[["class","unit-meta-item ml-5 mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(7,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(8,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),e.Ob(9,null,["",""])),(n()(),e.ub(10,0,null,0,2,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(11,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(12,0,null,null,0,"div",[["class","mat-subheading-1"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,At)),e.tb(14,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(15,0,null,null,4,"div",[["class","width-1-1 ml-3 mt-3"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,qt)),e.tb(17,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,zt)),e.tb(19,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(0,[["creators",2]],null,0,null,Qt)),(n()(),e.ub(21,0,null,null,2,"div",[["class","div-2"]],null,null,null,null,null)),(n()(),e.ub(22,0,null,null,1,"ws-widget-player-brief",[],null,null,null,On.b,On.a)),e.tb(23,114688,null,0,_n.a,[X.a,Tn.a,j.o,en.a],{content:[0,"content"],forPreview:[1,"forPreview"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){var l=t.component;n(t,1,0,"Overview"),n(t,14,0,(null==l.tocConfig||null==l.tocConfig.overview||null==l.tocConfig.overview.body?null:l.tocConfig.overview.body.enabled)&&(null==l.contentData?null:l.contentData.instructions)),n(t,17,0,null==l.contentData||null==l.contentData.creator?null:l.contentData.creator.length),n(t,19,0,null==l.contentData||null==l.contentData.creatorContacts?null:l.contentData.creatorContacts.length),n(t,23,0,l.content,l.forPreview)}),(function(n,t){var l=t.component;n(t,6,0,"NoopAnimations"===e.Gb(t,7)._animationMode),n(t,9,0,null==l.tocConfig||null==l.tocConfig.overview||null==l.tocConfig.overview.description?null:l.tocConfig.overview.description.displayName),n(t,12,0,null==l.contentData?null:l.contentData.description)}))}function Kt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,10,"div",[["class","mt-3 ml-5 mb-3 mr-5"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"h2",[["class","margin-bottom-m"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["License terms"])),(n()(),e.ub(3,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Ob(4,null,["",""])),(n()(),e.ub(5,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Ob(6,null,["",""])),(n()(),e.ub(7,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Ob(8,null,[""," For details see below:‎"])),(n()(),e.ub(9,0,null,null,1,"a",[["class","blue-link"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),e.Ob(10,null,["",""]))],null,(function(n,t){var l=t.component;n(t,4,0,null==l.currentLicense[0]?null:l.currentLicense[0].licenseName),n(t,6,0,null==l.currentLicense[0]?null:l.currentLicense[0].desc),n(t,8,0,null==l.currentLicense[0]?null:l.currentLicense[0].licenseName),n(t,9,0,e.yb(1,"",null==l.currentLicense[0]?null:l.currentLicense[0].link,"")),n(t,10,0,null==l.currentLicense[0]?null:l.currentLicense[0].link)}))}function $t(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,35,"section",[],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,kt)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,Et)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,Rt)),e.tb(6,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(7,0,null,null,28,"mat-sidenav-container",[["autosize",""],["class","viewer-sidenav-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,kn.j,kn.e)),e.tb(8,1490944,null,2,En.f,[[2,W.b],e.k,e.y,e.h,A.e,En.a,[2,fn.a]],{autosize:[0,"autosize"]},null),e.Mb(603979776,1,{_drawers:1}),e.Mb(603979776,2,{_content:0}),(n()(),e.ub(11,0,null,0,5,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["position","start"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(n,t,l){var i=!0;return"component:@transform.start"===t&&(i=!1!==e.Gb(n,14)._animationStartListener(l)&&i),"component:@transform.done"===t&&(i=!1!==e.Gb(n,14)._animationDoneListener(l)&&i),i}),kn.l,kn.d)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(13,278528,null,0,H.n,[H.I],{ngClass:[0,"ngClass"]},null),e.tb(14,3325952,[[1,4]],0,En.e,[e.k,z.i,z.h,q.a,e.y,[2,H.d]],{position:[0,"position"],mode:[1,"mode"],opened:[2,"opened"]},null),(n()(),e.ub(15,0,null,0,1,"viewer-viewer-toc",[],null,[[null,"hidenav"]],(function(n,t,l){var e=!0;return"hidenav"===t&&(e=!1!==n.component.minimizeBar()&&e),e}),Dt,Vn)),e.tb(16,4964352,null,0,Jn,[j.a,Q.b,en.a,Tn.a,ln.a,an.a,X.a],{forPreview:[0,"forPreview"]},{hidenav:"hidenav"}),(n()(),e.ub(17,0,null,1,18,"mat-sidenav-content",[["class","sidenavContent mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,kn.k,kn.f)),e.tb(18,1294336,[[2,4]],0,En.g,[e.h,En.f,e.k,A.b,e.y],null,null),(n()(),e.kb(16777216,null,0,1,null,Ft)),e.tb(20,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,0,1,null,Ut)),e.tb(22,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(23,16777216,null,0,1,"router-outlet",[],null,[[null,"activate"]],(function(n,t,l){var e=!0;return"activate"===t&&(e=!1!==n.component.getContentData(l)&&e),e}),null,null)),e.tb(24,212992,null,0,j.t,[j.b,e.P,e.j,[8,null],e.h],null,{activateEvents:"activate"}),(n()(),e.ub(25,0,null,0,10,"mat-tab-group",[["animationDuration","0ms"],["class","minhightab mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,Dn.d,Dn.b)),e.tb(26,3325952,null,1,In.g,[e.k,e.h,[2,In.a],[2,fn.a]],{animationDuration:[0,"animationDuration"]},null),e.Mb(603979776,3,{_tabs:1}),(n()(),e.kb(16777216,null,null,1,null,Ht)),e.tb(29,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(30,16777216,null,null,5,"mat-tab",[["label","License"]],null,null,null,Dn.f,Dn.a)),e.tb(31,770048,[[3,4]],2,In.c,[e.P],{textLabel:[0,"textLabel"]},null),e.Mb(603979776,6,{templateLabel:0}),e.Mb(335544320,7,{_explicitContent:0}),(n()(),e.kb(16777216,null,0,1,null,Kt)),e.tb(35,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.fullScreenContainer),n(t,4,0,!l.sideNavBarOpened),n(t,6,0,!l.fullScreenContainer),n(t,8,0,""),n(t,13,0,l.isTypeOfCollection?"viewer-sidenav":"viewer-sidenav-standalone"),n(t,14,0,"start",l.mode,l.sideNavBarOpened),n(t,16,0,l.forPreview),n(t,18,0),n(t,20,0,"error"===l.status),n(t,22,0,"pending"===l.status),n(t,24,0),n(t,26,0,"0ms"),n(t,29,0,l.isTypeOfCollection),n(t,31,0,"License"),n(t,35,0,l.currentLicense)}),(function(n,t){n(t,7,0,e.Gb(t,8)._backdropOverride),n(t,11,0,null,"end"===e.Gb(t,14).position,"over"===e.Gb(t,14).mode,"push"===e.Gb(t,14).mode,"side"===e.Gb(t,14).mode,e.Gb(t,14).opened,e.Gb(t,14).fixedInViewport,e.Gb(t,14).fixedInViewport?e.Gb(t,14).fixedTopGap:null,e.Gb(t,14).fixedInViewport?e.Gb(t,14).fixedBottomGap:null,e.Gb(t,14)._animationState),n(t,17,0,e.Gb(t,18)._container._contentMargins.left,e.Gb(t,18)._container._contentMargins.right),n(t,25,0,e.Gb(t,26).dynamicHeight,"below"===e.Gb(t,26).headerPosition)}))}function jt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","full-height-width-iframe"]],null,null,null,null,null)),(n()(),e.ub(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.tb(2,212992,null,0,j.t,[j.b,e.P,e.j,[8,null],e.h],null,null)],(function(n,t){n(t,2,0)}),null)}function Jt(n){return e.Qb(0,[(n()(),e.kb(16777216,null,null,1,null,$t)),e.tb(1,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,jt)),e.tb(3,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,1,0,l.isNotEmbed),n(t,3,0,!l.isNotEmbed)}),null)}function Vt(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-container",[],null,null,null,Jt,Tt)),e.tb(1,8634368,null,0,_t,[j.a,j.o,on.a,ln.a,It.a,e.h,X.a,en.a,an.a],null,null)],(function(n,t){n(t,1,0)}),null)}var Bt=e.qb("viewer-container",_t,Vt,{},{},[]),Yt=l("c3Nb"),Xt=l("Q3Rl"),Zt=l("tHRR"),nl=l("U5F2");class tl{constructor(n,t,l){this.activatedRoute=n,this.configSvc=t,this.viewerDataSvc=l,this.isScreenSizeSmall=!1,this.isFetchingDataComplete=!1,this.isNotEmbed=!0,this.audioData=null,this.widgetResolverAudioData=null,this.discussionForumWidget=null,this.isPreviewMode=!1,this.forPreview=!1,this.isTypeOfCollection=!1,this.isRestricted=!1,this.prevResourceUrl=null,this.nextResourceUrl=null}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.viewerDataServiceSubscription=this.viewerDataSvc.tocChangeSubject.subscribe(n=>{this.prevTitle=n.previousTitle,this.nextTitle=n.nextResTitle,this.prevResourceUrl=n.prevResource,this.nextResourceUrl=n.nextResource}),this.collectionIdentifier=this.activatedRoute.snapshot.queryParams.collectionId}}var ll=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 12px 12px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}}.video-player[_ngcontent-%COMP%]{width:99%;height:75vh;margin:0 auto;position:relative}@media only screen and (max-width:1919px){.video-player[_ngcontent-%COMP%]{height:70vh}}@media only screen and (max-width:1279px){.video-player[_ngcontent-%COMP%]{height:65vh}}@media only screen and (max-width:959px){.video-player[_ngcontent-%COMP%]{height:60vh}}@media only screen and (max-width:599px){.video-player[_ngcontent-%COMP%]{height:55vh}}.video-player-m[_ngcontent-%COMP%]{left:0;height:40vh;width:100vw;z-index:1000;background:#000}.video-discussion-forum-in[_ngcontent-%COMP%], .vidoe-title[_ngcontent-%COMP%]{width:100%}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}@media only screen and (max-width:599px){.info-section[_ngcontent-%COMP%]{width:100%}}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.audio-player-embed[_ngcontent-%COMP%]{height:100vh;width:100vw}.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{right:-11px}.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:-11px}@media only screen and (max-width:599px){.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{right:-26px}.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:-26px}}.prev-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-left:-12px!important}.next-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-right:-11px}"]],data:{}});function el(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,vn.a,[e.P,wn.a,X.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){n(t,1,0,t.component.widgetResolverAudioData)}),null)}function il(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Previous Chapter"])),(n()(),e.Ob(3,null,[""," "])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.prevTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.prevTitle,0,22))+"..":l.prevTitle)}))}function al(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Next Chapter"])),(n()(),e.Ob(3,null,["",""])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.nextTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.nextTitle,0,22))+"..":l.nextTitle)}))}function ul(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,8,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,6,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,b.c,b.b)),e.tb(4,4308992,null,0,Yt.a,[q.a,Xt.a,Zt.a,X.a],{widgetData:[0,"widgetData"]},null),e.Hb(5,7),e.Kb(6,2),(n()(),e.ub(7,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(8,4308992,null,0,B.a,[Y.e,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null)],(function(n,t){var l=t.component,i=e.Pb(t,4,0,n(t,6,0,e.Gb(t.parent.parent.parent,0),l.audioData,n(t,5,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));n(t,4,0,i),n(t,8,0,l.audioData,l.forPreview)}),(function(n,t){n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode),n(t,3,0,e.Gb(t,4).widgetInstanceId,e.Gb(t,4).widgetSafeStyle,e.Gb(t,4).className),n(t,7,0,e.Gb(t,8).widgetInstanceId,e.Gb(t,8).widgetSafeStyle,e.Gb(t,8).className)}))}function ol(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,ul)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.isScreenSizeSmall)}),null)}function rl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,30,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,29,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,28,"div",[["class","w-full"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,25,"div",[],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,24,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(5,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(6,0,null,0,22,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(8,0,null,null,20,"div",[["class","video-player"],["id","fullScreenContainer"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,el)),e.tb(10,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(11,0,null,null,17,"div",[["class","player-nav-links"]],null,null,null,null,null)),(n()(),e.ub(12,0,null,null,16,"div",[["class","flex justify-between html"]],null,null,null,null,null)),(n()(),e.ub(13,0,null,null,7,"div",[["class","prev-button"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,null,4,"a",[["accesskey","<"],["class","width-auto"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,15).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,16)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(15,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(16,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(17,0,null,0,1,"span",[["class","material-icons align-left-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_left "])),(n()(),e.kb(16777216,null,null,1,null,il)),e.tb(20,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(21,0,null,null,7,"div",[["class","next-button"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,al)),e.tb(23,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(24,0,null,null,4,"a",[["accesskey",">"],["class","width-auto mr-10"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,25).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,26)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(25,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(26,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(27,0,null,0,1,"span",[["class","material-icons align-right-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_right "])),(n()(),e.kb(16777216,null,null,1,null,ol)),e.tb(30,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,10,0,l.isFetchingDataComplete),n(t,15,0,"preserve",l.prevResourceUrl),n(t,16,0,!l.prevResourceUrl),n(t,20,0,l.prevTitle),n(t,23,0,l.nextTitle),n(t,25,0,"preserve",l.nextResourceUrl),n(t,26,0,!l.nextResourceUrl),n(t,30,0,l.audioData)}),(function(n,t){n(t,4,0,"NoopAnimations"===e.Gb(t,5)._animationMode),n(t,14,0,e.Gb(t,15).target,e.Gb(t,15).href,e.Gb(t,16).disabled?-1:e.Gb(t,16).tabIndex||0,e.Gb(t,16).disabled||null,e.Gb(t,16).disabled.toString(),"NoopAnimations"===e.Gb(t,16)._animationMode),n(t,24,0,e.Gb(t,25).target,e.Gb(t,25).href,e.Gb(t,26).disabled?-1:e.Gb(t,26).tabIndex||0,e.Gb(t,26).disabled||null,e.Gb(t,26).disabled.toString(),"NoopAnimations"===e.Gb(t,26)._animationMode)}))}function sl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Authors"]))],null,null)}function cl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Contacts"]))],null,null)}function dl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,5,"div",[["class","author"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"ws-widget-user-image",[["class","author-image"]],null,null,null,xn.b,xn.a)),e.tb(2,638976,null,0,Mn.a,[X.a],{email:[0,"email"]},null),(n()(),e.ub(3,0,null,null,2,"div",[["class","width-expand flex flex-middle flex-between"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,1,"h3",[["class","margin-remove"]],null,null,null,null,null)),(n()(),e.Ob(5,null,["",""]))],(function(n,t){n(t,2,0,t.context.$implicit.email)}),(function(n,t){n(t,5,0,t.context.$implicit.name)}))}function hl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,9,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.kb(16777216,null,0,1,null,sl)),e.tb(3,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,0,1,null,cl)),e.tb(5,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(6,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Rn.b,Rn.a)),e.tb(7,49152,null,0,Gn.a,[],null,null),(n()(),e.kb(16777216,null,0,1,null,dl)),e.tb(9,278528,null,0,H.o,[e.P,e.M,e.r],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){n(t,3,0,"AUTHOR"===t.context.title),n(t,5,0,"CONTACT"===t.context.title),n(t,9,0,t.context.authors)}),(function(n,t){n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode),n(t,6,0,e.Gb(t,7).vertical?"vertical":"horizontal",e.Gb(t,7).vertical,!e.Gb(t,7).vertical,e.Gb(t,7).inset)}))}function bl(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,vn.a,[e.P,wn.a,X.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){n(t,1,0,t.component.widgetResolverAudioData)}),null)}function pl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","full-height-width-iframe"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,2,"div",[["class","audio-player-embed"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,bl)),e.tb(3,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,3,0,t.component.isFetchingDataComplete)}),null)}function ml(n){return e.Qb(0,[e.Ib(0,nl.a,[]),(n()(),e.kb(16777216,null,null,1,null,rl)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(0,[["creators",2]],null,0,null,hl)),(n()(),e.kb(16777216,null,null,1,null,pl)),e.tb(5,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.audioData&&l.isNotEmbed),n(t,5,0,!l.isNotEmbed)}),null)}l("aLkD");class gl{constructor(n,t,l,e,i){this.activatedRoute=n,this.contentSvc=t,this.valueSvc=l,this.viewerSvc=e,this.accessControlSvc=i,this.routeDataSubscription=null,this.screenSizeSubscription=null,this.viewerDataSubscription=null,this.isScreenSizeSmall=!1,this.isNotEmbed=!0,this.isFetchingDataComplete=!1,this.forPreview=window.location.href.includes("/author/"),this.audioData=null,this.widgetResolverAudioData=null,this.discussionForumWidget=null}ngOnInit(){this.screenSizeSubscription=this.valueSvc.isXSmall$.subscribe(n=>{this.isScreenSizeSmall=n}),this.isNotEmbed=!(window.location.href.includes("/embed/")||"true"===this.activatedRoute.snapshot.queryParams.embed),this.activatedRoute.snapshot.queryParamMap.get("preview")&&!this.accessControlSvc.authoringConfig.newDesign?this.viewerDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(n=>{this.audioData=n,this.audioData&&this.formDiscussionForumWidget(this.audioData),this.widgetResolverAudioData=this.initWidgetResolverAudioData(),this.widgetResolverAudioData.widgetData.url=this.audioData?"/apis/authContent/"+encodeURIComponent(this.audioData.artifactUrl):"",this.widgetResolverAudioData.widgetData.disableTelemetry=!0,this.isFetchingDataComplete=!0}):this.routeDataSubscription=this.activatedRoute.data.subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){this.widgetResolverAudioData=null,this.audioData=n.content.data,this.audioData&&this.formDiscussionForumWidget(this.audioData),this.audioData&&this.audioData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.audioData.identifier)),this.widgetResolverAudioData=this.initWidgetResolverAudioData(),this.audioData&&this.audioData.identifier&&(this.activatedRoute.snapshot.queryParams.collectionId?yield this.fetchContinueLearning(this.activatedRoute.snapshot.queryParams.collectionId,this.audioData.identifier):yield this.fetchContinueLearning(this.audioData.identifier,this.audioData.identifier)),this.forPreview&&(this.widgetResolverAudioData.widgetData.disableTelemetry=!0),this.widgetResolverAudioData.widgetData.url=this.audioData?this.forPreview?this.viewerSvc.getAuthoringUrl(this.audioData.artifactUrl):this.audioData.artifactUrl:"",this.widgetResolverAudioData.widgetData.identifier=this.audioData?this.audioData.identifier:"",this.widgetResolverAudioData=JSON.parse(JSON.stringify(this.widgetResolverAudioData)),this.isFetchingDataComplete=!0})),()=>{})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}initWidgetResolverAudioData(){return{widgetType:"player",widgetSubType:"playerAudio",widgetData:{disableTelemetry:!1,url:"",identifier:"",resumePoint:0,continueLearning:!0},widgetHostClass:"video-full"}}formDiscussionForumWidget(n){this.discussionForumWidget={widgetData:{description:n.description,id:n.identifier,name:Kn.i.EDiscussionType.LEARNING,title:n.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}fetchContinueLearning(n,t){return nn.__awaiter(this,void 0,void 0,(function*(){return new Promise(l=>{this.contentSvc.fetchContentHistory(n).subscribe(n=>{n&&n.identifier===t&&n.continueData&&n.continueData.progress&&this.widgetResolverAudioData&&(this.widgetResolverAudioData.widgetData.resumePoint=Number(n.continueData.progress)),l(!0)},()=>l(!0))})}))}setS3Cookie(n){return nn.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(n).toPromise().catch(()=>{})}))}}var fl=l("bKtt"),vl=e.sb({encapsulation:0,styles:[[""]],data:{}});function wl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-audio-container",[],null,null,null,ml,ll)),e.tb(1,114688,null,0,tl,[j.a,X.a,ln.a],{isScreenSizeSmall:[0,"isScreenSizeSmall"],isFetchingDataComplete:[1,"isFetchingDataComplete"],isNotEmbed:[2,"isNotEmbed"],audioData:[3,"audioData"],widgetResolverAudioData:[4,"widgetResolverAudioData"],discussionForumWidget:[5,"discussionForumWidget"],forPreview:[6,"forPreview"]},null)],(function(n,t){var l=t.component;n(t,1,0,l.isScreenSizeSmall,l.isFetchingDataComplete,l.isNotEmbed,l.audioData,l.widgetResolverAudioData,l.discussionForumWidget,l.forPreview)}),null)}function yl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-audio",[],null,null,null,wl,vl)),e.tb(1,245760,null,0,gl,[j.a,en.a,on.a,an.a,fl.a],null,null)],(function(n,t){n(t,1,0)}),null)}var Cl=e.qb("viewer-audio",gl,yl,{},{},[]);class Pl{constructor(){this.artifactUrl=null}ngOnInit(){}}var Sl=e.sb({encapsulation:0,styles:[[".height-width-full[_ngcontent-%COMP%]{height:100%;width:100%}"]],data:{}});function xl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"audio",[["autoplay",""],["class","height-width-full"],["controls",""],["preload",""]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,0,"source",[["type","audio/mp4"]],[[8,"src",4]],null,null,null,null)),(n()(),e.ub(2,0,null,null,0,"source",[["type","audio/mpeg"]],[[8,"src",4]],null,null,null,null)),(n()(),e.ub(3,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Your browser does not support HTML5 audio."]))],null,(function(n,t){var l=t.component;n(t,1,0,l.artifactUrl),n(t,2,0,l.artifactUrl)}))}class Ml{constructor(n,t,l){this.activatedRoute=n,this.configSvc=t,this.viewerDataSvc=l,this.isScreenSizeSmall=!1,this.forPreview=!1,this.isFetchingDataComplete=!1,this.audioData=null,this.discussionForumWidget=null,this.defaultThumbnail="",this.isPreviewMode=!1,this.isTypeOfCollection=!1,this.isRestricted=!1,this.prevResourceUrl=null,this.nextResourceUrl=null}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.viewerDataServiceSubscription=this.viewerDataSvc.tocChangeSubject.subscribe(n=>{this.prevTitle=n.previousTitle,this.nextTitle=n.nextResTitle,this.prevResourceUrl=n.prevResource,this.nextResourceUrl=n.nextResource}),this.collectionIdentifier=this.activatedRoute.snapshot.queryParams.collectionId}}var Dl=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 12px 12px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:40vh 8px 8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}.video-player[_ngcontent-%COMP%]{width:100%;height:75vh;position:relative;background-repeat:no-repeat!important;background-position:center!important}@media only screen and (max-width:1919px){.video-player[_ngcontent-%COMP%]{height:70vh}}@media only screen and (max-width:1279px){.video-player[_ngcontent-%COMP%]{height:65vh}}@media only screen and (max-width:959px){.video-player[_ngcontent-%COMP%]{height:60vh}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}.video-player[_ngcontent-%COMP%]{height:55vh;display:none}}.video-player-m[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background-repeat:no-repeat!important;background-position:center!important}@media only screen and (min-width:600px){.video-player-m[_ngcontent-%COMP%]{display:none}}.video-discussion-forum-in[_ngcontent-%COMP%], .vidoe-title[_ngcontent-%COMP%]{width:100%}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}@media only screen and (max-width:599px){.info-section[_ngcontent-%COMP%]{width:100%}}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.height-width-full[_ngcontent-%COMP%]{height:100%;width:100%}"]],data:{}});function Il(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,5,"div",[["class","video-player-m ws-mat-primary-lite-background-important"]],null,null,null,null,null)),e.Lb(512,null,H.K,H.L,[e.k,e.s,e.D]),e.tb(2,278528,null,0,H.u,[H.K],{ngStyle:[0,"ngStyle"]},null),e.Jb(3,{background:0}),(n()(),e.ub(4,0,null,null,1,"viewer-plugin-audio-native",[],null,null,null,xl,Sl)),e.tb(5,114688,null,0,Pl,[],{artifactUrl:[0,"artifactUrl"]},null)],(function(n,t){var l=t.component,e=n(t,3,0,"url("+l.defaultThumbnail+")");n(t,2,0,e),n(t,5,0,null==l.audioData?null:l.audioData.artifactUrl)}),null)}function Ol(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Previous Chapter"])),(n()(),e.Ob(3,null,[""," "])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.prevTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.prevTitle,0,22))+"..":l.prevTitle)}))}function _l(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Next Chapter"])),(n()(),e.Ob(3,null,["",""])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.nextTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.nextTitle,0,22))+"..":l.nextTitle)}))}function Tl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,28,"div",[],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,27,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(2,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(3,0,null,0,25,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(4,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(5,0,null,null,23,"div",[["class","video-player ws-mat-primary-lite-background-important"],["id","fullScreenContainer"]],null,null,null,null,null)),e.Lb(512,null,H.K,H.L,[e.k,e.s,e.D]),e.tb(7,278528,null,0,H.u,[H.K],{ngStyle:[0,"ngStyle"]},null),e.Jb(8,{background:0}),(n()(),e.ub(9,0,null,null,1,"viewer-plugin-audio-native",[],null,null,null,xl,Sl)),e.tb(10,114688,null,0,Pl,[],{artifactUrl:[0,"artifactUrl"]},null),(n()(),e.ub(11,0,null,null,17,"div",[["class","player-nav-links"]],null,null,null,null,null)),(n()(),e.ub(12,0,null,null,16,"div",[["class","flex justify-between html"]],null,null,null,null,null)),(n()(),e.ub(13,0,null,null,7,"div",[["class","prev-button"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,null,4,"a",[["accesskey","<"],["class","width-auto"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,15)._haltDisabledEvents(l)&&i),"click"===t&&(i=!1!==e.Gb(n,16).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),mn.c,mn.a)),e.tb(15,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),e.tb(16,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(n()(),e.ub(17,0,null,0,1,"span",[["class","material-icons align-left-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_left "])),(n()(),e.kb(16777216,null,null,1,null,Ol)),e.tb(20,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(21,0,null,null,7,"div",[["class","next-button"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,_l)),e.tb(23,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(24,0,null,null,4,"a",[["accesskey",">"],["class","width-auto mr-10"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,25)._haltDisabledEvents(l)&&i),"click"===t&&(i=!1!==e.Gb(n,26).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),mn.c,mn.a)),e.tb(25,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),e.tb(26,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(n()(),e.ub(27,0,null,0,1,"span",[["class","material-icons align-right-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_right "]))],(function(n,t){var l=t.component,e=n(t,8,0,"url("+l.defaultThumbnail+")");n(t,7,0,e),n(t,10,0,null==l.audioData?null:l.audioData.artifactUrl),n(t,15,0,!l.prevResourceUrl),n(t,16,0,"preserve",l.prevResourceUrl),n(t,20,0,l.prevTitle),n(t,23,0,l.nextTitle),n(t,25,0,!l.nextResourceUrl),n(t,26,0,"preserve",l.nextResourceUrl)}),(function(n,t){n(t,1,0,"NoopAnimations"===e.Gb(t,2)._animationMode),n(t,14,0,e.Gb(t,15).disabled?-1:e.Gb(t,15).tabIndex||0,e.Gb(t,15).disabled||null,e.Gb(t,15).disabled.toString(),"NoopAnimations"===e.Gb(t,15)._animationMode,e.Gb(t,16).target,e.Gb(t,16).href),n(t,24,0,e.Gb(t,25).disabled?-1:e.Gb(t,25).tabIndex||0,e.Gb(t,25).disabled||null,e.Gb(t,25).disabled.toString(),"NoopAnimations"===e.Gb(t,25)._animationMode,e.Gb(t,26).target,e.Gb(t,26).href)}))}function kl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,8,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,6,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,b.c,b.b)),e.tb(4,4308992,null,0,Yt.a,[q.a,Xt.a,Zt.a,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(5,7),e.Kb(6,2),(n()(),e.ub(7,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(8,4308992,null,0,B.a,[Y.e,X.a],{forPreview:[0,"forPreview"]},null)],(function(n,t){var l=t.component,i=e.Pb(t,4,0,n(t,6,0,e.Gb(t.parent.parent.parent,0),l.audioData,n(t,5,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));n(t,4,0,i,l.forPreview),n(t,8,0,l.forPreview)}),(function(n,t){n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode),n(t,3,0,e.Gb(t,4).widgetInstanceId,e.Gb(t,4).widgetSafeStyle,e.Gb(t,4).className),n(t,7,0,e.Gb(t,8).widgetInstanceId,e.Gb(t,8).widgetSafeStyle,e.Gb(t,8).className)}))}function El(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,kl)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.isScreenSizeSmall)}),null)}function Rl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","padding-m"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,2,"div",[["class","video-discussion-forum-in margin-bottom-m"]],null,null,null,null,null)),(n()(),e.ub(2,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(3,540672,null,0,vn.a,[e.P,wn.a,X.a],{wsResolverWidget:[0,"wsResolverWidget"]},null)],(function(n,t){n(t,3,0,t.component.discussionForumWidget)}),null)}function Gl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,8,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,5,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,4,"div",[["class","w-full"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,Tl)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,El)),e.tb(6,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,Rl)),e.tb(8,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,4,0,!l.isScreenSizeSmall),n(t,6,0,l.audioData),n(t,8,0,l.discussionForumWidget&&l.isRestricted)}),null)}function Nl(n){return e.Qb(0,[e.Ib(0,nl.a,[]),(n()(),e.kb(16777216,null,null,1,null,Il)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,Gl)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.isScreenSizeSmall&&l.audioData),n(t,4,0,l.audioData)}),null)}class Ll{constructor(n,t,l,e,i){this.activatedRoute=n,this.contentSvc=t,this.valueSvc=l,this.viewerSvc=e,this.configSvc=i,this.routeDataSubscription=null,this.screenSizeSubscription=null,this.viewerDataSubscription=null,this.isScreenSizeSmall=!1,this.isFetchingDataComplete=!1,this.audioData=null,this.discussionForumWidget=null,this.defaultThumbnail="",this.isPreviewMode=!1,this.forPreview=window.location.href.includes("/author/")}ngOnInit(){this.configSvc.instanceConfig&&(this.defaultThumbnail=this.configSvc.instanceConfig.logos.defaultContent),this.screenSizeSubscription=this.valueSvc.isXSmall$.subscribe(n=>{this.isScreenSizeSmall=n}),this.routeDataSubscription=this.activatedRoute.data.subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){this.audioData=n.content.data,this.audioData&&(this.formDiscussionForumWidget(this.audioData),this.audioData.artifactUrl=this.forPreview?this.viewerSvc.getAuthoringUrl(this.audioData.artifactUrl):this.audioData.artifactUrl,this.audioData.appIcon?this.defaultThumbnail=this.forPreview?this.viewerSvc.getAuthoringUrl(this.audioData.appIcon):this.audioData.appIcon:this.configSvc.instanceConfig&&(this.defaultThumbnail=this.configSvc.instanceConfig.logos.defaultContent)),this.audioData&&this.audioData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.audioData.identifier)),this.saveContinueLearning(this.audioData),this.isFetchingDataComplete=!0})),()=>{})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}saveContinueLearning(n){this.contentSvc.saveContinueLearning({contextPathId:n?n.identifier:"",resourceId:n?n.identifier:"",data:JSON.stringify({timestamp:Date.now()}),dateAccessed:Date.now()}).toPromise().catch()}formDiscussionForumWidget(n){this.discussionForumWidget={widgetData:{description:n.description,id:n.identifier,name:Kn.i.EDiscussionType.LEARNING,title:n.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}setS3Cookie(n){return nn.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(n).toPromise().catch(()=>{})}))}}var Fl=e.sb({encapsulation:0,styles:[[""]],data:{}});function Ul(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-audio-native-container",[],null,null,null,Nl,Dl)),e.tb(1,114688,null,0,Ml,[j.a,X.a,ln.a],{isScreenSizeSmall:[0,"isScreenSizeSmall"],forPreview:[1,"forPreview"],isFetchingDataComplete:[2,"isFetchingDataComplete"],audioData:[3,"audioData"],discussionForumWidget:[4,"discussionForumWidget"],defaultThumbnail:[5,"defaultThumbnail"],isPreviewMode:[6,"isPreviewMode"]},null)],(function(n,t){var l=t.component;n(t,1,0,l.isScreenSizeSmall,l.forPreview,l.isFetchingDataComplete,l.audioData,l.discussionForumWidget,l.defaultThumbnail,l.isPreviewMode)}),null)}function Al(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-audio-native",[],null,null,null,Ul,Fl)),e.tb(1,245760,null,0,Ll,[j.a,en.a,on.a,an.a,X.a],null,null)],(function(n,t){n(t,1,0)}),null)}var ql=e.qb("viewer-audio-native",Ll,Al,{},{},[]),zl=l("MBfO"),Wl=l("8P0U");let Ql=(()=>{class n{constructor(){this.key="scormData"}set contentKey(n){this.key=n}get contentKey(){return this.key}setItem(n,t){window.localStorage.getItem(this.contentKey)||window.localStorage.setItem(this.contentKey,"{}");const l=window.localStorage.getItem(this.contentKey);if(l){const e=JSON.parse(l);e&&(e[n]=t,window.localStorage.setItem(this.contentKey,JSON.stringify(e)))}}getItem(n){let t=window.localStorage.getItem(this.contentKey);if(!t)return null;let l=JSON.parse(t);return l?l[n]:null}getAll(){let n=window.localStorage.getItem(this.contentKey);return n&&JSON.parse(n)||null}setAll(n){n&&window.localStorage.setItem(this.contentKey,JSON.stringify(n))}clearAll(){window.localStorage.removeItem(this.contentKey)}}return n.ngInjectableDef=e.Ub({factory:function(){return new n},token:n,providedIn:"root"}),n})();const Hl=[{0:{errorString:"No Error",diagnostic:"No error occurred, the previous API call was successful."},101:{errorString:"General Exception",diagnostic:"No specific error code exists to describe the error."},201:{errorString:"Invalid argument error",diagnostic:"An argument represents an invalid data model element or is otherwise incorrect."},202:{errorString:"Element cannot have children",diagnostic:"LMSGetValue was called with a data model element name that ends in “_children” for a data model element that does not support the “_children” suffix."},203:{errorString:"Element not an array. Cannot have count",diagnostic:"LMSGetValue was called with a data model element name that ends in “_count” for a data model element that does not support the “_count” suffix."},301:{errorString:"Not initialized",diagnostic:"An API call was made before the call to LMSInitialize."},401:{errorString:"Not implemented error",diagnostic:"The data model element indicated in a call to LMSGetValue or LMSSetValue is valid, but was not implemented by this LMS. SCORM 1.2 defines a set of data model elements as being optional for an LMS to implement."},402:{errorString:"Invalid set value, element is a keyword",diagnostic:"LMSSetValue was called on a data model element that represents a keyword (elements that end in '_children' and '_count')."},403:{errorString:"Element is read only",diagnostic:"LMSSetValue was called with a data model element that can only be read."},404:{errorString:"Element is write only",diagnostic:"LMSGetValue was called on a data model element that can only be written to."},405:{errorString:"Incorrect Data Type",diagnostic:"LMSSetValue was called with a value that is not consistent with the data format of the supplied data model element."}}];var Kl=l("IheW"),$l=l("Wgwc");let jl=(()=>{class n{constructor(n,t,l,e,i,a){this.store=n,this.http=t,this.activatedRoute=e,this.configSvc=i,this.router=a,this.id="",this.http=new Kl.c(l)}set contentId(n){this.store.key=n,this.id=n}get contentId(){return this.id}LMSInitialize(){return this.store.contentKey=this.contentId,this.store.setItem("Initialized",!0),!0}LMSFinish(){if(!this._isInitialized())return this._setError(301),!1;let n=this.LMSCommit();return this.store.setItem("Initialized",!1),this.store.clearAll(),n}LMSGetValue(n){return this._isInitialized()?this.store.getItem(n)||(this._setError(201),""):(this._setError(301),!1)}LMSSetValue(n,t){return this._isInitialized()?(this.store.setItem(n,t),this.store.getItem(n)):(this._setError(301),!1)}LMSCommit(){let n=this.store.getAll();if(n){delete n.errors;let t,l=!1;if(t=this.router.url,t.split("?primary")[0].split("/viewer/html/")[1]===this.contentId)return this.addDataV2(n).subscribe(n=>{n&&(l=!0)},n=>{n&&this._setError(101)}),l}return!1}LMSGetLastError(){const n=JSON.parse(this.store.getItem("errors")||"[]");return n&&n.length>0?n.pop():""}LMSGetErrorString(n){let t=Hl[n];return t?t[n].errorString:""}LMSGetDiagnostic(n){let t=Hl[n];return t?t[n].diagnostic:""}_isInitialized(){return this.store.getItem("Initialized")}_setError(n){let t=this.store.getItem("errors");t||(t="[]");const l=JSON.parse(t);l&&"object"==typeof l&&l.push(n),this.store.setItem("errors",t)}loadDataAsync(){return this.http.get("/apis/protected/v8/scrom/get/"+this.contentId)}downladFile(n){return this.http.get(n,{responseType:"blob"})}loadDataV2(){let n;this.configSvc.userProfile&&(n=this.configSvc.userProfile.userId||"");const t={request:{userId:n,batchId:this.activatedRoute.snapshot.queryParamMap.get("batchId")||"",courseId:this.activatedRoute.snapshot.queryParams.collectionId||"",contentIds:[],fields:["progressdetails"]}};this.http.post("/apis/proxies/v8/read/content-progres/"+t.request.courseId,t).subscribe(n=>{if(n&&n.result&&n.result.contentList.length)for(const t of n.result.contentList)if(t.contentId===this.contentId&&t.progressdetails){const n=t.progressdetails,l={"cmi.core.exit":n["cmi.core.exit"],"cmi.core.lesson_status":n["cmi.core.lesson_status"],"cmi.core.session_time":n["cmi.core.session_time"],"cmi.suspend_data":n["cmi.suspend_data"],Initialized:n.Initialized};console.log("loaded data",l),this.store.setAll(l)}})}loadData(){this.http.get("/apis/protected/v8/scrom/get/"+this.contentId).subscribe(n=>{const t=n.result.data;this.store.setAll({"cmi.core.exit":t["cmi.core.exit"],"cmi.core.lesson_status":t["cmi.core.lesson_status"],"cmi.core.session_time":t["cmi.core.session_time"],"cmi.suspend_data":t["cmi.suspend_data"],Initialized:t.Initialized})},n=>{n&&this._setError(101)})}addData(n){return this.http.post("/apis/protected/v8/scrom/add/"+this.contentId,n,{headers:{"content-type":"application/json"}}),this.http.post("/apis/protected/v8/scrom/add/"+this.contentId,n)}getStatus(n){try{return"completed"===n["cmi.core.lesson_status"]||"passed"===n["cmi.core.lesson_status"]?2:1}catch(t){return console.log("Error in getting completion status",t),1}}getPercentage(n){try{return"completed"===n["cmi.core.lesson_status"]||"passed"===n["cmi.core.lesson_status"]?100:0}catch(t){return console.log("Error in getting completion status",t),0}}addDataV2(n){let t;return t=this.configSvc.userProfile?{request:{userId:this.configSvc.userProfile.userId||"",contents:[{contentId:this.contentId,batchId:this.activatedRoute.snapshot.queryParamMap.get("batchId")||"",courseId:this.activatedRoute.snapshot.queryParams.collectionId||"",status:this.getStatus(n)||2,lastAccessTime:$l(new Date).format("YYYY-MM-DD HH:mm:ss:SSSZZ"),progressdetails:n,completionPercentage:this.getPercentage(n)||0}]}}:{},this.http.patch("/apis/proxies/v8/content-progres/"+this.contentId,t)}}return n.ngInjectableDef=e.Ub({factory:function(){return new n(e.Vb(Ql),e.Vb(Kl.c),e.Vb(Kl.b),e.Vb(j.a),e.Vb(X.a),e.Vb(j.o))},token:n,providedIn:"root"}),n})();class Jl{constructor(n,t,l,e,i,a,u,o,r,s){this.domSanitizer=n,this.mobAppSvc=t,this.scormAdapterService=l,this.router=e,this.configSvc=i,this.snackBar=a,this.events=u,this.contentSvc=o,this.viewerSvc=r,this.activatedRoute=s,this.htmlContent=null,this.iframeUrl=null,this.showIframeSupportWarning=!1,this.showIsLoadingMessage=!1,this.showUnBlockMessage=!1,this.pageFetchStatus="fetching",this.isUserInIntranet=!1,this.intranetUrlPatterns=[],this.isIntranetUrl=!1,this.progress=100,this.iframeName="piframe_"+Date.now(),this.urlContains="",this.mimeType="",window.API=this.scormAdapterService,window.addEventListener("message",this.receiveMessage.bind(this))}onBlur(){if(this.urlContains.includes("youtube")&&null!==this.htmlContent){const n=this.activatedRoute.snapshot.queryParams.collectionId?this.activatedRoute.snapshot.queryParams.collectionId:this.htmlContent.identifier,t=this.activatedRoute.snapshot.queryParams.batchId?this.activatedRoute.snapshot.queryParams.batchId:this.htmlContent.identifier;setTimeout(()=>{this.viewerSvc.realTimeProgressUpdate(this.htmlContent.identifier,{current:10,max_size:10,mime_type:this.mimeType},n,t)},50),this.contentSvc.changeMessage("youtube")}}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){window.removeEventListener("message",this.receiveMessage)}executeForms(){if(this.urlContains.includes("docs.google")&&null!==this.htmlContent){const n=this.activatedRoute.snapshot.queryParams.collectionId?this.activatedRoute.snapshot.queryParams.collectionId:this.htmlContent.identifier,t=this.activatedRoute.snapshot.queryParams.batchId?this.activatedRoute.snapshot.queryParams.batchId:this.htmlContent.identifier;setTimeout(()=>{this.viewerSvc.realTimeProgressUpdate(this.htmlContent.identifier,{current:10,max_size:10,mime_type:this.mimeType},n,t)},50),this.contentSvc.changeMessage("docs.google")}}ngOnChanges(){this.htmlContent&&this.htmlContent.identifier&&(this.urlContains=this.htmlContent.artifactUrl),this.urlContains.includes("docs.google")&&null!==this.htmlContent&&this.executeForms(),this.htmlContent&&this.htmlContent.identifier&&"application/vnd.ekstep.html-archive"===this.htmlContent.mimeType&&(this.contentSvc.changeMessage("scorm"),this.scormAdapterService.contentId=this.htmlContent.identifier,this.scormAdapterService.loadDataV2()),this.isIntranetUrl=!1,this.progress=100,this.pageFetchStatus="fetching",this.showIframeSupportWarning=!1,this.intranetUrlPatterns=this.configSvc.instanceConfig?this.configSvc.instanceConfig.intranetIframeUrls:[];let n=this.htmlContent&&this.htmlContent.isIframeSupported;if(this.htmlContent&&this.htmlContent.artifactUrl)if(this.htmlContent.artifactUrl.startsWith("http://")&&this.htmlContent.isExternal&&(this.htmlContent.isIframeSupported="No"),"boolean"!=typeof n&&(n=this.htmlContent.isIframeSupported.toLowerCase(),"no"===n?(this.showIframeSupportWarning=!0,setTimeout(()=>{this.openInNewTab()},3e3),setInterval(()=>{this.progress-=1},30)):this.showIframeSupportWarning="maybe"===n),this.intranetUrlPatterns&&this.intranetUrlPatterns.length&&this.intranetUrlPatterns.forEach(n=>{this.htmlContent&&this.htmlContent.artifactUrl&&this.htmlContent.artifactUrl.startsWith(n)&&(this.isIntranetUrl=!0)}),this.showIsLoadingMessage=!1,"No"!==this.htmlContent.isIframeSupported&&setTimeout(()=>{"fetching"!==this.pageFetchStatus||this.urlContains.includes("docs.google")||(this.showIsLoadingMessage=!0)},3e3),"application/vnd.ekstep.html-archive"===this.htmlContent.mimeType){if(this.mimeType=this.htmlContent.mimeType,"Live"!==this.htmlContent.status)this.htmlContent&&this.htmlContent.artifactUrl&&this.contentSvc.fetchHierarchyContent(this.htmlContent.identifier).toPromise().then(n=>{let t=n.result.content.streamingUrl;n.result.content.entryPoint&&(t+=n.result.content.entryPoint),this.iframeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(t)}).catch(n=>{console.log(n)});else if(this.htmlContent&&this.htmlContent.artifactUrl){const n=this.htmlContent.streamingUrl.substring(51);this.iframeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(`/apis/proxies/v8/getContents/${n}${this.htmlContent.entryPoint||""}`)}if(this.htmlContent.entryPoint&&!1===this.htmlContent.entryPoint.includes("lms")){const n=this.activatedRoute.snapshot.queryParams.collectionId?this.activatedRoute.snapshot.queryParams.collectionId:this.htmlContent.identifier,t=this.activatedRoute.snapshot.queryParams.batchId?this.activatedRoute.snapshot.queryParams.batchId:this.htmlContent.identifier,l={current:1,max_size:1,mime_type:this.mimeType};setTimeout(()=>{this.htmlContent&&(this.viewerSvc.realTimeProgressUpdate(this.htmlContent.identifier,l,n,t),this.contentSvc.changeMessage("html"))},50)}}else this.mimeType=this.htmlContent.mimeType,this.iframeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.htmlContent.artifactUrl);else this.htmlContent&&""===this.htmlContent.artifactUrl?(this.iframeUrl=null,this.pageFetchStatus="artifactUrlMissing"):(this.iframeUrl=null,this.pageFetchStatus="error")}backToDetailsPage(){this.router.navigate([`/app/toc/${this.htmlContent?this.htmlContent.identifier:""}/overview`],{queryParams:{primaryCategory:this.htmlContent?this.htmlContent.primaryCategory:""}})}raiseTelemetry(n){this.htmlContent&&(console.log(this.htmlContent.identifier),this.events.raiseInteractTelemetry(n.event,"scrom",Object.assign({contentId:this.htmlContent.identifier},n)))}receiveMessage(n){this.raiseTelemetry(n.data?n.data:{event:n.message,id:n.id})}openInNewTab(){if(this.htmlContent){const n=this.activatedRoute.snapshot.queryParams.collectionId?this.activatedRoute.snapshot.queryParams.collectionId:this.htmlContent.identifier,t=this.activatedRoute.snapshot.queryParams.batchId?this.activatedRoute.snapshot.queryParams.batchId:this.htmlContent.identifier,l={current:1,max_size:1,mime_type:this.mimeType};if(setTimeout(()=>{this.htmlContent&&(this.viewerSvc.realTimeProgressUpdate(this.htmlContent.identifier,l,n,t),this.contentSvc.changeMessage("html"))},50),this.mobAppSvc&&this.mobAppSvc.isMobile)setTimeout(()=>{this.mobileOpenInNewTab.nativeElement.click()},0);else{const n=window.outerWidth,t=window.outerHeight;null===window.open(this.htmlContent.artifactUrl,"_blank",`toolbar=yes,\n             scrollbars=yes,\n             resizable=yes,\n             menubar=no,\n             location=no,\n             addressbar=no,\n             top=${15*t/100},\n             left=${2*n/100},\n             width=${65*n/100},\n             height=${70*t/100}`)&&this.snackBar.open("The pop up window has been blocked by your browser, please unblock to continue.")}}}dismiss(){this.showIframeSupportWarning=!1,this.isIntranetUrl=!1}onIframeLoadOrError(n,t,l){"error"===n&&(this.pageFetchStatus=n),"load"===n&&t&&t.contentWindow&&(l&&t.onload&&t.onload(l),t.onload=n=>{n.target&&(this.pageFetchStatus="done",this.showIsLoadingMessage=!1)})}}var Vl=l("dFDH"),Bl=e.sb({encapsulation:0,styles:[[".html-iframe[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.float-right[_ngcontent-%COMP%]{float:right}.hidden[_ngcontent-%COMP%]{display:none!important}.container-v2[_ngcontent-%COMP%]{border:0;height:100%;left:0;position:absolute;top:0;width:100%}"]],data:{}});function Yl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Ob(-1,null,[" This content can only be viewed in Intranet. "]))],null,null)}function Xl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),e.Ob(-1,null,[" Content may be required to be opened in a new window. If you are unable to view it, Please click on the Open in New Window Button else Dismiss "]))],null,null)}function Zl(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"h2",[["class","mat-h2"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,Yl)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,Xl)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,(l.isIntranetUrl&&"Maybe"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)||(null==l.htmlContent?null:l.htmlContent.isInIntranet)&&"Maybe"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported))&&!l.isUserInIntranet),n(t,4,0,"Maybe"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported))}),null)}function ne(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.Ob(-1,null,[" This content can only be viewed in Intranet."])),(n()(),e.ub(2,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function te(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Content will open in a new window. If you are unable to view it, click on the button below."])),(n()(),e.ub(3,0,null,null,6,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,4).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),null,null)),e.tb(4,671744,null,0,j.r,[j.o,j.a,H.l],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),e.Jb(5,{tab:0}),(n()(),e.ub(6,16777216,null,null,3,"mat-icon",[["class","align-text-top ws-mat-primary-text mat-icon notranslate"],["matTooltip","How to Disable Pop-ups"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(n,t,l){var i=!0;return"longpress"===t&&(i=!1!==e.Gb(n,8).show()&&i),"keydown"===t&&(i=!1!==e.Gb(n,8)._handleKeydown(l)&&i),"touchend"===t&&(i=!1!==e.Gb(n,8)._handleTouchend()&&i),i}),An.b,An.a)),e.tb(7,9158656,null,0,qn.b,[e.k,qn.d,[8,null],[2,qn.a]],null,null),e.tb(8,212992,null,0,F.d,[U.d,e.k,A.b,e.P,e.y,q.a,z.c,z.h,F.b,[2,W.b],[2,F.a],[2,Q.f]],{message:[0,"message"]},null),(n()(),e.Ob(-1,0,["help "]))],(function(n,t){var l=n(t,5,0,"popup");n(t,4,0,l,"/app/info/faq"),n(t,7,0),n(t,8,0,"How to Disable Pop-ups")}),(function(n,t){n(t,3,0,e.Gb(t,4).target,e.Gb(t,4).href),n(t,6,0,e.Gb(t,7).inline,"primary"!==e.Gb(t,7).color&&"accent"!==e.Gb(t,7).color&&"warn"!==e.Gb(t,7).color)}))}function le(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"h2",[["class","mat-h2"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,ne)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,te)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,(l.isIntranetUrl&&("No"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)||!(null!=l.htmlContent&&l.htmlContent.isIframeSupported))||(null==l.htmlContent?null:l.htmlContent.isInIntranet)&&("No"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)||!(null!=l.htmlContent&&l.htmlContent.isIframeSupported)))&&!l.isUserInIntranet),n(t,4,0,"No"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)||!(null!=l.htmlContent&&l.htmlContent.isIframeSupported))}),null)}function ee(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"h2",[["class","mat-h2"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" This content can only be viewed in Intranet. "]))],null,null)}function ie(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["mode","determinate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,zl.b,zl.a)),e.tb(1,4374528,null,0,Wl.b,[e.k,e.y,[2,fn.a],[2,Wl.a]],{value:[0,"value"],mode:[1,"mode"]},null)],(function(n,t){n(t,1,0,t.component.progress,"determinate")}),(function(n,t){n(t,0,0,"indeterminate"===e.Gb(t,1).mode||"query"===e.Gb(t,1).mode?null:e.Gb(t,1).value,e.Gb(t,1).mode,e.Gb(t,1)._isNoopAnimation)}))}function ae(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"button",[["mat-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.dismiss()&&e),e}),mn.d,mn.b)),e.tb(1,180224,null,0,gn.b,[e.k,z.h,[2,fn.a]],null,null),(n()(),e.Ob(-1,0,[" Dismiss "]))],null,(function(n,t){n(t,0,0,e.Gb(t,1).disabled||null,"NoopAnimations"===e.Gb(t,1)._animationMode)}))}function ue(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,26,"mat-card",[["class","ws-mat-primary-lite-background-on-day margin-top-s ml-5 mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,24,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(3,16384,null,0,Cn.d,[],null,null),(n()(),e.kb(16777216,null,null,1,null,Zl)),e.tb(5,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,le)),e.tb(7,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,ee)),e.tb(9,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(10,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,Rn.b,Rn.a)),e.tb(11,49152,null,0,Gn.a,[],null,null),(n()(),e.kb(16777216,null,null,1,null,ie)),e.tb(13,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(14,0,null,null,12,"div",[["class","flex flex-between padding-top-s"]],null,null,null,null,null)),(n()(),e.ub(15,0,[[2,0]],null,4,"a",[["mat-button",""],["target","_blank"],["type","button"]],[[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,18)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(17,278528,null,0,H.n,[H.I],{ngClass:[0,"ngClass"]},null),e.tb(18,180224,[["mobileOpenInNewTab",4]],0,gn.a,[z.h,e.k,[2,fn.a]],null,null),(n()(),e.Ob(-1,0,["Open in New Tab"])),(n()(),e.ub(20,0,null,null,4,"button",[["color","primary"],["mat-button",""],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.openInNewTab()&&e),e}),mn.d,mn.b)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(22,278528,null,0,H.n,[H.I],{ngClass:[0,"ngClass"]},null),e.tb(23,180224,null,0,gn.b,[e.k,z.h,[2,fn.a]],{color:[0,"color"]},null),(n()(),e.Ob(-1,0,[" Open in New Window "])),(n()(),e.kb(16777216,null,null,1,null,ae)),e.tb(26,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,5,0,l.isIntranetUrl||(null==l.htmlContent?null:l.htmlContent.isInIntranet)||"Maybe"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)),n(t,7,0,l.isIntranetUrl||(null==l.htmlContent?null:l.htmlContent.isInIntranet)||"No"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)||!(null!=l.htmlContent&&l.htmlContent.isIframeSupported)),n(t,9,0,l.isIntranetUrl&&"Yes"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)||(null==l.htmlContent?null:l.htmlContent.isInIntranet)&&"Yes"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)),n(t,13,0,l.progress>0&&"no"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported.toLowerCase())),n(t,17,0,null!=l.mobAppSvc&&l.mobAppSvc.isMobile?"block":"hidden"),n(t,22,0,null!=l.mobAppSvc&&l.mobAppSvc.isMobile?"hidden":"block"),n(t,23,0,"primary"),n(t,26,0,"Maybe"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)||l.isIntranetUrl&&"Yes"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported)||(null==l.htmlContent?null:l.htmlContent.isInIntranet)&&"Yes"===(null==l.htmlContent?null:l.htmlContent.isIframeSupported))}),(function(n,t){var l=t.component;n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode),n(t,10,0,e.Gb(t,11).vertical?"vertical":"horizontal",e.Gb(t,11).vertical,!e.Gb(t,11).vertical,e.Gb(t,11).inset),n(t,15,0,null==l.htmlContent?null:l.htmlContent.artifactUrl,e.Gb(t,18).disabled?-1:e.Gb(t,18).tabIndex||0,e.Gb(t,18).disabled||null,e.Gb(t,18).disabled.toString(),"NoopAnimations"===e.Gb(t,18)._animationMode),n(t,20,0,e.Gb(t,23).disabled||null,"NoopAnimations"===e.Gb(t,23)._animationMode)}))}function oe(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"h2",[["class","text-center mat-primary-text margin-top-m load"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" Please wait! Content requested is loading\n"]))],null,null)}function re(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" Error loading page. Please try refreshing page. "]))],null,null)}function se(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"h2",[],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" There is nothing to play. "])),(n()(),e.ub(2,0,null,null,1,"a",[["class","cursor-pointer ws-mat-primary-text"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.backToDetailsPage()&&e),e}),null,null)),(n()(),e.Ob(-1,null,["Click here"])),(n()(),e.Ob(-1,null,[" to go to details page. "]))],null,null)}function ce(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"div",[["class","margin-top-m text-center"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,re)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,se)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,"error"===l.pageFetchStatus),n(t,4,0,"artifactUrlMissing"===l.pageFetchStatus)}),null)}function de(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"div",[["class","container-v2"]],null,null,null,null,null)),(n()(),e.ub(1,0,[[1,0],["iframeElem",1]],null,0,"iframe",[["allow","fullscreen; accelerometer; autoplay; encrypted-media; gyroscope; microphone; camera;"],["class","html-iframe"],["title","HTML Content Viewer"]],[[8,"src",5]],[[null,"load"],[null,"error"]],(function(n,t,l){var i=!0,a=n.component;return"load"===t&&(i=!1!==a.onIframeLoadOrError("load",e.Gb(n,1),l)&&i),"error"===t&&(i=!1!==a.onIframeLoadOrError("error")&&i),i}),null,null))],null,(function(n,t){n(t,1,0,t.component.iframeUrl)}))}function he(n){return e.Qb(0,[e.Mb(671088640,1,{iframeElem:0}),e.Mb(671088640,2,{mobileOpenInNewTab:0}),(n()(),e.kb(16777216,null,null,1,null,ue)),e.tb(3,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,oe)),e.tb(5,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,ce)),e.tb(7,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,de)),e.tb(9,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,3,0,l.showIframeSupportWarning||l.isIntranetUrl||(null==l.htmlContent?null:l.htmlContent.isInIntranet)),n(t,5,0,l.showIsLoadingMessage||l.htmlContent&&"Yes"===l.htmlContent.isIframeSupported),n(t,7,0,"done"!==l.pageFetchStatus),n(t,9,0,l.htmlContent&&"Yes"===l.htmlContent.isIframeSupported)}),null)}class be{constructor(n,t,l,e,i,a){this.activatedRoute=n,this.domSanitizer=t,this.pipeLimitTo=l,this.valueSvc=e,this.configSvc=i,this.viewerDataSvc=a,this.isNotEmbed=!0,this.isFetchingDataComplete=!1,this.htmlData=null,this.discussionForumWidget=null,this.isPreviewMode=!1,this.forPreview=!1,this.isTypeOfCollection=!1,this.learningObjective="",this.description="",this.isLtMedium=!1,this.isScormContent=!1,this.isRestricted=!1,this.prevResourceUrl=null,this.nextResourceUrl=null}ngOnInit(){this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.collectionType=this.activatedRoute.snapshot.queryParams.collectionType,this.viewerDataServiceSubscription=this.viewerDataSvc.tocChangeSubject.subscribe(n=>{this.prevTitle=n.previousTitle,this.nextTitle=n.nextResTitle,this.prevResourceUrl=n.prevResource,this.nextResourceUrl=n.nextResource}),this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.valueSvc.isLtMedium$.subscribe(n=>{this.isLtMedium=n}),this.collectionIdentifier=this.activatedRoute.snapshot.queryParams.collectionId}ngOnChanges(n){for(const t in n)if("htmlData"===t&&(this.isScormContent=!(!this.htmlData||!this.htmlData.artifactUrl.startsWith("https://scorm.")),this.htmlData&&this.htmlData.learningObjective&&(this.learningObjective=this.domSanitizer.bypassSecurityTrustHtml(this.htmlData.learningObjective)),this.htmlData&&this.htmlData.description)){const n=this.pipeLimitTo.transform(this.htmlData.description,450);this.description=this.domSanitizer.bypassSecurityTrustHtml(n)}}}var pe=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 8px 8px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}}.video-player[_ngcontent-%COMP%]{width:100%;height:75vh;position:relative}.video-player-m[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background:#000}@media only screen and (min-width:600px){.video-player-m[_ngcontent-%COMP%]{display:none}}.vidoe-title[_ngcontent-%COMP%]{width:100%;display:none}.video-discussion-forum-in[_ngcontent-%COMP%]{width:100%}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}@media only screen and (max-width:599px){.info-section[_ngcontent-%COMP%]{width:100%}}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.full-height-width-iframe[_ngcontent-%COMP%]{height:100vh;width:100vw}#fullScreenContainer[_ngcontent-%COMP%]{width:100.6%;height:75vh;position:relative;min-height:75vh;margin:0 0 0 -11px;padding:0 9px}#fullScreenContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{left:5px}.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:-13px}.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{right:-3px}.next-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-right:-3px}.prev-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-left:-12px!important}@media only screen and (max-width:599px){.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:-7px;top:-5px}.player-nav-links[_ngcontent-%COMP%]{width:96%}.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{right:2px}.prev-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-left:-8px!important}}@media only screen and (min-width:600px) and (max-width:959px){.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:-8px}.player-nav-links[_ngcontent-%COMP%]{width:97%}.prev-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-left:-8px!important}}"]],data:{}});function me(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Previous Chapter"])),(n()(),e.Ob(3,null,[""," "])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.prevTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.prevTitle,0,22))+"..":l.prevTitle)}))}function ge(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Next Chapter"])),(n()(),e.Ob(3,null,["",""])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.nextTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.nextTitle,0,22))+"..":l.nextTitle)}))}function fe(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,8,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,6,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,b.c,b.b)),e.tb(4,4308992,null,0,Yt.a,[q.a,Xt.a,Zt.a,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(5,7),e.Kb(6,2),(n()(),e.ub(7,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(8,4308992,null,0,B.a,[Y.e,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null)],(function(n,t){var l=t.component,i=e.Pb(t,4,0,n(t,6,0,e.Gb(t.parent.parent.parent,0),l.htmlData,n(t,5,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));n(t,4,0,i,l.forPreview),n(t,8,0,l.htmlData,l.forPreview)}),(function(n,t){n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode),n(t,3,0,e.Gb(t,4).widgetInstanceId,e.Gb(t,4).widgetSafeStyle,e.Gb(t,4).className),n(t,7,0,e.Gb(t,8).widgetInstanceId,e.Gb(t,8).widgetSafeStyle,e.Gb(t,8).className)}))}function ve(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,fe)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.isLtMedium)}),null)}function we(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,39,"div",[["class","padding-dynamic"]],null,null,null,null,null)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(2,278528,null,0,H.n,[H.I],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(3,{"padding-remove-left":0,"padding-remove-right":1}),(n()(),e.ub(4,0,null,null,35,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(n()(),e.ub(5,0,null,null,34,"div",[["class","w-full"]],null,null,null,null,null)),(n()(),e.ub(6,0,null,null,31,"div",[],null,null,null,null,null)),(n()(),e.ub(7,0,null,null,30,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(9,278528,null,0,H.n,[H.I],{ngClass:[0,"ngClass"]},null),e.Jb(10,{"padding-remove":0}),e.tb(11,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(12,0,null,0,25,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(13,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(14,0,null,null,23,"div",[["id","fullScreenContainer"]],null,null,null,null,null)),e.Lb(512,null,H.I,H.J,[e.r,e.s,e.k,e.D]),e.tb(16,278528,null,0,H.n,[H.I],{ngClass:[0,"ngClass"]},null),e.Jb(17,{"video-player":0}),(n()(),e.ub(18,0,null,null,1,"viewer-plugin-html",[],null,[["window","blur"]],(function(n,t,l){var i=!0;return"window:blur"===t&&(i=!1!==e.Gb(n,19).onBlur(l)&&i),i}),he,Bl)),e.tb(19,4964352,null,0,Jl,[Q.b,Zt.a,jl,j.o,X.a,Vl.c,Xt.a,en.a,an.a,j.a],{htmlContent:[0,"htmlContent"]},null),(n()(),e.ub(20,0,null,null,17,"div",[["class","player-nav-links"]],null,null,null,null,null)),(n()(),e.ub(21,0,null,null,16,"div",[["class","flex justify-between html"]],null,null,null,null,null)),(n()(),e.ub(22,0,null,null,7,"div",[["class","prev-button"]],null,null,null,null,null)),(n()(),e.ub(23,0,null,null,4,"a",[["accesskey","<"],["class","width-auto"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,24).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,25)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(24,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(25,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(26,0,null,0,1,"span",[["class","material-icons align-left-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_left "])),(n()(),e.kb(16777216,null,null,1,null,me)),e.tb(29,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(30,0,null,null,7,"div",[["class","next-button"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,ge)),e.tb(32,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(33,0,null,null,4,"a",[["accesskey",">"],["class","width-auto mr-10"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,34).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,35)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(34,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(35,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(36,0,null,0,1,"span",[["class","material-icons align-right-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_right "])),(n()(),e.kb(16777216,null,null,1,null,ve)),e.tb(39,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component,e=n(t,3,0,l.isScormContent&&l.isLtMedium,l.isScormContent&&l.isLtMedium);n(t,2,0,"padding-dynamic",e);var i=n(t,10,0,l.isLtMedium);n(t,9,0,i);var a=n(t,17,0,"no"!=(null==l.htmlData?null:l.htmlData.isIframeSupported.toLowerCase()));n(t,16,0,a),n(t,19,0,l.htmlData),n(t,24,0,"preserve",l.prevResourceUrl),n(t,25,0,!l.prevResourceUrl),n(t,29,0,l.prevTitle),n(t,32,0,l.nextTitle),n(t,34,0,"preserve",l.nextResourceUrl),n(t,35,0,!l.nextResourceUrl),n(t,39,0,l.htmlData)}),(function(n,t){n(t,7,0,"NoopAnimations"===e.Gb(t,11)._animationMode),n(t,23,0,e.Gb(t,24).target,e.Gb(t,24).href,e.Gb(t,25).disabled?-1:e.Gb(t,25).tabIndex||0,e.Gb(t,25).disabled||null,e.Gb(t,25).disabled.toString(),"NoopAnimations"===e.Gb(t,25)._animationMode),n(t,33,0,e.Gb(t,34).target,e.Gb(t,34).href,e.Gb(t,35).disabled?-1:e.Gb(t,35).tabIndex||0,e.Gb(t,35).disabled||null,e.Gb(t,35).disabled.toString(),"NoopAnimations"===e.Gb(t,35)._animationMode)}))}function ye(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","full-height-width-iframe"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"viewer-plugin-html",[["class","tet"]],null,[["window","blur"]],(function(n,t,l){var i=!0;return"window:blur"===t&&(i=!1!==e.Gb(n,2).onBlur(l)&&i),i}),he,Bl)),e.tb(2,4964352,null,0,Jl,[Q.b,Zt.a,jl,j.o,X.a,Vl.c,Xt.a,en.a,an.a,j.a],{htmlContent:[0,"htmlContent"]},null)],(function(n,t){n(t,2,0,t.component.htmlData)}),null)}function Ce(n){return e.Qb(0,[e.Ib(0,nl.a,[]),(n()(),e.kb(16777216,null,null,1,null,we)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,ye)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.htmlData&&l.isNotEmbed),n(t,4,0,!l.isNotEmbed)}),null)}var Pe=l("xgIS"),Se=l("pLZG");class xe{constructor(n,t,l,e,i,a,u){this.activatedRoute=n,this.contentSvc=t,this.viewerSvc=l,this.respondSvc=e,this.eventSvc=i,this.accessControlSvc=a,this.configSvc=u,this.routeDataSubscription=null,this.responseSubscription=null,this.viewerDataSubscription=null,this.forPreview=window.location.href.includes("/author/"),this.isNotEmbed=!0,this.isFetchingDataComplete=!1,this.htmlData=null,this.oldData=null,this.alreadyRaised=!1,this.subApp=!1,this.discussionForumWidget=null,this.uuid=null,this.realTimeProgressRequest={content_type:"Resource",current:["0"],max_size:0,mime_type:Kn.h.EMimeTypes.HTML,user_id_type:"uuid"},this.hasFiredRealTimeProgress=!1,this.isPreviewMode=!1}ngOnInit(){this.uuid=this.configSvc.userProfile?this.configSvc.userProfile.userId:"",this.isNotEmbed=!(window.location.href.includes("/embed/")||"true"===this.activatedRoute.snapshot.queryParams.embed),"true"!==this.activatedRoute.snapshot.queryParamMap.get("preview")||this.accessControlSvc.authoringConfig.newDesign?this.routeDataSubscription=this.activatedRoute.data.subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){n.content.data.artifactUrl=n.content.data.artifactUrl.indexOf("ScormCoursePlayer")>-1?`${n.content.data.artifactUrl.replace(/%20/g,"")}&Param1=${this.uuid}`:n.content.data.artifactUrl.replace(/%20/g,"");const t=n.content.data;this.alreadyRaised&&this.oldData&&(this.raiseEvent(tn.g.EnumTelemetrySubType.Unloaded,this.oldData),this.hasFiredRealTimeProgress||this.realTimeProgressTimer&&clearTimeout(this.realTimeProgressTimer),this.subApp=!1),t&&this.formDiscussionForumWidget(t),t&&t.artifactUrl.indexOf("content-store")>=0?(yield this.setS3Cookie(t.identifier),this.htmlData=t):this.htmlData=t,this.raiseRealTimeProgress(),this.htmlData&&(this.oldData=this.htmlData,this.alreadyRaised=!0,this.raiseEvent(tn.g.EnumTelemetrySubType.Loaded,this.htmlData),this.responseSubscription=yield Object(Pe.a)(window,"message").pipe(Object(Se.a)(n=>Boolean(n)&&Boolean(n.data)&&Boolean(n.source&&"function"==typeof n.source.postMessage))).subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){const t=n.source;if(n.data.requestId&&this.htmlData)switch(n.data.requestId){case"LOADED":yield this.respondSvc.loadedRespond(t,n.data.subApplicationName,this.htmlData.identifier),"RBCP"===n.data.subApplicationName&&(this.subApp=!0);break;case"CONTINUE_LEARNING":yield this.respondSvc.continueLearningRespond(this.htmlData.identifier,n.data.data.continueLearning);break;case"TELEMETRY":yield this.respondSvc.telemetryEvents(n.data)}})))),this.isFetchingDataComplete=!0})),()=>{}):(this.isPreviewMode=!0,this.viewerDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){n.artifactUrl=(n.artifactUrl.startsWith("https://")||n.artifactUrl.startsWith("http://")?n.artifactUrl:"https://"+n.artifactUrl).replace(/ /gi,"").replace(/%20/gi,"").replace(/\n/gi,""),this.accessControlSvc.hasAccess(n,!0)&&(n&&n.artifactUrl.indexOf("content-store")>=0?(yield this.setS3Cookie(n.identifier),this.htmlData=n):this.htmlData=n),this.htmlData&&(this.formDiscussionForumWidget(this.htmlData),this.discussionForumWidget&&(this.discussionForumWidget.widgetData.isDisabled=!0))}))))}ngOnDestroy(){return nn.__awaiter(this,void 0,void 0,(function*(){this.htmlData&&this.raiseEvent(tn.g.EnumTelemetrySubType.Unloaded,this.htmlData),this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.responseSubscription&&(this.respondSvc.unsubscribeResponse(),this.responseSubscription.unsubscribe()),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}))}formDiscussionForumWidget(n){this.discussionForumWidget={widgetData:{description:n.description,id:n.identifier,name:Kn.i.EDiscussionType.LEARNING,title:n.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}setS3Cookie(n){return nn.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(n).toPromise().catch(()=>{})}))}raiseEvent(n,t){this.forPreview||this.eventSvc.dispatchEvent({eventType:tn.g.WsEventType.Telemetry,eventLogLevel:tn.g.WsEventLogLevel.Info,from:"html",to:"",data:{state:n,type:tn.g.WsTimeSpentType.Player,mode:tn.g.WsTimeSpentMode.Play,courseId:null,content:t,identifier:t?t.identifier:null,isCompleted:!0,mimeType:Kn.h.EMimeTypes.HTML,isIdeal:!1,url:t?t.artifactUrl:null}})}raiseRealTimeProgress(){this.forPreview||(this.realTimeProgressRequest=Object.assign({},this.realTimeProgressRequest,{current:["1"],max_size:1}),this.realTimeProgressTimer&&clearTimeout(this.realTimeProgressTimer),this.hasFiredRealTimeProgress=!1,this.realTimeProgressTimer=setTimeout(()=>{this.hasFiredRealTimeProgress=!0,this.fireRealTimeProgress()},12e4))}fireRealTimeProgress(){if(!this.forPreview){if(this.htmlData){if(this.htmlData.contentType===Kn.h.EContentTypes.COURSE&&this.htmlData.isExternal)return;if(this.htmlData.resourceType&&"certification"===this.htmlData.resourceType.toLowerCase())return}(this.htmlData||{}).isIframeSupported&&"yes"!==(this.htmlData||{}).isIframeSupported.toLowerCase()||this.htmlData&&"Cross Knowledge"===this.htmlData.sourceName||(this.realTimeProgressRequest.content_type=this.htmlData?this.htmlData.contentType:"")}}}var Me=l("BaE1"),De=e.sb({encapsulation:0,styles:[[""]],data:{}});function Ie(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-html-container",[],null,null,null,Ce,pe)),e.tb(1,638976,null,0,be,[j.a,Q.b,Hn.a,on.a,X.a,ln.a],{isNotEmbed:[0,"isNotEmbed"],isFetchingDataComplete:[1,"isFetchingDataComplete"],htmlData:[2,"htmlData"],discussionForumWidget:[3,"discussionForumWidget"],isPreviewMode:[4,"isPreviewMode"],forPreview:[5,"forPreview"]},null)],(function(n,t){var l=t.component;n(t,1,0,l.isNotEmbed,l.isFetchingDataComplete,l.htmlData,l.discussionForumWidget,l.isPreviewMode,l.forPreview)}),null)}function Oe(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-html",[],null,null,null,Ie,De)),e.tb(1,245760,null,0,xe,[j.a,en.a,an.a,Me.a,Xt.a,fl.a,X.a],null,null)],(function(n,t){n(t,1,0)}),null)}var _e=e.qb("viewer-html",xe,Oe,{},{},[]);class Te{constructor(n,t,l){this.activatedRoute=n,this.http=t,this.viewerSvc=l,this.routeDataSubscription=null,this.isFetchingDataComplete=!1,this.isErrorOccured=!1,this.channelData=null,this.forPreview=window.location.href.includes("/author/")}ngOnInit(){this.routeDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){this.channelData=n,this.channelManifest=yield this.transformHandsOn(this.channelData),this.channelData&&this.channelManifest?(this.isFetchingDataComplete=!0,this.channelManifest=this.viewerSvc.replaceToAuthUrl(this.channelManifest)):this.isErrorOccured=!0})),()=>{this.isErrorOccured=!0})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}transformHandsOn(n){return nn.__awaiter(this,void 0,void 0,(function*(){let n=null;return this.channelData&&this.channelData.artifactUrl&&(n=yield this.http.get(this.viewerSvc.getAuthoringUrl(this.channelData.artifactUrl)).toPromise().catch(n=>{})),n}))}}var ke=e.sb({encapsulation:0,styles:[[""]],data:{}});function Ee(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"h2",[["class","mat-error margin-top-m text-center"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" Error fetching page JSON\n"]))],null,null)}function Re(n){return e.Qb(0,[(n()(),e.kb(16777216,null,null,1,null,Ee)),e.tb(1,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,1,0,t.component.isErrorOccured)}),null)}function Ge(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-channel",[],null,null,null,Re,ke)),e.tb(1,245760,null,0,Te,[j.a,Kl.c,an.a],null,null)],(function(n,t){n(t,1,0)}),null)}var Ne=e.qb("viewer-channel",Te,Ge,{},{},[]);class Le{constructor(n,t,l,e){this.activatedRoute=n,this.configSvc=t,this.viewerDataSvc=l,this.valueSvc=e,this.isFetchingDataComplete=!1,this.pdfData=null,this.forPreview=!1,this.widgetResolverPdfData={widgetType:"player",widgetSubType:"playerPDF",widgetData:{pdfUrl:"",identifier:"",disableTelemetry:!1,hideControls:!0}},this.isPreviewMode=!1,this.discussionForumWidget=null,this.isTypeOfCollection=!1,this.isRestricted=!1,this.prevResourceUrl=null,this.nextResourceUrl=null,this.isSmall=!1,this.valueSvc.isXSmall$.subscribe(n=>{this.isSmall=n})}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.collectionType=this.activatedRoute.snapshot.queryParams.collectionType,this.viewerDataServiceSubscription=this.viewerDataSvc.tocChangeSubject.subscribe(n=>{this.prevTitle=n.previousTitle,this.nextTitle=n.nextResTitle,this.prevResourceUrl=n.prevResource,this.nextResourceUrl=n.nextResource}),this.collectionIdentifier=this.activatedRoute.snapshot.queryParams.collectionId}}var Fe=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 8px 8px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{padding:0}.padding-dynamic[_ngcontent-%COMP%]{padding:8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{right:0}}.video-player[_ngcontent-%COMP%]{width:100%;overflow-x:hidden;position:relative}.prev-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-left:0!important}.next-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-right:0}.video-player-m[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:40vh;width:100vw;z-index:1000;background:#000}@media only screen and (min-width:600px){.video-player-m[_ngcontent-%COMP%]{display:none}}.video-discussion-forum-in[_ngcontent-%COMP%], .vidoe-title[_ngcontent-%COMP%]{width:100%}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.overflow-class[_ngcontent-%COMP%]{display:block!important;min-height:85vh;max-height:85vh;overflow:scroll}.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{top:-7px;right:0}.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{top:-7px;left:0}@media only screen and (max-width:599px){.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:0}.prev-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-left:-1px!important}.next-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-right:-1px!important}}.padding-dynamic[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{padding-right:0;padding-left:0}"]],data:{}});function Ue(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,vn.a,[e.P,wn.a,X.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){n(t,1,0,t.component.widgetResolverPdfData)}),null)}function Ae(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Previous Chapter"])),(n()(),e.Ob(3,null,[""," "])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.prevTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.prevTitle,0,22))+"..":l.prevTitle)}))}function qe(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Next Chapter"])),(n()(),e.Ob(3,null,["",""])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.nextTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.nextTitle,0,22))+"..":l.nextTitle)}))}function ze(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,8,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,6,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,b.c,b.b)),e.tb(4,4308992,null,0,Yt.a,[q.a,Xt.a,Zt.a,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(5,7),e.Kb(6,2),(n()(),e.ub(7,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(8,4308992,null,0,B.a,[Y.e,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null)],(function(n,t){var l=t.component,i=e.Pb(t,4,0,n(t,6,0,e.Gb(t.parent.parent.parent,0),l.pdfData,n(t,5,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));n(t,4,0,i,l.forPreview),n(t,8,0,l.pdfData,l.forPreview)}),(function(n,t){n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode),n(t,3,0,e.Gb(t,4).widgetInstanceId,e.Gb(t,4).widgetSafeStyle,e.Gb(t,4).className),n(t,7,0,e.Gb(t,8).widgetInstanceId,e.Gb(t,8).widgetSafeStyle,e.Gb(t,8).className)}))}function We(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,ze)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.isSmall)}),null)}function Qe(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,30,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,29,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,28,"div",[["class","w-full"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,25,"div",[["clss","overflow-class"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,24,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(5,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(6,0,null,0,22,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(8,0,null,null,20,"div",[["class","video-player"],["id","fullScreenContainer"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,Ue)),e.tb(10,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(11,0,[[1,0],["navpdf",1]],null,17,"div",[["class","pdf player-nav-links"]],null,null,null,null,null)),(n()(),e.ub(12,0,null,null,16,"div",[["class","flex justify-between html"]],null,null,null,null,null)),(n()(),e.ub(13,0,null,null,7,"div",[["class","pdf prev-button"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,null,4,"a",[["accesskey","<"],["class","width-auto"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,15).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,16)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(15,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(16,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(17,0,null,0,1,"span",[["class","material-icons align-left-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_left "])),(n()(),e.kb(16777216,null,null,1,null,Ae)),e.tb(20,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(21,0,null,null,7,"div",[["class","pdf next-button"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,qe)),e.tb(23,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(24,0,null,null,4,"a",[["accesskey",">"],["class","width-auto mr-10"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,25).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,26)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(25,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(26,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(27,0,null,0,1,"span",[["class","material-icons align-right-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_right "])),(n()(),e.kb(16777216,null,null,1,null,We)),e.tb(30,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,10,0,l.isFetchingDataComplete),n(t,15,0,"preserve",l.prevResourceUrl),n(t,16,0,!l.prevResourceUrl),n(t,20,0,l.prevTitle),n(t,23,0,l.nextTitle),n(t,25,0,"preserve",l.nextResourceUrl),n(t,26,0,!l.nextResourceUrl),n(t,30,0,l.pdfData)}),(function(n,t){n(t,4,0,"NoopAnimations"===e.Gb(t,5)._animationMode),n(t,14,0,e.Gb(t,15).target,e.Gb(t,15).href,e.Gb(t,16).disabled?-1:e.Gb(t,16).tabIndex||0,e.Gb(t,16).disabled||null,e.Gb(t,16).disabled.toString(),"NoopAnimations"===e.Gb(t,16)._animationMode),n(t,24,0,e.Gb(t,25).target,e.Gb(t,25).href,e.Gb(t,26).disabled?-1:e.Gb(t,26).tabIndex||0,e.Gb(t,26).disabled||null,e.Gb(t,26).disabled.toString(),"NoopAnimations"===e.Gb(t,26)._animationMode)}))}function He(n){return e.Qb(0,[e.Ib(0,nl.a,[]),e.Mb(671088640,1,{navpdf:0}),(n()(),e.kb(16777216,null,null,1,null,Qe)),e.tb(3,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,3,0,t.component.pdfData)}),null)}class Ke{constructor(n,t,l,e,i,a){this.activatedRoute=n,this.contentSvc=t,this.viewerSvc=l,this.eventSvc=e,this.accessControlSvc=i,this.configSvc=a,this.dataSubscription=null,this.viewerDataSubscription=null,this.telemetryIntervalSubscription=null,this.isFetchingDataComplete=!0,this.pdfData=null,this.oldData=null,this.alreadyRaised=!1,this.widgetResolverPdfData={widgetType:"player",widgetSubType:"playerPDF",widgetData:{pdfUrl:"",identifier:"",disableTelemetry:!1,hideControls:!0}},this.isPreviewMode=!1,this.forPreview=window.location.href.includes("/author/"),this.discussionForumWidget=null,this.batchId=this.activatedRoute.snapshot.queryParamMap.get("batchId")}ngOnInit(){this.activatedRoute.snapshot.queryParamMap.get("preview")&&!this.accessControlSvc.authoringConfig.newDesign?(this.isPreviewMode=!0,this.viewerDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(n=>{this.pdfData=n,this.pdfData&&(this.formDiscussionForumWidget(this.pdfData),this.discussionForumWidget&&(this.discussionForumWidget.widgetData.isDisabled=!0)),this.widgetResolverPdfData.widgetData.pdfUrl=this.pdfData?"/apis/authContent/"+encodeURIComponent(this.pdfData.artifactUrl):"",this.widgetResolverPdfData.widgetData.disableTelemetry=!0,this.isFetchingDataComplete=!0})):this.dataSubscription=this.activatedRoute.data.subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){this.pdfData=n.content.data,this.pdfData&&this.formDiscussionForumWidget(this.pdfData),this.pdfData&&this.pdfData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.pdfData.identifier)),this.widgetResolverPdfData.widgetData.resumePage=1,this.pdfData&&this.pdfData.identifier&&(this.activatedRoute.snapshot.queryParams.collectionId?yield this.fetchContinueLearning(this.activatedRoute.snapshot.queryParams.collectionId,this.pdfData.identifier):yield this.fetchContinueLearning(this.pdfData.identifier,this.pdfData.identifier)),this.widgetResolverPdfData.widgetData.pdfUrl=this.pdfData?this.forPreview?this.viewerSvc.getAuthoringUrl(this.pdfData.artifactUrl):this.pdfData.artifactUrl:"",this.widgetResolverPdfData.widgetData.identifier=this.pdfData&&this.pdfData.identifier,this.widgetResolverPdfData=JSON.parse(JSON.stringify(this.widgetResolverPdfData)),this.isFetchingDataComplete=!0})),()=>{})}formDiscussionForumWidget(n){this.discussionForumWidget={widgetData:{description:n.description,id:n.identifier,name:Kn.i.EDiscussionType.LEARNING,title:n.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}raiseEvent(n,t){this.forPreview||this.eventSvc.dispatchEvent({eventType:tn.g.WsEventType.Telemetry,eventLogLevel:tn.g.WsEventLogLevel.Info,from:"pdf",to:"",data:{state:n,type:tn.g.WsTimeSpentType.Player,mode:tn.g.WsTimeSpentMode.Play,content:t,identifier:t?t.identifier:null,mimeType:Kn.h.EMimeTypes.PDF,url:t?t.artifactUrl:null}})}fetchContinueLearning(n,t){return nn.__awaiter(this,void 0,void 0,(function*(){return new Promise(l=>{let e;this.configSvc.userProfile&&(e=this.configSvc.userProfile.userId||""),this.contentSvc.fetchContentHistoryV2({request:{userId:e,batchId:this.batchId,courseId:n||"",contentIds:[],fields:["progressdetails"]}}).subscribe(n=>{if(n&&n.result&&n.result.contentList.length)for(const l of n.result.contentList)l.contentId===t&&l.progressdetails&&l.progressdetails.current&&(this.widgetResolverPdfData.widgetData.resumePage=Number(l.progressdetails.current.pop()));l(!0)},()=>l(!0))})}))}setS3Cookie(n){return nn.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(n).toPromise().catch(()=>{})}))}ngOnDestroy(){this.pdfData&&this.raiseEvent(tn.g.EnumTelemetrySubType.Unloaded,this.pdfData),this.dataSubscription&&this.dataSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe(),this.telemetryIntervalSubscription&&this.telemetryIntervalSubscription.unsubscribe()}}var $e=e.sb({encapsulation:0,styles:[[".video-player{min-height:75vh;max-height:75vh}"]],data:{}});function je(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-pdf-container",[],null,null,null,He,Fe)),e.tb(1,114688,null,0,Le,[j.a,X.a,ln.a,on.a],{isFetchingDataComplete:[0,"isFetchingDataComplete"],pdfData:[1,"pdfData"],forPreview:[2,"forPreview"],widgetResolverPdfData:[3,"widgetResolverPdfData"],isPreviewMode:[4,"isPreviewMode"],discussionForumWidget:[5,"discussionForumWidget"]},null)],(function(n,t){var l=t.component;n(t,1,0,l.isFetchingDataComplete,l.pdfData,l.forPreview,l.widgetResolverPdfData,l.isPreviewMode,l.discussionForumWidget)}),null)}function Je(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-pdf",[],null,null,null,je,$e)),e.tb(1,245760,null,0,Ke,[j.a,en.a,an.a,Xt.a,fl.a,X.a],null,null)],(function(n,t){n(t,1,0)}),null)}var Ve=e.qb("viewer-pdf",Ke,Je,{},{},[]);class Be{constructor(n,t,l){this.activatedRoute=n,this.configSvc=t,this.viewerDataSvc=l,this.isScreenSizeSmall=!1,this.isNotEmbed=!0,this.isFetchingDataComplete=!1,this.forPreview=!1,this.videoData=null,this.widgetResolverVideoData=null,this.discussionForumWidget=null,this.isPreviewMode=!1,this.isTypeOfCollection=!1,this.isRestricted=!1,this.prevResourceUrl=null,this.nextResourceUrl=null}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.collectionType=this.activatedRoute.snapshot.queryParams.collectionType,this.viewerDataServiceSubscription=this.viewerDataSvc.tocChangeSubject.subscribe(n=>{this.prevTitle=n.previousTitle,this.nextTitle=n.nextResTitle,this.prevResourceUrl=n.prevResource,this.nextResourceUrl=n.nextResource}),this.collectionIdentifier=this.activatedRoute.snapshot.queryParams.collectionId}}var Ye=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:16px 8px 8px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:8px}.video-player-title[_ngcontent-%COMP%]{width:100%}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}}#fullScreenContainer[_ngcontent-%COMP%], .video-player[_ngcontent-%COMP%]{width:98.6%;height:75vh;position:relative;min-height:75vh;margin:0 6px 0 0;padding:0 9px}@media only screen and (max-width:1919px){#fullScreenContainer[_ngcontent-%COMP%], .video-player[_ngcontent-%COMP%]{height:70vh}}@media only screen and (max-width:1279px){#fullScreenContainer[_ngcontent-%COMP%], .video-player[_ngcontent-%COMP%]{height:65vh}}@media only screen and (max-width:959px){#fullScreenContainer[_ngcontent-%COMP%], .video-player[_ngcontent-%COMP%]{height:60vh;width:97.5%}}@media only screen and (max-width:599px){#fullScreenContainer[_ngcontent-%COMP%], .video-player[_ngcontent-%COMP%]{height:55vh;width:89%;position:relative;top:0;left:14px}.video-player-mobile[_ngcontent-%COMP%]{padding:0}}@media only screen and (min-width:960px) and (max-width:1279px){#fullScreenContainer[_ngcontent-%COMP%], .video-player[_ngcontent-%COMP%]{width:96.6%}}.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{right:-11px}.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:-11px}.align-arrow[_ngcontent-%COMP%]{margin-left:-12px;top:-3px;position:relative}.prev-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-left:-12px!important}.next-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-right:-11px}  #youtubeTag{min-height:75vh}.vidoe-title[_ngcontent-%COMP%]{width:100%}.video-discussion-forum-in[_ngcontent-%COMP%]{display:block;overflow:hidden}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}@media only screen and (max-width:599px){.info-section[_ngcontent-%COMP%]{width:100%}}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.video-player-embed[_ngcontent-%COMP%]{height:100vh;width:100vw}"]],data:{}});function Xe(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,vn.a,[e.P,wn.a,X.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){n(t,1,0,t.component.widgetResolverVideoData)}),null)}function Ze(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Previous Chapter"])),(n()(),e.Ob(3,null,[""," "])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.prevTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.prevTitle,0,22))+"..":l.prevTitle)}))}function ni(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Next Chapter"])),(n()(),e.Ob(3,null,["",""])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.nextTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.nextTitle,0,22))+"..":l.nextTitle)}))}function ti(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,8,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,6,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,b.c,b.b)),e.tb(4,4308992,null,0,Yt.a,[q.a,Xt.a,Zt.a,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(5,7),e.Kb(6,2),(n()(),e.ub(7,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(8,4308992,null,0,B.a,[Y.e,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null)],(function(n,t){var l=t.component,i=e.Pb(t,4,0,n(t,6,0,e.Gb(t.parent.parent.parent,0),l.videoData,n(t,5,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));n(t,4,0,i,l.forPreview),n(t,8,0,l.videoData,l.forPreview)}),(function(n,t){n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode),n(t,3,0,e.Gb(t,4).widgetInstanceId,e.Gb(t,4).widgetSafeStyle,e.Gb(t,4).className),n(t,7,0,e.Gb(t,8).widgetInstanceId,e.Gb(t,8).widgetSafeStyle,e.Gb(t,8).className)}))}function li(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,ti)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.isScreenSizeSmall)}),null)}function ei(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,30,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,29,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,28,"div",[["class","w-full"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,25,"div",[],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,24,"mat-card",[["class","video-player-mobile mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(5,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(6,0,null,0,22,"mat-card-content",[["class","video-player-mobile-container mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(8,0,null,null,20,"div",[["class","video-player"],["id","fullScreenContainer"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,Xe)),e.tb(10,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(11,0,null,null,17,"div",[["class","player-nav-links"]],null,null,null,null,null)),(n()(),e.ub(12,0,null,null,16,"div",[["class","flex justify-between html video"]],null,null,null,null,null)),(n()(),e.ub(13,0,null,null,7,"div",[["class","prev-button"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,null,4,"a",[["accesskey","<"],["class","width-auto"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,15).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,16)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(15,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(16,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(17,0,null,0,1,"span",[["class","material-icons align-arrow icon-tour"],["id","left-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["chevron_left"])),(n()(),e.kb(16777216,null,null,1,null,Ze)),e.tb(20,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(21,0,null,null,7,"div",[["class","next-button"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,ni)),e.tb(23,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(24,0,null,null,4,"a",[["accesskey",">"],["class","width-auto mr-10"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,25).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,26)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(25,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(26,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(27,0,null,0,1,"span",[["class","material-icons icon-tour  align-right-arrow"],["id","right-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["chevron_right"])),(n()(),e.kb(16777216,null,null,1,null,li)),e.tb(30,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,10,0,l.isFetchingDataComplete),n(t,15,0,"preserve",l.prevResourceUrl),n(t,16,0,!l.prevResourceUrl),n(t,20,0,l.prevTitle),n(t,23,0,l.nextTitle),n(t,25,0,"preserve",l.nextResourceUrl),n(t,26,0,!l.nextResourceUrl),n(t,30,0,l.videoData)}),(function(n,t){n(t,4,0,"NoopAnimations"===e.Gb(t,5)._animationMode),n(t,14,0,e.Gb(t,15).target,e.Gb(t,15).href,e.Gb(t,16).disabled?-1:e.Gb(t,16).tabIndex||0,e.Gb(t,16).disabled||null,e.Gb(t,16).disabled.toString(),"NoopAnimations"===e.Gb(t,16)._animationMode),n(t,24,0,e.Gb(t,25).target,e.Gb(t,25).href,e.Gb(t,26).disabled?-1:e.Gb(t,26).tabIndex||0,e.Gb(t,26).disabled||null,e.Gb(t,26).disabled.toString(),"NoopAnimations"===e.Gb(t,26)._animationMode)}))}function ii(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,vn.a,[e.P,wn.a,X.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){n(t,1,0,t.component.widgetResolverVideoData)}),null)}function ai(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,3,"div",[["class","full-height-width-iframe"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,2,"div",[["class","video-player-embed"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,ii)),e.tb(3,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,3,0,t.component.isFetchingDataComplete)}),null)}function ui(n){return e.Qb(0,[e.Ib(0,nl.a,[]),(n()(),e.kb(16777216,null,null,1,null,ei)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,null,1,null,ai)),e.tb(4,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.videoData&&l.isNotEmbed),n(t,4,0,!l.isNotEmbed)}),null)}class oi{constructor(n,t,l,e,i,a,u){this.activatedRoute=n,this.valueSvc=t,this.viewerSvc=l,this.contentSvc=e,this.platform=i,this.accessControlSvc=a,this.configSvc=u,this.routeDataSubscription=null,this.screenSizeSubscription=null,this.viewerDataSubscription=null,this.forPreview=window.location.href.includes("/author/"),this.isScreenSizeSmall=!1,this.videoData=null,this.isFetchingDataComplete=!1,this.isNotEmbed=!0,this.widgetResolverVideoData=null,this.discussionForumWidget=null,this.batchId=this.activatedRoute.snapshot.queryParamMap.get("batchId")}ngOnInit(){this.screenSizeSubscription=this.valueSvc.isXSmall$.subscribe(n=>{this.isScreenSizeSmall=n}),this.isNotEmbed="true"!==this.activatedRoute.snapshot.queryParamMap.get("embed"),this.activatedRoute.snapshot.queryParamMap.get("preview")&&!this.accessControlSvc.authoringConfig.newDesign?this.viewerDataSubscription=this.viewerSvc.getContent(this.activatedRoute.snapshot.paramMap.get("resourceId")||"").subscribe(n=>{this.videoData=n,this.videoData&&this.formDiscussionForumWidget(this.videoData),this.widgetResolverVideoData=this.initWidgetResolverVideoData(this.videoData);let t="";t=this.videoData.artifactUrl.indexOf("/content-store/")>-1?"/apis/authContent/"+new URL(this.videoData.artifactUrl).pathname:"/apis/authContent/"+encodeURIComponent(this.videoData.artifactUrl),this.widgetResolverVideoData.widgetData.url=this.videoData?t:"",this.widgetResolverVideoData.widgetData.disableTelemetry=!0,this.isFetchingDataComplete=!0}):this.routeDataSubscription=this.activatedRoute.data.subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){this.widgetResolverVideoData=null,this.videoData=n.content.data,this.videoData&&this.formDiscussionForumWidget(this.videoData),this.widgetResolverVideoData=this.initWidgetResolverVideoData(this.videoData),this.videoData&&this.videoData.identifier&&(this.activatedRoute.snapshot.queryParams.collectionId?yield this.fetchContinueLearning(this.activatedRoute.snapshot.queryParams.collectionId,this.videoData.identifier):yield this.fetchContinueLearning(this.videoData.identifier,this.videoData.identifier)),this.widgetResolverVideoData.widgetData.url=this.videoData?this.forPreview?this.viewerSvc.getAuthoringUrl(this.videoData.artifactUrl):this.videoData.artifactUrl:"",this.widgetResolverVideoData.widgetData.resumePoint=this.getResumePoint(this.videoData),this.widgetResolverVideoData.widgetData.identifier=this.videoData?this.videoData.identifier:"",this.widgetResolverVideoData.widgetData.mimeType=n.content.data.mimeType,this.widgetResolverVideoData=JSON.parse(JSON.stringify(this.widgetResolverVideoData)),this.videoData&&this.videoData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.videoData.identifier)),this.isFetchingDataComplete=!0})),()=>{})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}getResumePoint(n){return n&&n.progress&&n.progress.progressSupported&&n.progress.progress&&Math.floor(n.duration*n.progress.progress)||0}initWidgetResolverVideoData(n){let t=!1;return t=!!this.platform.IOS||!(this.platform.WEBKIT||this.platform.IOS||this.platform.SAFARI)||!!this.platform.ANDROID,{widgetType:"player",widgetSubType:"playerVideo",widgetData:{isVideojs:t,disableTelemetry:!1,url:"",identifier:"",mimeType:n.mimeType,resumePoint:0,continueLearning:!0},widgetHostClass:"video-full"}}formDiscussionForumWidget(n){this.discussionForumWidget={widgetData:{description:n.description,id:n.identifier,name:Kn.i.EDiscussionType.LEARNING,title:n.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}fetchContinueLearning(n,t){return nn.__awaiter(this,void 0,void 0,(function*(){return new Promise(l=>{let e;this.configSvc.userProfile&&(e=this.configSvc.userProfile.userId||""),this.contentSvc.fetchContentHistoryV2({request:{userId:e,batchId:this.batchId,courseId:n||"",contentIds:[],fields:["progressdetails"]}}).subscribe(n=>{if(n&&n.result&&n.result.contentList.length)for(const l of n.result.contentList)l.contentId===t&&l.progressdetails&&l.progressdetails.current&&this.widgetResolverVideoData&&(this.widgetResolverVideoData.widgetData.resumePoint=Number(l.progressdetails.current));l(!0)},()=>l(!0))})}))}setS3Cookie(n){return nn.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(n).toPromise().catch(()=>{})}))}}var ri=e.sb({encapsulation:0,styles:[[""]],data:{}});function si(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-video-container",[],null,null,null,ui,Ye)),e.tb(1,114688,null,0,Be,[j.a,X.a,ln.a],{isScreenSizeSmall:[0,"isScreenSizeSmall"],isNotEmbed:[1,"isNotEmbed"],isFetchingDataComplete:[2,"isFetchingDataComplete"],forPreview:[3,"forPreview"],videoData:[4,"videoData"],widgetResolverVideoData:[5,"widgetResolverVideoData"],discussionForumWidget:[6,"discussionForumWidget"]},null)],(function(n,t){var l=t.component;n(t,1,0,l.isScreenSizeSmall,l.isNotEmbed,l.isFetchingDataComplete,l.forPreview,l.videoData,l.widgetResolverVideoData,l.discussionForumWidget)}),null)}function ci(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-video",[],null,null,null,si,ri)),e.tb(1,245760,null,0,oi,[j.a,on.a,an.a,en.a,q.a,fl.a,X.a],null,null)],(function(n,t){n(t,1,0)}),null)}var di=e.qb("viewer-video",oi,ci,{},{},[]);class hi{constructor(n,t,l){this.activatedRoute=n,this.configSvc=t,this.viewerDataSvc=l,this.isScreenSizeSmall=!1,this.isFetchingDataComplete=!1,this.forPreview=!1,this.youtubeData=null,this.widgetResolverYoutubeData=null,this.discussionForumWidget=null,this.isScreenSizeLtMedium=!1,this.isPreviewMode=!1,this.isTypeOfCollection=!1,this.isRestricted=!1,this.prevResourceUrl=null,this.nextResourceUrl=null}ngOnInit(){this.configSvc.restrictedFeatures&&(this.isRestricted=!this.configSvc.restrictedFeatures.has("disscussionForum")),this.isTypeOfCollection=!!this.activatedRoute.snapshot.queryParams.collectionType,this.viewerDataServiceSubscription=this.viewerDataSvc.tocChangeSubject.subscribe(n=>{this.prevTitle=n.previousTitle,this.nextTitle=n.nextResTitle,this.prevResourceUrl=n.prevResource,this.nextResourceUrl=n.nextResource}),this.collectionIdentifier=this.activatedRoute.snapshot.queryParams.collectionId}}var bi=e.sb({encapsulation:0,styles:[[".video-player-summary-container[_ngcontent-%COMP%]{height:auto;display:flex;justify-content:center;width:100%;flex-wrap:wrap}.padding-dynamic[_ngcontent-%COMP%]{padding:32px 8px 8px}.video-player-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:640px}.video-player-title[_ngcontent-%COMP%]{width:65%}@media only screen and (min-width:960px){.video-player-title[_ngcontent-%COMP%]{width:70%}}.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:-9px}.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{right:-7px}@media only screen and (max-width:599px){.padding-dynamic[_ngcontent-%COMP%]{padding:8px}.video-player-title[_ngcontent-%COMP%]{width:100%}.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:-22px}.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{right:-16px}}.video-summary[_ngcontent-%COMP%]{width:30%}@media only screen and (min-width:960px){.video-summary[_ngcontent-%COMP%]{width:25%}}@media only screen and (max-width:599px){.video-summary[_ngcontent-%COMP%]{width:100%}}.video-player[_ngcontent-%COMP%]{width:99%;position:relative;min-height:75vh;margin:0 8px 0 0;padding:0 7px}.video-player[_ngcontent-%COMP%]   .nav-btn-wrapper[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center}.video-player[_ngcontent-%COMP%]   .nav-btn-wrapper[_ngcontent-%COMP%]   .player-nav-links[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;position:relative;top:0}#fullScreenContainer[_ngcontent-%COMP%]:hover   div.player-nav-links[_ngcontent-%COMP%]{opacity:1}span.title[_ngcontent-%COMP%]{display:none!important}.next-button[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%], a.width-auto[_ngcontent-%COMP%]:hover + span[_ngcontent-%COMP%]{display:inline-block!important}a.width-auto[_ngcontent-%COMP%]{display:inline-block;pointer-events:auto}@media only screen and (max-width:599px){.video-player[_ngcontent-%COMP%]{top:11px;left:14px;height:40vh;width:86vw}.video-player-mobile[_ngcontent-%COMP%]{padding:0}.info-section[_ngcontent-%COMP%]{width:100%}}  .youtube-outer .mat-card{padding:0}.vidoe-title[_ngcontent-%COMP%]{width:100%}.video-discussion-forum-in[_ngcontent-%COMP%]{display:block;overflow:hidden}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{padding:12px 16px;margin-bottom:16px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 0;box-sizing:border-box}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{width:40%;min-width:80px;max-width:140px}.info-section[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;margin-left:8px}.author[_ngcontent-%COMP%]{padding:12px 0;display:flex}.author[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:12px;font-size:48px;height:48px;width:48px}.unit-meta-item[_ngcontent-%COMP%]{border-radius:2px;box-sizing:border-box;margin-bottom:16px}.video-player-embed[_ngcontent-%COMP%]{height:100vh;width:100vw}  #fullScreenContainer #youtubeTag{min-height:75vh;width:98%;margin:0 auto}@media only screen and (max-width:599px){.next-button[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-right:-27px}}"]],data:{}});function pi(n){return e.Qb(0,[(n()(),e.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.tb(1,540672,null,0,vn.a,[e.P,wn.a,X.a],{wsResolverWidget:[0,"wsResolverWidget"]},null),(n()(),e.kb(0,null,null,0))],(function(n,t){n(t,1,0,t.component.widgetResolverYoutubeData)}),null)}function mi(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Previous Chapter"])),(n()(),e.Ob(3,null,[""," "])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.prevTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.prevTitle,0,22))+"..":l.prevTitle)}))}function gi(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,4,"span",[["class","title"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,1,"span",[["class","fs-small"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Next Chapter"])),(n()(),e.Ob(3,null,["",""])),e.Ib(0,H.B,[])],null,(function(n,t){var l=t.component;n(t,3,0,l.nextTitle.length>22?e.Pb(t,3,0,e.Gb(t,4).transform(l.nextTitle,0,22))+"..":l.nextTitle)}))}function fi(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,8,"mat-card",[["class","unit-meta-item mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(1,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(2,0,null,0,6,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,3,"ws-widget-btn-content-download",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,b.c,b.b)),e.tb(4,4308992,null,0,Yt.a,[q.a,Xt.a,Zt.a,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null),e.Hb(5,7),e.Kb(6,2),(n()(),e.ub(7,0,null,null,1,"ws-widget-btn-content-share",[],[[8,"id",0],[8,"style",2],[8,"className",0]],null,null,g.c,g.b)),e.tb(8,4308992,null,0,B.a,[Y.e,X.a],{widgetData:[0,"widgetData"],forPreview:[1,"forPreview"]},null)],(function(n,t){var l=t.component,i=e.Pb(t,4,0,n(t,6,0,e.Gb(t.parent.parent.parent,0),l.youtubeData,n(t,5,0,"identifier","contentType","resourceType","mimeType","downloadUrl","isExternal","artifactUrl")));n(t,4,0,i,l.forPreview),n(t,8,0,l.youtubeData,l.forPreview)}),(function(n,t){n(t,0,0,"NoopAnimations"===e.Gb(t,1)._animationMode),n(t,3,0,e.Gb(t,4).widgetInstanceId,e.Gb(t,4).widgetSafeStyle,e.Gb(t,4).className),n(t,7,0,e.Gb(t,8).widgetInstanceId,e.Gb(t,8).widgetSafeStyle,e.Gb(t,8).className)}))}function vi(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,2,"div",[["class","vidoe-title margin-top-m"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,fi)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.isScreenSizeSmall)}),null)}function wi(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,30,"div",[["class","padding-dynamic"]],null,null,null,null,null)),(n()(),e.ub(1,0,null,null,29,"div",[["class","flex flex-around flex-wrapped"]],null,null,null,null,null)),(n()(),e.ub(2,0,null,null,28,"div",[["class","w-full"]],null,null,null,null,null)),(n()(),e.ub(3,0,null,null,25,"div",[["class","youtube-outer"]],null,null,null,null,null)),(n()(),e.ub(4,0,null,null,24,"mat-card",[["class","video-player-mobile mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,yn.d,yn.a)),e.tb(5,49152,null,0,Cn.a,[[2,fn.a]],null,null),(n()(),e.ub(6,0,null,0,22,"mat-card-content",[["class","video-player-mobile-container mat-card-content"]],null,null,null,null,null)),e.tb(7,16384,null,0,Cn.d,[],null,null),(n()(),e.ub(8,0,null,null,20,"div",[["class","video-player"],["id","fullScreenContainer"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,pi)),e.tb(10,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(11,0,null,null,17,"div",[["class","nav-btn-wrapper"]],null,null,null,null,null)),(n()(),e.ub(12,0,null,null,16,"div",[["class","player-nav-links"]],null,null,null,null,null)),(n()(),e.ub(13,0,null,null,7,"div",[["class","prev-button"]],null,null,null,null,null)),(n()(),e.ub(14,0,null,null,4,"a",[["accesskey","<"],["class","width-auto"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,15).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,16)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(15,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(16,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(17,0,null,0,1,"span",[["class","material-icons align-left-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_left "])),(n()(),e.kb(16777216,null,null,1,null,mi)),e.tb(20,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(21,0,null,null,7,"div",[["class","next-button"]],null,null,null,null,null)),(n()(),e.kb(16777216,null,null,1,null,gi)),e.tb(23,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ub(24,0,null,null,4,"a",[["accesskey",">"],["class","width-auto mr-10"],["mat-button",""],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.Gb(n,25).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),"click"===t&&(i=!1!==e.Gb(n,26)._haltDisabledEvents(l)&&i),i}),mn.c,mn.a)),e.tb(25,671744,null,0,j.r,[j.o,j.a,H.l],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),e.tb(26,180224,null,0,gn.a,[z.h,e.k,[2,fn.a]],{disabled:[0,"disabled"]},null),(n()(),e.ub(27,0,null,0,1,"span",[["class","material-icons align-right-arrow"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,[" chevron_right "])),(n()(),e.kb(16777216,null,null,1,null,vi)),e.tb(30,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,10,0,l.isFetchingDataComplete),n(t,15,0,"preserve",l.prevResourceUrl),n(t,16,0,!l.prevResourceUrl),n(t,20,0,l.prevTitle),n(t,23,0,l.nextTitle),n(t,25,0,"preserve",l.nextResourceUrl),n(t,26,0,!l.nextResourceUrl),n(t,30,0,l.youtubeData)}),(function(n,t){n(t,4,0,"NoopAnimations"===e.Gb(t,5)._animationMode),n(t,14,0,e.Gb(t,15).target,e.Gb(t,15).href,e.Gb(t,16).disabled?-1:e.Gb(t,16).tabIndex||0,e.Gb(t,16).disabled||null,e.Gb(t,16).disabled.toString(),"NoopAnimations"===e.Gb(t,16)._animationMode),n(t,24,0,e.Gb(t,25).target,e.Gb(t,25).href,e.Gb(t,26).disabled?-1:e.Gb(t,26).tabIndex||0,e.Gb(t,26).disabled||null,e.Gb(t,26).disabled.toString(),"NoopAnimations"===e.Gb(t,26)._animationMode)}))}function yi(n){return e.Qb(0,[e.Ib(0,nl.a,[]),(n()(),e.kb(16777216,null,null,1,null,wi)),e.tb(2,16384,null,0,H.p,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.youtubeData)}),null)}class Ci{constructor(n,t,l,e,i,a){this.activatedRoute=n,this.valueSvc=t,this.contentSvc=l,this.platform=e,this.dataSvc=i,this.configSvc=a,this.routeDataSubscription=null,this.screenSizeSubscription=null,this.viewerDataSubscription=null,this.forPreview=window.location.href.includes("/author/"),this.isScreenSizeSmall=!1,this.isFetchingDataComplete=!1,this.youtubeData=null,this.widgetResolverYoutubeData=null,this.discussionForumWidget=null,this.isScreenSizeLtMedium=!1,this.batchId=this.activatedRoute.snapshot.queryParamMap.get("batchId")}ngOnInit(){this.dataSvc.getFullScreenStatus.subscribe(n=>this.fs=n),this.screenSizeSubscription=this.valueSvc.isXSmall$.subscribe(n=>{this.isScreenSizeSmall=n}),this.routeDataSubscription=this.activatedRoute.data.subscribe(n=>nn.__awaiter(this,void 0,void 0,(function*(){this.widgetResolverYoutubeData=null,this.youtubeData=n.content.data,this.youtubeData&&this.formDiscussionForumWidget(this.youtubeData),this.widgetResolverYoutubeData=this.initWidgetResolverYoutubeData(),this.forPreview&&(this.widgetResolverYoutubeData.widgetData.disableTelemetry=!0),this.widgetResolverYoutubeData.widgetData.url=this.youtubeData?this.youtubeData.artifactUrl:"",this.widgetResolverYoutubeData.widgetData.identifier=this.youtubeData?this.youtubeData.identifier:"",this.widgetResolverYoutubeData.widgetData.isVideojs=!1,this.youtubeData&&this.youtubeData.artifactUrl.indexOf("content-store")>=0&&(yield this.setS3Cookie(this.youtubeData.identifier)),this.isFetchingDataComplete=!0})),()=>{})}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.screenSizeSubscription&&this.screenSizeSubscription.unsubscribe(),this.viewerDataSubscription&&this.viewerDataSubscription.unsubscribe()}fetchContinueLearning(n,t){return nn.__awaiter(this,void 0,void 0,(function*(){return new Promise(l=>{let e;this.configSvc.userProfile&&(e=this.configSvc.userProfile.userId||""),this.contentSvc.fetchContentHistoryV2({request:{userId:e,batchId:this.batchId,courseId:n||"",contentIds:[],fields:["progressdetails"]}}).subscribe(n=>{if(n&&n.result&&n.result.contentList.length)for(const l of n.result.contentList)l.contentId===t&&l.progressdetails&&l.progressdetails.current&&this.widgetResolverYoutubeData&&(this.widgetResolverYoutubeData.widgetData.resumePoint=Number(l.progressdetails.current.pop()),this.widgetResolverYoutubeData.widgetData.size=l.progressdetails.max_size);l(!0)},()=>l(!0))})}))}getResumePoint(n){return n&&n.progress&&n.progress.progressSupported&&n.progress.progress&&Math.floor(n.duration*n.progress.progress)||0}initWidgetResolverYoutubeData(){return{widgetType:"player",widgetSubType:"playerYoutube",widgetData:{disableTelemetry:!1,url:"",identifier:""},widgetHostClass:"video-full"}}formDiscussionForumWidget(n){this.discussionForumWidget={widgetData:{description:n.description,id:n.identifier,name:Kn.i.EDiscussionType.LEARNING,title:n.name,initialPostCount:2,isDisabled:this.forPreview},widgetSubType:"discussionForum",widgetType:"discussionForum"}}setS3Cookie(n){return nn.__awaiter(this,void 0,void 0,(function*(){yield this.contentSvc.setS3Cookie(n).toPromise().catch(()=>{})}))}}var Pi=e.sb({encapsulation:0,styles:[[".fullscreen #youtubeTag{height:100vh!important}div.prev-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{left:-10px}div.next-button[_ngcontent-%COMP%]   .width-auto[_ngcontent-%COMP%]{right:-5px}"]],data:{}});function Si(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-youtube-container",[],[[2,"fullscreen",null]],null,null,yi,bi)),e.tb(1,114688,null,0,hi,[j.a,X.a,ln.a],{isScreenSizeSmall:[0,"isScreenSizeSmall"],isFetchingDataComplete:[1,"isFetchingDataComplete"],forPreview:[2,"forPreview"],youtubeData:[3,"youtubeData"],widgetResolverYoutubeData:[4,"widgetResolverYoutubeData"],discussionForumWidget:[5,"discussionForumWidget"]},null)],(function(n,t){var l=t.component;n(t,1,0,l.isScreenSizeSmall,l.isFetchingDataComplete,l.forPreview,l.youtubeData,l.widgetResolverYoutubeData,l.discussionForumWidget)}),(function(n,t){n(t,0,0,t.component.fs)}))}function xi(n){return e.Qb(0,[(n()(),e.ub(0,0,null,null,1,"viewer-youtube",[],null,null,null,Si,Pi)),e.tb(1,245760,null,0,Ci,[j.a,on.a,en.a,q.a,ln.a,X.a],null,null)],(function(n,t){n(t,1,0)}),null)}var Mi=e.qb("viewer-youtube",Ci,xi,{},{},[]),Di=l("M7hb"),Ii=l("eELD"),Oi=l("AKCg"),_i=l("Ks2y"),Ti=l("c43T"),ki=l("wsLN"),Ei=l("pz7e"),Ri=l("J/KK"),Gi=l("/Or1"),Ni=l("zbXB"),Li=l("Hh4S"),Fi=l("skHm"),Ui=l("bRFA"),Ai=l("AQnF"),qi=l("s82p"),zi=l("xJfu"),Wi=l("5dlw"),Qi=l("LSnK"),Hi=l("9Rbx"),Ki=l("ZwUe"),$i=l("gt11"),ji=l("RB+u"),Ji=l("FpXn"),Vi=l("fSW3"),Bi=l("q9e9"),Yi=l("8bfV"),Xi=l("NafD"),Zi=l("A/E7"),na=l("Xpqh"),ta=l("Hwgb"),la=l("JyIH"),ea=l("RJ24"),ia=l("bulX"),aa=l("POq0"),ua=l("Xd0L"),oa=l("s7LF"),ra=l("/Co4"),sa=l("gavF"),ca=l("JoiR"),da=l("3wtj"),ha=l("oPrN"),ba=l("ZGdF"),pa=l("7QIX"),ma=l("JjoW"),ga=l("821u"),fa=l("hGiR"),va=l("IFPO"),wa=l("Pppz"),ya=l("5XP5"),Ca=l("Brbs"),Pa=l("0qV8"),Sa=l("CLta"),xa=l("EDYa"),Ma=l("aslZ"),Da=l("Ne3Y"),Ia=l("lGfk"),Oa=l("Lq/L"),_a=l("w523"),Ta=l("cVqX"),ka=l("z/Ba"),Ea=l("sUfr"),Ra=l("H3UJ"),Ga=l("pBi1"),Na=l("oapL"),La=l("HsOI"),Fa=l("ZwOa"),Ua=l("zMNK"),Aa=l("KDYE"),qa=l("kxhK"),za=l("nUuF"),Wa=l("Bheh"),Qa=l("wBFC"),Ha=l("KPQW"),Ka=l("1XhF"),$a=l("kNGD"),ja=l("Nra3"),Ja=l("N8BH"),Va=l("f1R+"),Ba=l("3XeQ"),Ya=l("1+c4"),Xa=l("bwdU"),Za=l("PIFq"),nu=l("aDOb"),tu=l("GilE"),lu=l("CpoC"),eu=l("GSMj"),iu=l("6GCF"),au=l("oYwi"),uu=l("FPi+"),ou=l("alHs"),ru=l("W6PK"),su=l("wgME"),cu=l("7Y9B"),du=l("v2bU"),hu=l("PggI"),bu=l("gBMt");class pu{}class mu{}class gu{}var fu=l("DU99"),vu=l("MDml");class wu{}class yu{}class Cu{}var Pu=l("FZKd");class Su{}class xu{}class Mu{}class Du{}class Iu{}class Ou{}class _u{}class Tu{}var ku=l("CQWV"),Eu=l("PEK/"),Ru=l("Zeoz"),Gu=l("Lu9c"),Nu=l("xolN"),Lu=l("D7xq"),Fu=l("mSbd");class Uu{}const Au={resourceType:"audio"},qu={resourceType:"audio-native"},zu={resourceType:"certification"},Wu=()=>l.e(80).then(l.bind(null,"rR5G")).then(n=>n.CertificationModuleNgFactory),Qu={resourceType:"class-diagram"},Hu=()=>Promise.all([l.e(2),l.e(5),l.e(23),l.e(81)]).then(l.bind(null,"T+yM")).then(n=>n.ClassDiagramModuleNgFactory),Ku={resourceType:"dnd-quiz"},$u=()=>l.e(82).then(l.bind(null,"VWn5")).then(n=>n.DndQuizModuleNgFactory),ju={resourceType:"hands-on"},Ju=()=>Promise.all([l.e(9),l.e(18),l.e(0),l.e(42)]).then(l.bind(null,"pYlI")).then(n=>n.HandsOnModuleNgFactory),Vu={resourceType:"html"},Bu={resourceType:"html-picker"},Yu=()=>Promise.all([l.e(9),l.e(18),l.e(45)]).then(l.bind(null,"cMYX")).then(n=>n.HtmlPickerModuleNgFactory),Xu={resourceType:"channel"},Zu={resourceType:"iap"},no=()=>l.e(83).then(l.bind(null,"CgpK")).then(n=>n.IapModuleNgFactory),to={resourceType:"interactive-exercise"},lo=()=>l.e(84).then(l.bind(null,"dEQ6")).then(n=>n.InteractiveExerciseModuleNgFactory),eo={resourceType:"pdf"},io={resourceType:"quiz"},ao=()=>Promise.all([l.e(2),l.e(23),l.e(85)]).then(l.bind(null,"gB8d")).then(n=>n.QuizModuleNgFactory),uo={resourceType:"rdbms-hands-on"},oo=()=>Promise.all([l.e(2),l.e(9),l.e(0),l.e(52)]).then(l.bind(null,"MKXj")).then(n=>n.RdbmsHandsOnModuleNgFactory),ro={resourceType:"resource-collection"},so=()=>Promise.all([l.e(2),l.e(8),l.e(22),l.e(53)]).then(l.bind(null,"DG7x")).then(n=>n.ResourceCollectionModuleNgFactory),co={resourceType:"video"},ho={resourceType:"web-module"},bo=()=>Promise.all([l.e(22),l.e(86)]).then(l.bind(null,"2Xq3")).then(n=>n.WebModuleModuleNgFactory),po={resourceType:"youtube"},mo={resourceType:"unknown"},go={resourceType:"error"};class fo{}var vo=l("We06"),wo=l("aHCO");class yo{constructor(){this.isXSmall=!1}}var Co=l("CFPQ"),Po=l("r0V8"),So=l("elxJ"),xo=l("5Bek"),Mo=l("c9fC"),Do=l("+TDJ"),Io=l("u0gr"),Oo=l("dncZ"),_o=l("JBzt"),To=l("eOmv"),ko=l("mkRZ"),Eo=l("sWU+"),Ro=l("T2/8"),Go=l("MCyE"),No=l("RMY1"),Lo=l("sXCt"),Fo=l("OYae"),Uo=l("0G5/"),Ao=l("5vMO"),qo=l("kZd7"),zo=l("ka00"),Wo=l("Xs+b"),Qo=l("39Gi"),Ho=l("B0QU"),Ko=l("mB+Y"),$o=l("MNke"),jo=l("TLJh"),Jo=l("zLAC");class Vo{}var Bo=l("dvZr"),Yo=l("Lt0X"),Xo=l("I+L6"),Zo=l("RfEw"),nr=l("HOOy"),tr=l("6+Wy"),lr=l("/vb+"),er=l("pVJ7"),ir=l("Ucym"),ar=l("6hNY"),ur=l("4nPz"),or=l("da1A"),rr=l("gLgs"),sr=l("j31u"),cr=l("+dA4"),dr=l("c3o2"),hr=l("8Ygl");l.d(t,"RouteViewerModuleNgFactory",(function(){return br}));var br=e.rb(i,[],(function(n){return e.Db([e.Eb(512,e.j,e.bb,[[8,[a.a,a.b,u.a,o.a,r.a,s.a,c.a,d.a,h.a,b.a,p.a,m.a,g.a,f.a,v.a,w.a,y.a,C.a,P.a,S.a,x.a,M.a,D.a,I.a,O.a,_.a,T.a,k.a,E.a,R.a,G.a,N.a,L.a,Bt,Cl,ql,_e,Ne,Ve,di,Mi,Di.a,Ii.a,Oi.a,_i.a,Ti.a,ki.a,Ei.a,Ri.a,Gi.a,Ni.b,Ni.a,Li.a,Fi.a,Ui.a,Ai.a,qi.a,zi.a,Wi.a,Qi.a,Hi.a,Ki.a,$i.a,ji.a,Ji.a,Vi.a,Bi.a,Yi.a,Xi.a,Zi.a,na.g,na.m,na.i,na.j,na.n,na.k,na.h,na.l,ta.a,la.a,ea.a,ia.a]],[3,e.j],e.w]),e.Eb(4608,H.r,H.q,[e.t,[2,H.N]]),e.Eb(4608,aa.c,aa.c,[]),e.Eb(4608,Q.e,ua.c,[[2,ua.g],[2,ua.l]]),e.Eb(135680,z.h,z.h,[e.y,q.a]),e.Eb(4608,Fn.f,Fn.f,[e.M]),e.Eb(4608,ua.b,ua.b,[]),e.Eb(4608,U.d,U.d,[U.j,U.f,e.j,U.i,U.g,e.q,e.y,H.d,W.b,[2,H.k]]),e.Eb(5120,U.k,U.l,[U.d]),e.Eb(5120,F.b,F.c,[U.d]),e.Eb(5120,Y.c,Y.d,[U.d]),e.Eb(135680,Y.e,Y.e,[U.d,e.q,[2,H.k],[2,Y.b],Y.c,[3,Y.e],U.f]),e.Eb(4608,oa.F,oa.F,[]),e.Eb(4608,oa.f,oa.f,[]),e.Eb(5120,ra.b,ra.c,[U.d]),e.Eb(5120,sa.c,sa.k,[U.d]),e.Eb(4608,Kl.l,Kl.v,[H.d,e.A,Kl.t]),e.Eb(4608,Kl.w,Kl.w,[Kl.l,Kl.u]),e.Eb(5120,Kl.a,(function(n){return[n]}),[Kl.w]),e.Eb(4608,Kl.s,Kl.s,[]),e.Eb(6144,Kl.o,null,[Kl.s]),e.Eb(4608,Kl.k,Kl.k,[Kl.o]),e.Eb(6144,Kl.b,null,[Kl.k]),e.Eb(4608,Kl.h,Kl.p,[Kl.b,e.q]),e.Eb(4608,Kl.c,Kl.c,[Kl.h]),e.Eb(4608,ca.a,ca.a,[Kl.c]),e.Eb(4608,da.a,da.a,[Kl.c,X.a]),e.Eb(4608,Hn.a,Hn.a,[]),e.Eb(4608,fl.a,fl.a,[X.a,H.a]),e.Eb(4608,ha.a,ha.a,[en.a,ln.a,Zt.a,j.o,fl.a,ba.a,X.a,q.a]),e.Eb(4608,on.a,on.a,[pa.a]),e.Eb(5120,ma.a,ma.b,[U.d]),e.Eb(4608,ga.i,ga.i,[]),e.Eb(5120,ga.a,ga.b,[U.d]),e.Eb(4608,ua.a,ua.x,[[2,ua.f],q.a]),e.Eb(4608,fa.a,fa.a,[Kl.c]),e.Eb(4608,va.a,wa.a,[]),e.Eb(5120,ya.a,ya.b,[va.a,e.A]),e.Eb(4608,Ca.a,Ca.a,[ya.a,H.d]),e.Eb(4608,Pa.a,Pa.a,[fa.a]),e.Eb(4608,Sa.b,Sa.b,[]),e.Eb(5120,"CsModule",xa.l,[]),e.Eb(4608,xa.f,xa.f,[Kl.c,"CsModule"]),e.Eb(4608,xa.d,xa.d,[j.a,xa.f]),e.Eb(4608,xa.A,xa.A,[xa.e,j.o]),e.Eb(4608,Ma.a,Ma.a,[]),e.Eb(4608,Da.a,Da.a,[en.a,Ma.a,j.o]),e.Eb(4608,Ia.a,Ia.a,[Kl.c]),e.Eb(4608,Oa.a,Oa.a,[en.a,Ia.a,X.a]),e.Eb(4608,_a.a,_a.a,[fa.a]),e.Eb(4608,Ta.a,Ta.a,[en.a]),e.Eb(4608,ka.a,ka.a,[ca.a,fl.a,Ea.a,X.a]),e.Eb(4608,Ra.a,Ra.a,[X.a]),e.Eb(1073742336,H.c,H.c,[]),e.Eb(1073742336,W.a,W.a,[]),e.Eb(1073742336,ua.l,ua.l,[[2,ua.d],[2,Q.f]]),e.Eb(1073742336,Cn.g,Cn.g,[]),e.Eb(1073742336,q.b,q.b,[]),e.Eb(1073742336,A.c,A.c,[]),e.Eb(1073742336,En.h,En.h,[]),e.Eb(1073742336,V.b,V.b,[]),e.Eb(1073742336,qn.c,qn.c,[]),e.Eb(1073742336,ua.w,ua.w,[]),e.Eb(1073742336,gn.c,gn.c,[]),e.Eb(1073742336,Gn.b,Gn.b,[]),e.Eb(1073742336,Ga.d,Ga.d,[]),e.Eb(1073742336,aa.d,aa.d,[]),e.Eb(1073742336,Ga.c,Ga.c,[]),e.Eb(1073742336,ua.n,ua.n,[]),e.Eb(1073742336,ua.u,ua.u,[]),e.Eb(1073742336,Ln.e,Ln.e,[]),e.Eb(1073742336,Fn.d,Fn.d,[]),e.Eb(1073742336,Un.e,Un.e,[]),e.Eb(1073742336,Na.c,Na.c,[]),e.Eb(1073742336,La.e,La.e,[]),e.Eb(1073742336,Fa.c,Fa.c,[]),e.Eb(1073742336,Sn.c,Sn.c,[]),e.Eb(1073742336,Ua.g,Ua.g,[]),e.Eb(1073742336,U.h,U.h,[]),e.Eb(1073742336,Vl.f,Vl.f,[]),e.Eb(1073742336,j.s,j.s,[[2,j.x],[2,j.o]]),e.Eb(1073742336,Aa.a,Aa.a,[]),e.Eb(1073742336,qa.a,qa.a,[]),e.Eb(1073742336,za.a,za.a,[]),e.Eb(1073742336,Wa.a,Wa.a,[]),e.Eb(1073742336,z.a,z.a,[]),e.Eb(1073742336,F.e,F.e,[]),e.Eb(1073742336,Qa.a,Qa.a,[]),e.Eb(1073742336,Ha.b,Ha.b,[]),e.Eb(1073742336,Ka.a,Ka.a,[]),e.Eb(1073742336,$a.f,$a.f,[]),e.Eb(1073742336,Y.k,Y.k,[]),e.Eb(1073742336,oa.E,oa.E,[]),e.Eb(1073742336,oa.m,oa.m,[]),e.Eb(1073742336,oa.A,oa.A,[]),e.Eb(1073742336,ua.r,ua.r,[]),e.Eb(1073742336,ra.e,ra.e,[]),e.Eb(1073742336,ja.a,ja.a,[]),e.Eb(1073742336,Ja.a,Ja.a,[]),e.Eb(1073742336,Va.a,Va.a,[]),e.Eb(1073742336,Ba.a,Ba.a,[]),e.Eb(1073742336,Ya.a,Ya.a,[]),e.Eb(1073742336,Xa.b,Xa.b,[]),e.Eb(1073742336,Za.a,Za.a,[]),e.Eb(1073742336,nu.a,nu.a,[]),e.Eb(1073742336,sa.j,sa.j,[]),e.Eb(1073742336,sa.g,sa.g,[]),e.Eb(1073742336,tu.a,tu.a,[]),e.Eb(1073742336,lu.a,lu.a,[]),e.Eb(1073742336,eu.a,eu.a,[]),e.Eb(1073742336,iu.a,iu.a,[]),e.Eb(1073742336,au.a,au.a,[]),e.Eb(1073742336,uu.a,uu.a,[]),e.Eb(1073742336,Kl.f,Kl.f,[]),e.Eb(1073742336,Kl.e,Kl.e,[]),e.Eb(1073742336,ou.c,ou.c,[]),e.Eb(1073742336,ru.a,ru.a,[]),e.Eb(1073742336,su.a,su.a,[]),e.Eb(1073742336,cu.a,cu.a,[]),e.Eb(1073742336,du.a,du.a,[]),e.Eb(1073742336,hu.a,hu.a,[]),e.Eb(1073742336,bu.a,bu.a,[]),e.Eb(1073742336,pu,pu,[]),e.Eb(1073742336,mu,mu,[]),e.Eb(1073742336,gu,gu,[]),e.Eb(1073742336,fu.a,fu.a,[]),e.Eb(1073742336,vu.a,vu.a,[]),e.Eb(1073742336,wu,wu,[]),e.Eb(1073742336,yu,yu,[]),e.Eb(1073742336,Wl.c,Wl.c,[]),e.Eb(1073742336,Cu,Cu,[]),e.Eb(1073742336,Pu.a,Pu.a,[]),e.Eb(1073742336,Su,Su,[]),e.Eb(1073742336,xu,xu,[]),e.Eb(1073742336,Mu,Mu,[]),e.Eb(1073742336,Du,Du,[]),e.Eb(1073742336,Iu,Iu,[]),e.Eb(1073742336,Ou,Ou,[]),e.Eb(1073742336,_u,_u,[]),e.Eb(1073742336,Tu,Tu,[]),e.Eb(1073742336,ku.a,ku.a,[]),e.Eb(1073742336,Eu.a,Eu.a,[]),e.Eb(1073742336,Ru.a,Ru.a,[]),e.Eb(1073742336,Gu.a,Gu.a,[]),e.Eb(1073742336,Nu.a,Nu.a,[]),e.Eb(1073742336,Lu.a,Lu.a,[]),e.Eb(1073742336,Fu.a,Fu.a,[]),e.Eb(1073742336,Uu,Uu,[]),e.Eb(1073742336,fo,fo,[]),e.Eb(1073742336,vo.a,vo.a,[]),e.Eb(1073742336,wo.a,wo.a,[]),e.Eb(1073742336,In.m,In.m,[]),e.Eb(1073742336,yo,yo,[]),e.Eb(1073742336,Co.a,Co.a,[]),e.Eb(1073742336,Po.d,Po.d,[]),e.Eb(1073742336,Po.c,Po.c,[]),e.Eb(1073742336,So.d,So.d,[]),e.Eb(1073742336,ma.d,ma.d,[]),e.Eb(1073742336,xo.c,xo.c,[]),e.Eb(1073742336,Mo.d,Mo.d,[]),e.Eb(1073742336,ga.j,ga.j,[]),e.Eb(1073742336,ua.y,ua.y,[]),e.Eb(1073742336,ua.o,ua.o,[]),e.Eb(1073742336,Do.a,Do.a,[]),e.Eb(1073742336,Io.a,Io.a,[]),e.Eb(1073742336,Oo.a,Oo.a,[]),e.Eb(1073742336,_o.a,_o.a,[]),e.Eb(1073742336,To.a,To.a,[]),e.Eb(1073742336,ko.e,ko.e,[]),e.Eb(1073742336,Eo.a,Eo.a,[]),e.Eb(1073742336,Ro.a,Ro.a,[]),e.Eb(1073742336,Go.a,Go.a,[]),e.Eb(1073742336,No.a,No.a,[]),e.Eb(1073742336,Lo.a,Lo.a,[]),e.Eb(1073742336,Fo.a,Fo.a,[]),e.Eb(1073742336,Uo.a,Uo.a,[]),e.Eb(1073742336,Ao.a,Ao.a,[]),e.Eb(1073742336,qo.a,qo.a,[]),e.Eb(1073742336,zo.a,zo.a,[]),e.Eb(1073742336,Wo.b,Wo.b,[]),e.Eb(1073742336,Qo.a,Qo.a,[]),e.Eb(1073742336,Ho.c,Ho.c,[]),e.Eb(1073742336,xa.s,xa.s,[]),e.Eb(1073742336,xa.R,xa.R,[]),e.Eb(1073742336,Ko.a,Ko.a,[]),e.Eb(1073742336,Sa.a,Sa.a,[]),e.Eb(1073742336,$o.b,$o.b,[]),e.Eb(1073742336,xa.B,xa.B,[]),e.Eb(1073742336,xa.z,xa.z,[]),e.Eb(1073742336,xa.g,xa.g,[]),e.Eb(512,xa.e,xa.e,[]),e.Eb(1073742336,jo.a,jo.a,[xa.e]),e.Eb(1073742336,Jo.a,Jo.a,[]),e.Eb(1073742336,Vo,Vo,[]),e.Eb(1073742336,i,i,[]),e.Eb(256,e.t,"hi",[]),e.Eb(256,$a.a,{separatorKeyCodes:[Bo.g]},[]),e.Eb(256,Kl.t,"XSRF-TOKEN",[]),e.Eb(256,Kl.u,"X-XSRF-TOKEN",[]),e.Eb(256,ou.a,{formats:["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","image"],modules:{toolbar:[["blockquote","code-block"],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["image"]],history:{delay:1500,userOnly:!0},syntax:!1},theme:"snow"},[]),e.Eb(1024,j.m,(function(){return[[{path:"",component:_t,children:[{path:"audio/:resourceId",component:gl,data:Au,resolve:{content:ha.a}},{path:"audio-native/:resourceId",component:Ll,data:qu,resolve:{content:ha.a}},{path:"certification",data:zu,loadChildren:Wu},{path:"class-diagram",data:Qu,loadChildren:Hu},{path:"dnd-quiz",data:Ku,loadChildren:$u},{path:"hands-on",data:ju,loadChildren:Ju},{path:"html/:resourceId",component:xe,data:Vu,resolve:{content:ha.a}},{path:"html-picker",data:Bu,loadChildren:Yu},{path:"channel/:resourceId",data:Xu,resolve:{content:ha.a},component:Te},{path:"iap",data:Zu,loadChildren:no},{path:"interactive-exercise",data:to,loadChildren:lo},{path:"pdf/:resourceId",component:Ke,data:eo,resolve:{content:ha.a}},{path:"quiz",data:io,loadChildren:ao},{path:"rdbms-hands-on",data:uo,loadChildren:oo},{path:"resource-collection",data:ro,loadChildren:so},{path:"video/:resourceId",component:oi,data:co,resolve:{content:ha.a}},{path:"web-module",data:ho,loadChildren:bo},{path:"youtube/:resourceId",component:Ci,data:po,resolve:{content:ha.a}},{path:":resourceId",component:_t,data:mo,resolve:{content:ha.a}},{path:"**",data:go,resolve:{content:ha.a}}]}],[{path:":id",component:Yo.a,data:Co.b,resolve:{pageData:Xo.a,content:Da.a},runGuardsAndResolvers:"paramsChange",children:[{path:"analytics",component:Zo.a,data:Co.c,resolve:{pageData:Xo.a},canActivate:[nr.a],runGuardsAndResolvers:"always"},{path:"contents",component:tr.a},{path:"overview",component:lr.a},{path:"discussion-forum",component:er.a,resolve:{data:Co.d}},{path:"details",component:ir.a},{path:"certification",loadChildren:Co.e,canActivate:[nr.a],resolve:{certificationMetaResolve:_a.a,contentMetaResolve:Ta.a},runGuardsAndResolvers:"always",data:Co.f},{path:"license",component:ar.a},{path:"",pathMatch:"full",redirectTo:"overview"}]},{path:"knowledge-artifact/:id",component:ur.a,resolve:{content:Da.a}}],[{path:"",component:or.a,children:[{path:"",component:rr.a},{path:"acc",component:sr.a},{path:"atDesk",component:cr.a},{path:"budgetApproval",component:dr.a},{path:"resultUpload",component:hr.a}]}],[{path:"",component:xa.m,children:[{path:"",pathMatch:"full",component:xa.K,data:{pageId:"",module:"Discuss"}},{path:"all-discussions",pathMatch:"full",component:xa.K,data:{pageId:"all-discussions",module:"Discuss"}},{path:"categories",pathMatch:"full",component:xa.E,data:{pageId:"categories",module:"Discuss-categories"}},{path:"tags",pathMatch:"full",component:xa.F,data:{pageId:"tags",module:"Discuss"}},{path:"tags/tag-discussions",pathMatch:"full",component:xa.M,data:{pageId:"tags/tag-discussions",module:"Discuss"}},{path:"my-discussion",pathMatch:"full",component:xa.H,data:{pageId:"my-discussion",module:"Discuss"}},{path:"category/:slug",pathMatch:"full",component:xa.D,data:{pageId:"catergory/:categoryId",module:"Discuss"}},{path:"topic/:topicId/:slug",pathMatch:"full",component:xa.I,data:{pageId:"topic/:topicId/:topicSlug",module:"Discuss"}}]}]]}),[]),e.Eb(256,ua.e,ua.i,[]),e.Eb(256,oa.a,!1,[]),e.Eb(256,Ho.b,{},[])])}))},GYRC:function(n,t,l){"use strict";l.d(t,"a",(function(){return u}));var e=l("XNiG"),i=l("jtHE"),a=l("8Y7J");let u=(()=>{class n{constructor(){this.resourceId=null,this.resource=null,this.primaryCategory=null,this.status="none",this.resourceChangedSubject=new e.a,this.changedSubject=new i.a(1),this.tocChangeSubject=new i.a(1),this.navSupportForResource=new i.a(1),this.fullScreenResource=new e.a,this.getFullScreenStatus=this.fullScreenResource.asObservable(),this.gatingEnabled=!1}reset(n=null,t="none",l){this.resourceId=n,this.resource=null,this.error=null,this.status=t,this.primaryCategory=l||"",this.changedSubject.next()}updateResource(n=null,t=null){n?(this.resource=n,n&&n.identifier&&(this.resourceId=n.identifier,this.primaryCategory=n.primaryCategory),this.error=null,this.status="done"):(this.resource=null,this.error=t,this.status="error"),this.changedSubject.next()}updateNextPrevResource({isValid:n=!0,prev:t=null,prevTitle:l,nextTitle:e,next:i=null}){this.tocChangeSubject.next({tocAvailable:n,nextResource:i,prevResource:t,previousTitle:l,nextResTitle:e})}changeFullScreen(n){this.fullScreenResource.next(n)}getNode(){return this.gatingEnabled}setNode(n){this.gatingEnabled=n}}return n.ngInjectableDef=a.Ub({factory:function(){return new n},token:n,providedIn:"root"}),n})()},oPrN:function(n,t,l){"use strict";l.d(t,"a",(function(){return r}));var e=l("vkgz"),i=l("lJxs"),a=l("JIr8"),u=l("LRne"),o=(l("aLkD"),l("iJLM"));l("g6cB"),l("GYRC"),l("tHRR");class r{constructor(n,t,l,e,i,a,u,o){this.contentSvc=n,this.viewerDataSvc=t,this.mobileAppsSvc=l,this.router=e,this.accessControlSvc=i,this.msAuthSvc=a,this.configSvc=u,this.platform=o}resolve(n){const t=n.data.resourceType;if(this.viewerDataSvc.reset(n.paramMap.get("resourceId"),"none",n.queryParams.primaryCategory),!this.viewerDataSvc.resourceId)return null;if("true"===n.queryParamMap.get("preview")&&!this.accessControlSvc.authoringConfig.newDesign&&"quiz"!==t)return null;const l=window.location.href.includes("/author/")||"true"===n.queryParamMap.get("preview");return(l?this.contentSvc.fetchAuthoringContent(this.viewerDataSvc.resourceId):this.contentSvc.fetchHierarchyContent(this.viewerDataSvc.resourceId)).pipe(Object(e.a)(n=>{(n=n.result.content)&&n.gatingEnabled&&this.viewerDataSvc.setNode(n.gatingEnabled),"Deleted"!==n.status&&"Expired"!==n.status||this.router.navigate([`${l?"/author":"/app"}/toc/${n.identifier}/overview?primaryCategory=${n.primaryCategory}`]),n.ssoEnabled&&this.msAuthSvc.loginForSSOEnabledEmbed(this.configSvc.userProfile&&this.configSvc.userProfile.email||""),"unknown"===t?this.router.navigate([`${l?"/author":""}/viewer/${Object(o.n)(n.mimeType)}/${n.identifier}`]):t===Object(o.n)(n.mimeType)?this.viewerDataSvc.updateResource(n,null):this.viewerDataSvc.updateResource(null,{errorType:"mimeTypeMismatch",mimeType:n.mimeType,probableUrl:`${l?"/author":""}/viewer/${Object(o.n)(n.mimeType)}/${n.identifier}`})}),Object(i.a)(n=>{if(n=n.result.content,"unknown"===t)this.router.navigate([`${l?"/author":""}/viewer/${Object(o.n)(n.mimeType)}/${n.identifier}`]);else if(t===Object(o.n)(n.mimeType))return n.platform=this.platform,this.mobileAppsSvc.sendViewerData(n),{data:n,error:null};return{data:null,error:"mimeTypeMismatch"}}),Object(a.a)(n=>(this.viewerDataSvc.updateResource(null,n),Object(u.a)({error:n,data:null}))))}}}}]);