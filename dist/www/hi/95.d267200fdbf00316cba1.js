(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{EnkZ:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class i{}var u=e("pMnS"),a=e("SVse"),c=e("s7LF"),r=e("Mr+X"),o=e("Gi4r"),s=e("LvDl"),b=e("wd/R"),g=e("lJxs"),d=(e("g6cB"),e("aLkD"),e("JoiR"));let f=(()=>{class l{constructor(l){this.apiService=l}validateCertificate(l){const n={data:l,url:"/apis/public/v8/certificate/validate"};return this.apiService.post(n.url,n.data)}}return l.ngInjectableDef=t.Ub({factory:function(){return new l(t.Vb(d.a))},token:l,providedIn:"root"}),l})();class p{constructor(l,n,e,t,i,u){this.activatedRoute=l,this.certificateService=n,this.configService=e,this.domSanitizer=t,this.apiService=i,this.router=u,this.appIcon=null,this.error=!1,this.enableVerifyButton=!1,this.wrongCertificateCode=!1,this.showVideoThumbnail=!0,this.recipient="",this.courseName="",this.issuedOn="",this.urls={HIERARCHY:"course/v1/hierarchy",LEARNER_PREFIX:"/learner/"}}ngOnInit(){this.instance=s.upperCase(this.configService.rootOrg||"aastrika"),this.configService.instanceConfig&&(this.appIcon=this.domSanitizer.bypassSecurityTrustResourceUrl(this.configService.instanceConfig.logos.appTransparent))}certificateVerify(){this.loader=!0;const l={certId:this.activatedRoute.snapshot.params.uuid,accessCode:s.trim(this.certificateCode)};this.certificateService.validateCertificate(l).subscribe(l=>{const n=s.get(l,"response.json");this.loader=!1,this.viewCertificate=!0,this.recipient=s.get(n,"recipient.name"),this.courseName=s.get(n,"badge.name"),this.issuedOn=b(new Date(s.get(n,"issuedOn"))).format("DD MMM YYYY")},()=>{this.wrongCertificateCode=!0,this.loader=!1,this.codeInputField.nativeElement.value="",this.codeInputField.nativeElement.focus(),this.enableVerifyButton=!1})}getCodeLength(l){this.wrongCertificateCode=!1,this.enableVerifyButton=6===l.target.value.length}navigateToCoursesPage(){"android"===this.activatedRoute.snapshot.queryParams.clientId?window.location.href="/page/learn":this.router.navigate(["/page/learn"])}getCourseVideoUrl(l){this.getCollectionHierarchy(l).subscribe(l=>{this.watchVideoLink=s.get(l,"result.content.certVideoUrl"),this.watchVideoLink&&this.watchVideoLink.split("/").forEach(l=>{l.includes("do_")&&(this.contentId=l)})},l=>{})}getCollectionHierarchy(l,n={params:{}}){const e={url:`${this.urls.HIERARCHY}/${l}`,param:n.params};return this.apiService.get(e.url,e.param).pipe(Object(g.a)(l=>(this.collectionData=l.result.content,l)))}}var h=e("iInd"),m=e("88ff"),P=e("cUpR"),C=t.sb({encapsulation:0,styles:[[".certificate-button[_ngcontent-%COMP%]{background:#1c5d95;border-radius:50px;color:#fff;border:0;font-size:16px;line-height:19px;padding:10px}.player-thumbnail[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;background-size:cover;background-position:center;height:100%;cursor:pointer;border-radius:5px}  .certificate-area-player .contentViewerIframeShadow{height:100%!important}.sb-certificatePage-bg[_ngcontent-%COMP%]{position:fixed;left:0;right:0;height:100%;overflow:auto;background:var(--white);z-index:999}.sb-certificatePage[_ngcontent-%COMP%]{width:100%;min-height:35rem;margin:0 auto 3rem;text-align:center;position:relative;display:flex;flex-direction:column}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(var(--rc-rgba-white),.5);z-index:2;display:none}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-form[_ngcontent-%COMP%], .sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-header[_ngcontent-%COMP%]{padding:1rem}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-desc[_ngcontent-%COMP%]{background-color:var(--rc-E5EDF5);padding:1.5rem;margin:0;z-index:2}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-loader[_ngcontent-%COMP%]{display:none}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-holder-details[_ngcontent-%COMP%]{padding:1rem}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-desc[_ngcontent-%COMP%]   .sb-certificatePage-desc-img[_ngcontent-%COMP%]{max-width:12.3125rem;margin:0 auto}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-logo[_ngcontent-%COMP%]{height:3.5rem}img[_ngcontent-%COMP%]{vertical-align:middle;border-style:none}.mb-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-label[_ngcontent-%COMP%]{font-weight:400;font-size:.75rem;line-height:1.0625rem}label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.5rem;font-size:.8125rem;font-weight:700}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-holder-details[_ngcontent-%COMP%]   .sb-certificatePage-holder-desc.sb-certificatePage-holder-desc-primary[_ngcontent-%COMP%]{color:#024f9d;margin:0}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-holder-details[_ngcontent-%COMP%]   .sb-certificatePage-holder-name[_ngcontent-%COMP%]{font-size:1.375rem;line-height:1.875rem;font-weight:700;color:var(--gray-800);text-align:center;margin:.5rem 0 1.5rem}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-holder-details[_ngcontent-%COMP%]   .sb-certificatePage-holder-desc[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.125rem;color:var(--gray-800);margin:0 0 .875rem}.d-block[_ngcontent-%COMP%], .show[_ngcontent-%COMP%]{display:block!important}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:13.4375rem;margin:0 auto 2.25rem}.sb-field[_ngcontent-%COMP%]   [disabled][_ngcontent-%COMP%], .sb-field.disabled[_ngcontent-%COMP%]{background-color:var(--gray-100);border:.0625rem solid var(--gray-100);opacity:1;pointer-events:none}.sb-certificatePage.sb-certificatePage-flexHeight[_ngcontent-%COMP%]{min-height:auto;margin-bottom:0}.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-holder-details[_ngcontent-%COMP%]   .sb-btn-arrow[_ngcontent-%COMP%]{border-top:.0625rem solid var(--gray-200);border-bottom:.0625rem solid var(--gray-200)}.loading[_ngcontent-%COMP%]   .sb-certificatePage-overlay[_ngcontent-%COMP%]{display:block}.loading[_ngcontent-%COMP%]   .sb-certificatePage-desc-img[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]   .sb-certificatePage-loader[_ngcontent-%COMP%]{display:block;z-index:4;position:relative;color:#024f9d;font-weight:700}.error[_ngcontent-%COMP%]   .sb-certificatePage-label[_ngcontent-%COMP%]{display:none}.error[_ngcontent-%COMP%]   .sb-certificatePage-label[_ngcontent-%COMP%]   .label-error[_ngcontent-%COMP%]{display:block}@media (min-width:576px){.sb-certificatePage[_ngcontent-%COMP%]   .sb-certificatePage-desc[_ngcontent-%COMP%]{margin:0 1rem}.sb-certificatePage[_ngcontent-%COMP%]{max-width:20rem}}"]],data:{}});function v(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,1,"label",[["class","sb-certificatePage-label"],["for","certificate"]],null,null,null,null,null)),(l()(),t.Ob(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,"Enter the certificate code here")}))}function M(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,1,"label",[["class","sb-field-error-label sb-certificatePage-label sb-color-error"],["for","certificate"]],null,null,null,null,null)),(l()(),t.Ob(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,"Enter a valid certificate code")}))}function O(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,28,"div",[["class","sb-certificatePage"]],[[2,"loading",null],[2,"error",null]],null,null,null,null)),(l()(),t.ub(1,0,null,null,0,"div",[["class","sb-certificatePage-overlay"]],null,null,null,null,null)),(l()(),t.ub(2,0,null,null,1,"div",[["class","sb-certificatePage-header"]],null,null,null,null,null)),(l()(),t.ub(3,0,null,null,0,"img",[["alt","KarmYogi Logo"],["class","sb-certificatePage-logo"]],[[8,"src",4]],null,null,null,null)),(l()(),t.ub(4,0,null,null,5,"div",[["class","sb-certificatePage-desc mb-auto m-0"]],null,null,null,null,null)),(l()(),t.ub(5,0,null,null,3,"div",[["class","sb-certificatePage-loader"]],null,null,null,null,null)),(l()(),t.ub(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Ob(-1,null,[" Please wait! We are verifying certificate.. "])),(l()(),t.ub(8,0,null,null,0,"img",[["alt","Loader"],["class","sb-certificatePage-loader-img"],["src","fusion-assets/images/loader.gif"]],null,null,null,null,null)),(l()(),t.ub(9,0,null,null,0,"img",[["alt","Certificate Desc"],["class","sb-certificatePage-desc-img"],["src","fusion-assets/images/certificate.png"]],null,null,null,null,null)),(l()(),t.ub(10,0,null,null,18,"div",[["class","sb-certificatePage-form mb-auto"]],null,null,null,null,null)),(l()(),t.ub(11,0,null,null,17,"div",[["class","sb-form-field-group"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,v)),t.tb(13,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,M)),t.tb(15,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.ub(16,0,null,null,12,"div",[["class","sb-certificatePage-field sb-field"],["id","certificate"]],null,null,null,null,null)),(l()(),t.ub(17,0,[[1,0],["codeInputField",1]],null,9,"input",[["autofocus",""],["class","form-control input-box text-center"],["maxlength","6"],["name","certificate"],["pattern","^[-a-zA-Z0-9@\\.+_]+$"],["required",""],["type","text"]],[[1,"required",0],[1,"maxlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"keydown.space"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t.Gb(l,18)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t.Gb(l,18).onTouched()&&i),"compositionstart"===n&&(i=!1!==t.Gb(l,18)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t.Gb(l,18)._compositionEnd(e.target.value)&&i),"keyup"===n&&(i=!1!==u.getCodeLength(e)&&i),"keydown.space"===n&&(i=!1!==e.preventDefault()&&i),"ngModelChange"===n&&(i=!1!==(u.certificateCode=e)&&i),i}),null,null)),t.tb(18,16384,null,0,c.d,[t.D,t.k,[2,c.a]],null,null),t.tb(19,16384,null,0,c.B,[],{required:[0,"required"]},null),t.tb(20,540672,null,0,c.n,[],{maxlength:[0,"maxlength"]},null),t.tb(21,540672,null,0,c.y,[],{pattern:[0,"pattern"]},null),t.Lb(1024,null,c.p,(function(l,n,e){return[l,n,e]}),[c.B,c.n,c.y]),t.Lb(1024,null,c.q,(function(l){return[l]}),[c.d]),t.tb(24,671744,null,0,c.v,[[8,null],[6,c.p],[8,null],[6,c.q]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Lb(2048,null,c.r,null,[c.v]),t.tb(26,16384,null,0,c.s,[[4,c.r]],null,null),(l()(),t.ub(27,0,null,null,1,"button",[["class","form-group certificate-button mt-4 cursor-pointer width-100 "],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.certificateVerify()&&t),t}),null,null)),(l()(),t.Ob(28,null,[" "," "]))],(function(l,n){var e=n.component;l(n,13,0,!e.wrongCertificateCode),l(n,15,0,e.wrongCertificateCode),l(n,19,0,""),l(n,20,0,"6"),l(n,21,0,"^[-a-zA-Z0-9@\\.+_]+$"),l(n,24,0,"certificate",e.certificateCode)}),(function(l,n){var e=n.component;l(n,0,0,e.loader,e.error),l(n,3,0,e.appIcon),l(n,17,0,t.Gb(n,19).required?"":null,t.Gb(n,20).maxlength?t.Gb(n,20).maxlength:null,t.Gb(n,21).pattern?t.Gb(n,21).pattern:null,t.Gb(n,26).ngClassUntouched,t.Gb(n,26).ngClassTouched,t.Gb(n,26).ngClassPristine,t.Gb(n,26).ngClassDirty,t.Gb(n,26).ngClassValid,t.Gb(n,26).ngClassInvalid,t.Gb(n,26).ngClassPending),l(n,27,0,!e.enableVerifyButton),l(n,28,0,"Verify")}))}function _(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,1,"p",[["class","sb-certificatePage-holder-desc sb-certificatePage-holder-desc-primary"]],null,null,null,null,null)),(l()(),t.Ob(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,"Certificate issued to ")}))}function y(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,1,"h4",[["class","sb-certificatePage-holder-name"]],null,null,null,null,null)),(l()(),t.Ob(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.recipient)}))}function w(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,7,"p",[["class","sb-certificatePage-holder-desc"]],null,null,null,null,null)),(l()(),t.Ob(1,null,[" "," "])),(l()(),t.ub(2,0,null,null,1,"strong",[["class","d-block"]],null,null,null,null,null)),(l()(),t.Ob(3,null,["“","”"])),(l()(),t.ub(4,0,null,null,3,"span",[["class","d-block"]],null,null,null,null,null)),(l()(),t.Ob(-1,null,[" on Aastrika Sphere on "])),(l()(),t.ub(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Ob(7,null,[" ",""]))],null,(function(l,n){var e=n.component;l(n,1,0,"For successfully completing the course, "),l(n,3,0,e.courseName||"CourseName"),l(n,7,0,e.issuedOn)}))}function k(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,0,"div",[["class","player-thumbnail"]],null,[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.playContent(i.contentId)&&t),t}),null,null))],null,null)}function I(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,0,"div",[["class","h-100 certificate-area-player"]],null,null,null,null,null))],null,null)}function x(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,9,"div",[["class","sb-mobileDevice text-center"]],null,null,null,null,null)),(l()(),t.ub(1,0,null,null,8,"div",[["class","sb-mobileDevice-screen"]],null,null,null,null,null)),(l()(),t.ub(2,0,null,null,3,"div",[["class","sb-mobileDevice-sensors"]],null,null,null,null,null)),(l()(),t.ub(3,0,null,null,0,"div",[["class","sb-mobileDevice-sensor"]],null,null,null,null,null)),(l()(),t.ub(4,0,null,null,0,"div",[["class","sb-mobileDevice-speaker"]],null,null,null,null,null)),(l()(),t.ub(5,0,null,null,0,"div",[["class","sb-mobileDevice-sensor"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,k)),t.tb(7,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,I)),t.tb(9,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,7,0,e.showVideoThumbnail),l(n,9,0,!e.showVideoThumbnail)}),null)}function E(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,20,"div",[],null,null,null,null,null)),(l()(),t.ub(1,0,null,null,10,"div",[["class","sb-certificatePage sb-certificate-view sb-certificatePage-flexHeight"]],null,null,null,null,null)),(l()(),t.ub(2,0,null,null,1,"div",[["class","sb-certificatePage-header"]],null,null,null,null,null)),(l()(),t.ub(3,0,null,null,0,"img",[["alt","KarmYogi Logo"],["class","sb-certificatePage-logo"]],[[8,"src",4]],null,null,null,null)),(l()(),t.ub(4,0,null,null,7,"div",[["class","sb-certificatePage-holder-details mb-auto"]],null,null,null,null,null)),(l()(),t.ub(5,0,null,null,0,"img",[["alt","Badge"],["class","sb-icon-badge mt-24 mb-8"],["src","fusion-assets/images/badge.svg"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,_)),t.tb(7,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,y)),t.tb(9,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,w)),t.tb(11,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,x)),t.tb(13,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.ub(14,0,null,null,6,"div",[["class","sb-certificatePage sb-certificate-view min-height-auto"]],null,null,null,null,null)),(l()(),t.ub(15,0,null,null,5,"div",[["class","sb-certificatePage-holder-details"]],null,null,null,null,null)),(l()(),t.ub(16,0,null,null,4,"a",[["class","mt-32 width-100 d-flex flex-jc-space-between p-8 cursor-pointer sb-btn-arrow"],["title","Return to Courses"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.navigateToCoursesPage()&&t),t}),null,null)),(l()(),t.Ob(17,null,[" "," "])),(l()(),t.ub(18,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,r.b,r.a)),t.tb(19,9158656,null,0,o.b,[t.k,o.d,[8,null],[2,o.a]],null,null),(l()(),t.Ob(-1,0,["arrow_forward_ios"]))],(function(l,n){var e=n.component;l(n,7,0,e.recipient),l(n,9,0,e.recipient),l(n,11,0,e.courseName&&e.issuedOn),l(n,13,0,e.watchVideoLink),l(n,19,0)}),(function(l,n){l(n,3,0,n.component.appIcon),l(n,17,0,"Return to Courses "),l(n,18,0,t.Gb(n,19).inline,"primary"!==t.Gb(n,19).color&&"accent"!==t.Gb(n,19).color&&"warn"!==t.Gb(n,19).color)}))}function G(l){return t.Qb(0,[t.Mb(671088640,1,{codeInputField:0}),(l()(),t.ub(1,0,null,null,4,"div",[["class","sb-certificatePage-bg height-adjust"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,O)),t.tb(3,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,E)),t.tb(5,16384,null,0,a.p,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,!e.viewCertificate),l(n,5,0,e.viewCertificate)}),null)}function V(l){return t.Qb(0,[(l()(),t.ub(0,0,null,null,1,"app-certificate-details",[],null,null,null,G,C)),t.tb(1,114688,null,0,p,[h.a,f,m.a,P.b,d.a,h.o],null,null)],(function(l,n){l(n,1,0)}),null)}var D=t.qb("app-certificate-details",p,V,{},{},[]),S=e("IheW");class L{}var R=e("IP0z"),z=e("Xd0L");class Q{}e.d(n,"RouteCertificateModuleNgFactory",(function(){return F}));var F=t.rb(i,[],(function(l){return t.Db([t.Eb(512,t.j,t.bb,[[8,[u.a,D]],[3,t.j],t.w]),t.Eb(4608,a.r,a.q,[t.t,[2,a.N]]),t.Eb(4608,c.F,c.F,[]),t.Eb(4608,d.a,d.a,[S.c]),t.Eb(4608,f,f,[d.a]),t.Eb(1073742336,a.c,a.c,[]),t.Eb(1073742336,h.s,h.s,[[2,h.x],[2,h.o]]),t.Eb(1073742336,L,L,[]),t.Eb(1073742336,c.E,c.E,[]),t.Eb(1073742336,c.m,c.m,[]),t.Eb(1073742336,R.a,R.a,[]),t.Eb(1073742336,z.l,z.l,[[2,z.d],[2,P.f]]),t.Eb(1073742336,o.c,o.c,[]),t.Eb(1073742336,Q,Q,[]),t.Eb(1073742336,i,i,[]),t.Eb(256,t.t,"hi",[]),t.Eb(1024,h.m,(function(){return[[{path:":uuid",component:p}]]}),[])])}))}}]);